{"version":3,"sources":["app.js","foundation.core.js","foundation.util.box.js","foundation.util.keyboard.js","foundation.util.mediaQuery.js","foundation.util.motion.js","foundation.util.nest.js","foundation.util.timerAndImageLoader.js","foundation.util.touch.js","foundation.util.triggers.js","foundation.accordion.js","foundation.interchange.js","foundation.tabs.js","flickity.pkgd.min.js","flickitybg-lazyload.js","jquery-autocomplete.js","jquery.magnific-popup.js","lazyload.js","what-input.js","z-menubar.js","isotope.pkgd.js","stickyfill.min.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","onLoadeddata","event","cell","$gallery","flickity","target","element","toggleSearchClasses","$","toggleClass","removeClass","setTimeout","setScrollParallax","title","style","setProperty","document","body","scrollTop","documentElement","speed","window","requestAnimationFrame","_typeof","Symbol","iterator","constructor","prototype","functionName","fn","undefined","Function","name","funcNameRegex","results","exec","toString","length","trim","parseValue","str","isNaN","parseFloat","hyphenate","replace","toLowerCase","FOUNDATION_VERSION","Foundation","version","_plugins","_uuids","rtl","attr","plugin","className","attrName","this","registerPlugin","pluginName","uuid","GetYoDigits","$element","data","trigger","push","unregisterPlugin","splice","indexOf","removeAttr","removeData","prop","reInit","plugins","isJQ","each","_init","type","_this","fns","object","plgs","forEach","p","foundation","string","keys","err","console","error","namespace","Math","round","pow","random","slice","reflow","elem","i","$elem","find","addBack","$el","opts","warn","split","e","opt","map","el","er","getFnName","transitionend","end","transitions","transition","WebkitTransition","MozTransition","OTransition","createElement","t","triggerHandler","util","throttle","func","delay","timer","context","args","arguments","apply","method","$meta","$noJS","appendTo","head","MediaQuery","Array","call","plugClass","ReferenceError","Date","now","getTime","vendors","vp","cancelAnimationFrame","test","navigator","userAgent","lastTime","callback","nextTime","max","clearTimeout","performance","start","bind","oThis","aArgs","fToBind","fNOP","fBound","concat","jQuery","ImNotTouchingYou","parent","lrOnly","tbOnly","top","bottom","left","right","eleDims","GetDimensions","parDims","offset","height","width","windowDims","allDirs","Error","rect","getBoundingClientRect","parRect","parentNode","winRect","winY","pageYOffset","winX","pageXOffset","parentDims","GetOffsets","anchor","position","vOffset","hOffset","isOverflow","$eleDims","$anchorDims","Box","getKeyCodes","kcs","k","kc","keyCodes","9","13","27","32","37","38","39","40","commands","Keyboard","parseKey","which","keyCode","String","fromCharCode","toUpperCase","shiftKey","ctrlKey","altKey","handleKey","component","functions","cmds","command","commandList","ltr","extend","returnValue","handled","unhandled","findFocusable","filter","is","register","componentName","trapFocus","$focusable","$firstFocusable","eq","$lastFocusable","on","preventDefault","focus","releaseFocus","off","parseStyleToObject","styleObject","reduce","ret","param","parts","val","decodeURIComponent","hasOwnProperty","isArray","queries","current","namedQueries","self","extractedStyles","css","_getCurrentSize","_watcher","atLeast","size","query","get","matchMedia","matches","matched","newSize","currentSize","styleMedia","media","script","getElementsByTagName","info","id","insertBefore","getComputedStyle","currentStyle","matchMedium","text","styleSheet","cssText","textContent","Move","duration","move","ts","prog","anim","animate","isIn","animation","cb","finish","hide","reset","transitionDuration","initClass","activeClass","initClasses","activeClasses","addClass","show","offsetWidth","one","Motion","animateIn","animateOut","Nest","Feather","menu","items","role","subMenuClass","subItemClass","hasSubClass","$item","$sub","children","aria-haspopup","aria-label","aria-expanded","data-submenu","aria-hidden","Burn","Timer","options","nameSpace","remain","isPaused","restart","infinite","pause","onImagesLoaded","images","singleImageLoaded","unloaded","complete","readyState","src","onTouchEnd","removeEventListener","onTouchMove","isMoving","spotSwipe","dir","x","touches","pageX","dx","pageY","startPosX","elapsedTime","startTime","abs","moveThreshold","timeThreshold","onTouchStart","startPosY","addEventListener","init","enabled","special","swipe","setup","noop","addTouch","handleTouch","simulatedEvent","changedTouches","first","eventTypes","touchstart","touchmove","touchend","MouseEvent","bubbles","cancelable","screenX","screenY","clientX","clientY","createEvent","initMouseEvent","dispatchEvent","checkListeners","eventsListener","resizeListener","scrollListener","closemeListener","yetiBoxes","plugNames","listeners","join","pluginId","not","debounce","$nodes","MutationObserver","nodes","querySelectorAll","listeningElementsMutation","mutationRecordsList","$target","attributeName","closest","elementObserver","observe","attributes","childList","characterData","subtree","attributeFilter","prefixes","triggers","stopPropagation","fadeOut","IHearYou","_createClass","defineProperties","props","descriptor","protoProps","staticProps","Accordion","defaults","ENTER","SPACE","ARROW_DOWN","ARROW_UP","_this2","$tabs","idx","$content","linkId","aria-controls","aria-selected","aria-labelledby","$initActive","firstTimeInit","down","_checkDeepLink","location","hash","$link","$anchor","hasClass","deepLinkSmudge","load","deepLinkSmudgeDelay","deepLink","_events","$tabContent","toggle","next","$a","multiExpand","previous","prev","up","updateHistory","history","pushState","replaceState","firstTime","_this3","$currentActive","slideDown","slideSpeed","$aunts","siblings","allowAllClosed","slideUp","stop","Interchange","rules","currentPath","_addBreakpoints","_generateRules","_reflow","match","rule","path","SPECIAL_QUERIES","rulesList","nodeName","background-image","response","html","landscape","portrait","retina","Tabs","ARROW_RIGHT","ARROW_LEFT","$tabTitles","linkClass","isActive","linkActiveClass","autoFocus","matchHeight","$images","_setHeight","selectTab","_addKeyHandler","_addClickHandler","_setHeightMqHandler","_handleTabChange","$prevElement","$nextElement","$elements","wrapOnKeys","last","min","open","historyHandled","activeCollapse","_collapseTab","$oldTab","$tabLink","$targetContent","_openTab","panelActiveClass","$target_anchor","idStr","panelClass","panel","visibility","display","temp","factory","define","amd","module","exports","require","jQueryBridget","PluginClass","methodCall","$elems","methodName","pluginMethodStr","logError","charAt","plainCall","option","isPlainObject","arg0","arraySlice","updateJQuery","bridget","message","global","EvEmitter","proto","eventName","listener","events","once","onceEvents","_onceEvents","onceListeners","index","emitEvent","isOnce","allOff","getSize","getStyleSize","num","isValid","getZeroSize","innerWidth","innerHeight","outerWidth","outerHeight","measurementsLength","measurement","measurements","getStyle","isSetup","div","padding","borderStyle","borderWidth","boxSizing","appendChild","isBoxSizeOuter","removeChild","querySelector","nodeType","offsetHeight","isBorderBox","paddingWidth","paddingLeft","paddingRight","paddingHeight","paddingTop","paddingBottom","marginWidth","marginLeft","marginRight","marginHeight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderHeight","borderTopWidth","borderBottomWidth","isBorderBoxSizeOuter","styleWidth","styleHeight","matchesSelector","matchesMethod","ElemProto","Element","prefix","selector","fizzyUIUtils","utils","a","b","modulo","makeArray","isArrayLike","removeFrom","ary","getParent","getQueryElement","handleEvent","filterFindElements","elems","ffElems","HTMLElement","childElems","debounceMethod","_class","threshold","timeoutName","timeout","docReady","toDashed","$1","$2","htmlInit","WidgetClass","dashedNamespace","dataAttr","dataAttrElems","jsDashElems","dataOptionsAttr","getAttribute","JSON","parse","Flickity","Cell","create","setAttribute","shift","destroy","side","originSide","removeAttribute","setPosition","updateTarget","renderPosition","setDefaultTarget","marginProperty","cellAlign","getPositionValue","wrapShift","slideableWidth","remove","Slide","isOriginLeft","cells","addCell","beginMargin","firstMargin","endMargin","lastCell","getLastCell","lastMargin","slideWidth","select","changeSelected","unselect","isSelected","classMethod","classList","getCellElements","animatePrototype","startAnimation","isAnimating","restingFrames","applyDragForce","applySelectedAttraction","previousX","integratePhysics","positionSlider","settle","wrapAround","shiftWrapCells","cursorPosition","rightToLeft","slider","transform","firstSlide","slides","positionX","progress","slidesWidth","positionSliderAtSelected","selectedSlide","velocity","percentPosition","isPointerDown","isFreeScrolling","selectedIndex","beforeGap","_shiftCells","beforeShiftCells","afterGap","afterShiftCells","gap","cellShift","_unshiftCells","getFrictionFactor","applyForce","force","getRestingPosition","isDraggable","dragVelocity","dragX","dragForce","dragDown","distance","selectedAttraction","_Flickity","moveElements","toElem","queryElement","flickityGUID","instances","_create","GUID","accessibility","freeScrollFriction","friction","namespaceJQueryEvents","resize","setGallerySize","createMethods","guid","viewport","_createSlider","watchCSS","activate","add","cellElems","_filterFindCellElements","reloadCells","tabIndex","initialIndex","isInitActivated","cellSelector","_makeCells","positionCells","_getWrapShiftCells","cellElem","getLastSlide","_sizeCells","_positionCells","maxCellHeight","cellX","startCell","len","updateSlides","_containSlides","slide","nextMargin","canCellFit","_getCanCellFit","updateSelectedSlide","groupCells","number","parseInt","percentMatch","percent","reposition","setCellAlign","cellAlignShorthands","center","shorthand","adaptiveHeight","gapX","cellIndex","_getGapCells","increment","contain","isRightToLeft","contentWidth","isContentSmaller","beginBound","endBound","emitArgs","$event","jQEvent","Event","isWrap","isInstant","_wrapSelect","prevIndex","isWrapping","wrapIndex","delta","backWrapDelta","forewardWrapDelta","isDragSelect","unselectSelectedSlide","selectedCells","selectedElements","selectedCell","selectedElement","selectCell","queryCell","getCellSlideIndex","getCell","getCells","getParentCell","getAdjacentCellElements","adjCount","slideIndex","uiChange","childUIPointerDown","onresize","watchOption","afterContent","content","deactivate","onkeydown","isNotFocused","activeElement","handler","keyboardHandlers","leftMethod","rightMethod","prevScrollY","scrollTo","setJQuery","jq","Unipointer","bindStartEvent","_bindStartEvent","unbindStartEvent","isAdd","bindMethod","startEvent","PointerEvent","getTouch","touch","identifier","pointerIdentifier","onmousedown","button","_pointerDown","ontouchstart","onpointerdown","pointer","pointerId","pointerDown","_bindPostStartEvents","postStartEvents","mousedown","pointerdown","_boundPointerEvents","_unbindPostStartEvents","onmousemove","_pointerMove","onpointermove","ontouchmove","pointerMove","onmouseup","_pointerUp","onpointerup","ontouchend","_pointerDone","pointerUp","_pointerReset","pointerDone","onpointercancel","_pointerCancel","ontouchcancel","pointerCancel","getPointerPoint","y","Unidragger","bindHandles","_bindHandles","unbindHandles","touchAction","_touchActionValue","handles","handle","isOkay","okayPointerDown","pointerDownPointer","pointerDownBlur","cursorNodes","TEXTAREA","INPUT","SELECT","OPTION","clickTypes","radio","checkbox","submit","image","file","isCursorNode","isClickType","focused","canBlur","blur","moveVector","_dragPointerMove","_dragMove","isDragging","hasDragStarted","_dragStart","_dragPointerUp","_dragEnd","_staticClick","isPreventingClicks","dragStart","dragMove","dragEnd","onclick","isIgnoringMouseUp","staticClick","getScrollPosition","draggable","dragThreshold","isTouch","isTouchmoveScrollCanceled","_createDrag","onActivateDrag","_uiChangeDrag","_childUIPointerDownDrag","unbindDrag","updateDraggable","onDeactivateDrag","bindDrag","pointerDownFocus","_pointerDownDefault","_pointerDownPreventDefault","pointerDownScroll","focusNodes","isFocusNode","isTouchStart","isTouchPointer","pointerType","isTouchScrolling","dragStartPosition","previousDragX","direction","originBound","dragMoveTime","freeScroll","dragEndRestingSelect","restingX","dragEndBoostSelect","getSlideDistance","positiveResting","_getClosestResting","negativeResting","minDistance","Infinity","condition","d","md","isWrapAround","wrap","floor","clickedCell","onscroll","scroll","scrollMoveX","scrollMoveY","TapListener","bindTap","unbindTap","tapElement","pointerPoint","boundingRect","scrollX","scrollY","isInside","PrevNextButton","getArrowMovements","shape","x0","x1","y1","x2","y2","x3","svgURI","isEnabled","isPrevious","leftDirection","isLeft","disable","svg","createSVG","onTap","update","createElementNS","pathMovements","arrowShape","enable","disabled","lastIndex","boundIndex","prevNextButtons","_createPrevNextButtons","prevButton","nextButton","activatePrevNextButtons","deactivatePrevNextButtons","PageDots","holder","dots","setDots","addDots","removeDots","count","fragment","createDocumentFragment","newDots","dot","updateSelected","selectedDot","pageDots","_createPageDots","activatePageDots","updateSelectedPageDots","updatePageDots","deactivatePageDots","Player","state","onVisibilityChange","visibilityChange","onVisibilityPlay","visibilityPlay","play","isPageHidden","hidden","tick","time","autoPlay","clear","unpause","pauseAutoPlayOnHover","_createPlayer","player","activatePlayer","stopPlayer","deactivatePlayer","playPlayer","pausePlayer","unpausePlayer","onmouseenter","onmouseleave","getCellsFragment","insert","isAppend","insertCellElement","endCells","cellChange","append","prepend","minCellIndex","cellSizeChange","changedCellIndex","isPositioningSlider","prevSelectedElem","getCellLazyImages","lazyloadAttr","srcAttr","srcsetAttr","lazySelector","imgs","LazyLoader","img","_createLazyload","lazyLoad","lazyImages","lazyCellImages","srcset","onload","onerror","lerp","_createAsNavFor","activateAsNavFor","deactivateAsNavFor","destroyAsNavFor","asNavForOption","asNavFor","setNavCompanion","companion","navCompanion","onNavCompanionSelect","navCompanionSelect","onNavStaticClick","firstIndex","selectIndex","removeNavSelectedElements","navSelectedElements","changeNavSelectedClass","navElem","cellElement","imagesLoaded","ImagesLoaded","onAlways","queryElem","elements","getImages","jqDeferred","Deferred","check","LoadingImage","Background","url","Image","addElementImages","addImage","background","addElementBackgroundImages","elementNodeTypes","childImgs","child","1","11","reURL","backgroundImage","addBackground","loadingImage","onProgress","progressedCount","hasAnyBroken","isLoaded","notify","debug","log","isComplete","jqMethod","getIsImageComplete","confirm","naturalWidth","proxyImage","unbindEvents","makeJQueryPlugin","promise","_createImagesLoaded","onImagesLoadedProgress","BgLazyLoader","_createBgLazyLoad","bgLazyLoad","bgLazyLoadElem","j","Autocomplete","that","ajaxSettings","autoSelectFirst","serviceUrl","lookup","onSelect","minChars","maxHeight","deferRequestBy","params","formatResult","delimiter","zIndex","noCache","onSearchStart","onSearchComplete","onSearchError","preserveInput","containerClass","tabDisabled","dataType","currentRequest","triggerSelectOnValidInput","preventBadQueries","lookupFilter","suggestion","originalQuery","queryLowerCase","paramName","transformResult","parseJSON","showNoSuggestionNotice","noSuggestionNotice","orientation","forceFixPosition","suggestions","badQueries","currentValue","intervalId","cachedResponse","onChangeInterval","onChange","isLocal","suggestionsContainer","noSuggestionsContainer","classes","selected","hint","hintValue","selection","initialize","setOptions","escapeRegExChars","createNode","ESC","TAB","RETURN","LEFT","UP","RIGHT","DOWN","pattern","RegExp","killerFn","container","suggestionSelector","killSuggestions","disableKillerFn","fixPositionCapture","visible","fixPosition","onKeyPress","onKeyUp","onBlur","onFocus","onValueChange","enableKillerFn","abortAjax","abort","suppliedOptions","verifySuggestionsFormat","validateOrientation","max-height","z-index","clearCache","clearInterval","$container","containerParent","siteSearchDiv","containerHeight","styles","viewPortHeight","topOverflow","bottomOverflow","parentOffsetDiff","opacity","offsetParent","stopKillSuggestions","setInterval","isCursorAtEnd","range","valLength","selectionStart","createRange","moveStart","suggest","onHint","selectHint","moveUp","moveDown","stopImmediatePropagation","findBestHint","getQuery","onInvalidateSelection","isExactMatch","getSuggestions","getSuggestionsLocal","limit","lookupLimit","grep","q","cacheKey","ignoreParams","isFunction","isBadQuery","ajax","done","result","processResponse","fail","jqXHR","textStatus","errorThrown","onHide","signalHint","noSuggestions","category","groupBy","classSelected","beforeRender","formatGroup","currentCategory","adjustContainerWidth","detach","empty","bestMatch","foundMatch","substr","fallback","inArray","activeItem","adjustScroll","offsetTop","upperBound","lowerBound","heightDelta","getValue","onSelectCallback","dispose","autocomplete","devbridgeAutocomplete","dataKey","inputElement","Zepto","mfp","_prevStatus","_document","_prevContentType","_wrapClasses","_currPopupType","CLOSE_EVENT","BEFORE_CLOSE_EVENT","AFTER_CLOSE_EVENT","BEFORE_APPEND_EVENT","MARKUP_PARSE_EVENT","OPEN_EVENT","CHANGE_EVENT","NS","EVENT_NS","READY_CLASS","REMOVING_CLASS","PREVENT_CLOSE_CLASS","MagnificPopup","_isJQ","_window","_mfpOn","f","ev","_getEl","raw","innerHTML","_mfpTrigger","st","callbacks","_getCloseBtn","currTemplate","closeBtn","closeMarkup","tClose","_checkInstance","magnificPopup","supportsTransitions","s","v","pop","appVersion","isLowIE","isIE8","all","isAndroid","isIOS","supportsTransition","probablyMobile","popupsCache","isObj","toArray","item","parsed","isOpen","updateItemHTML","types","mainEl","fixedContentPos","modal","closeOnContentClick","closeOnBgClick","showCloseBtn","enableEscapeKey","bgOverlay","close","_checkIfClose","contentContainer","preloader","tLoading","modules","n","closeBtnInside","template","values","close_replaceWith","alignTop","overflow","overflowY","overflowX","fixedBgPos","updateSize","windowHeight","wH","windowStyles","_hasScrollBar","_getScrollbarSize","isIE7","classesToadd","mainClass","_addClassToMFP","prependTo","_lastFocusedEl","_setFocus","_onFocusIn","removalDelay","_close","classesToRemove","_removeClassFromMFP","currItem","autoFocusLast","prevHeight","winHeight","zoomLevel","clientWidth","parseEl","markup","newContent","appendContent","preloaded","tagName","addGroup","eHandler","mfpEl","_openClick","eName","delegate","midClick","metaKey","disableOn","updateStatus","status","closeOnContent","closeOnBg","contains","cName","scrollHeight","_parseMarkup","arr","replaceWith","scrollbarSize","scrollDiv","registerModule","jqEl","itemOpts","_hiddenClass","_inlinePlaceholder","_lastInlineElement","INLINE_NS","_putInlineElementsBack","after","hiddenClass","tNotFound","initInline","getInline","inlineSt","inline","inlineElement","_ajaxCur","AJAX_NS","_removeAjaxCursor","_destroyAjaxRequest","req","settings","cursor","tError","initAjax","getAjax","success","xhr","finished","loadError","_imgInterval","_getTitle","titleSrc","verticalFit","initImage","imgSt","ns","resizeImage","decr","_onImageHasSize","hasSize","isCheckingImgSize","imgHidden","findImageSize","counter","mfpSetInterval","getImage","guard","onLoadComplete","loaded","onLoadError","alt","clone","img_replaceWith","loading","hasMozTransform","getHasMozTransform","MozTransform","easing","opener","initZoom","zoomSt","zoom","openTimeout","animatedImg","getElToAnimate","newImg","cssObj","-webkit-backface-visibility","showMainContent","_allowZoom","_getItemToZoom","_getOffset","isLarge","IFRAME_NS","_emptyPage","_fixIframeBugs","isShowing","srcAction","patterns","youtube","vimeo","gmaps","initIframe","prevType","newType","getIframe","embedSrc","iframeSt","iframe","lastIndexOf","dataObj","_getLoopedId","numSlides","_replaceCurrTotal","curr","total","arrowMarkup","preload","navigateByImgClick","arrows","tPrev","tNext","tCounter","initGallery","gSt","gallery","l","arrowLeft","arrowRight","click","_preloadTimeout","preloadNearbyImages","goTo","newIndex","preloadBefore","preloadAfter","_preloadItem","RETINA_NS","replaceSrc","m","ratio","initRetina","devicePixelRatio","max-width","_extends","assign","source","LazyLoad","defaultSettings","elements_selector","data_src","data_srcset","class_loading","class_loaded","class_error","class_initial","skip_invisible","callback_load","callback_error","callback_set","callback_processed","isBot","callCallback","argument","getTopOffset","ownerDocument","clientTop","isBelowViewport","fold","getLeftOffset","clientLeft","isAtRightOfViewport","documentWidth","isAboveViewport","isAtLeftOfViewport","isInsideViewport","createInstance","classObj","CustomEvent","detail","autoInitialize","optsLength","dataPrefix","getData","attribute","setData","setSourcesForPicture","srcsetDataAttribute","parentElement","pictureChild","sourceSrcset","setSources","srcDataAttribute","elementSrc","imgSrcset","supportsClassList","instanceSettings","_settings","_queryOriginNode","_previousLoopTime","_loopTimeout","_boundHandleScroll","handleScroll","_isFirstLoop","_reveal","errorCallback","loadCallback","_loopThroughElements","_elements","elementsLength","processedIndexes","firstLoop","_stopScrollHandler","_purgeElements","elementsToPurge","_startScrollHandler","_isHandlingScroll","remainingTime","autoInitOptions","lazyLoadOptions","root","__webpack_require__","moduleId","installedModules","c","docElem","currentInput","currentIntent","formInputs","ignoreMap","inputMap","keyup","mousemove","MSPointerDown","MSPointerMove","pointermove","inputTypes","isBuffering","pointerMap","2","3","4","touchTimer","setUp","detectWheel","addListeners","setInput","updateInput","setIntent","MSPointerEvent","touchBuffer","eventKey","activeElem","activeInput","onmousewheel","ask","setup_navigation","keyCodeMap","48","49","50","51","52","53","54","55","56","57","59","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","96","97","98","99","100","101","102","103","104","105","menuHoverClass","top_level_links","hover","keydown","parents","substring","links","found","nextAll","prevAll","Outlayer","Item","isEmptyObj","layout","toDashedAll","docElemStyle","transitionProperty","transformProperty","transitionEndEvent","vendorProperties","transitionDelay","_transn","ingProperties","clean","onEnd","elemStyle","supportedProp","getPosition","_getOption","isOriginTop","xValue","yValue","layoutSize","layoutPosition","xPadding","xProperty","xResetProperty","getXValue","yPadding","yProperty","yResetProperty","getYValue","isHorizontal","_transitionTo","curX","curY","didNotMove","isTransitioning","transX","transY","transitionStyle","getTranslate","to","onTransitionEnd","isCleaning","moveTo","_nonTransition","_removeStyles","_transition","from","h","enableTransition","transitionProps","staggerDelay","onwebkitTransitionEnd","ontransitionend","onotransitionend","dashedVendorProperties","-webkit-transform","propertyName","disableTransition","removeTransitionStyles","cleanStyle","cleanTransitionStyle","stagger","removeElem","reveal","isHidden","transitionEndProperty","getHideRevealTransitionEndProperty","onRevealTransitionEnd","hiddenStyle","visibleStyle","styleProperty","optionStyle","onHideTransitionEnd","outlayerGUID","isInitLayout","subclass","Parent","SubClass","getMilliseconds","unit","mult","msUnits","containerStyle","initLayout","originLeft","originTop","resizeContainer","oldOption","compatOptions","horizontal","layoutInstant","reloadItems","stamps","stamp","canBindResize","bindResize","_itemize","itemElems","_filterFindItemElements","itemSelector","getItemElements","_resetLayout","_manageStamps","_isLayoutInited","layoutItems","_getMeasurement","_getItemsForLayout","_layoutItems","_postLayout","isIgnored","_emitCompleteOnItems","queue","_getItemLayoutPosition","isLayoutInstant","_processLayoutQueue","updateStagger","_positionItem","isResizingContainer","_getContainerSize","_setContainerMeasure","measure","isWidth","elemSize","onComplete","doneCount","ignore","getItem","unignore","_find","unstamp","_getBoundingRect","_manageStamp","_boundingRect","_getElementOffset","thisRect","isResizeBound","unbindResize","needsResizeLayout","hasSizes","addItems","appended","prepended","previousItems","revealItemElements","getItems","hideItemElements","removeItems","Layout","ms","Isotope","itemGUID","sortData","updateSortData","getSortData","sorters","_sorters","sorter","_destroy","LayoutMode","isotope","filteredItems","facadeMethods","needsVerticalResizeLayout","getColumnWidth","getSegmentSize","getRowHeight","segment","segmentName","outerSize","firstItemSize","getFirstItemSize","firstItem","modes","Mode","Masonry","fitWidth","measureColumns","colYs","cols","maxY","horizontalColIndex","getContainerWidth","columnWidth","firstItemElem","containerWidth","gutter","excess","mathMethod","isFitWidth","remainder","colSpan","colPosMethod","horizontalOrder","colPosition","col","setHeight","setMax","_getTopColPosition","colGroup","_getTopColGroup","minimumY","groupCount","_getColGroupY","groupColYs","_getHorizontalColPosition","isOver","stampSize","firstX","lastX","firstCol","lastCol","stampMaxY","_getContainerFitWidth","unusedCols","previousWidth","MasonryMode","keepModeMethods","FitRows","itemWidth","Vertical","horizontalAlignment","getItemSorter","sortBys","sortAsc","itemA","itemB","sortBy","isAscending","layoutMode","isJQueryFiltering","sortAscending","_getSorters","sortHistory","_initLayoutMode","_updateItemsSortData","initialOpts","arrange","_layout","_getIsInstant","filtered","_filter","_bindArrangeComplete","_isInstant","_noTransition","_hideReveal","_sort","needReveal","needHide","arrangeParallelCallback","isLayoutComplete","isHideComplete","isRevealComplete","hiddenMatched","visibleUnmatched","_getFilterTest","isMatched","mungeSorter","attrMatch","getValueGetter","parser","sortDataParsers","_getIsSameSortBy","itemSorter","sort","_mode","mode","_filterRevealAdded","filteredInsertItems","_remove","shuffle","getFilteredItemElements","targetObj","sourceObject","parseNumeric","getDocOffsetTop","node","docOffsetTop","checkScroll","Stickyfill","refreshAll","stickies","sticky","_recalcPosition","startFastCheckTimer","fastCheckTimer","_fastCheck","stopFastCheckTimer","docHiddenKey","visibilityChangeEventName","seppuku","testNode","some","shadowRootExists","ShadowRoot","Sticky","_node","_stickyMode","_active","refresh","_removed","_deactivate","nodeComputedStyle","nodeComputedProps","cssFloat","referenceNode","host","nodeWinOffset","parentWinOffset","parentComputedStyle","_parent","_offsetToWindow","_offsetToParent","_styles","nodeTopValue","_limits","parentPosition","_clone","border","borderSpacing","fontSize","stickyMode","addOne","nodeList","addedStickies","_loop","removeOne","_loop2","removeAll","_$$flickity","bases","baseHref","href","myLazyLoad","$carousel","$imgs","docStyle","transformProp","flkty","video","$slideshow","slideshowflk","whatInput","toggleMobileMenuClasses","getElementById","focusout","oldSize","pathname","hostname","txt","slideToggle","filterValue","buttonGroup","$buttonGroup"],"mappings":"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","file":"../scripts/app.js","sourcesContent":["\n// homepage what we do carousel\n$('.infosection').flickity({\n\tcellAlign: 'center',\n\tcontain: true,\n\timagesLoaded: true,\n\tpageDots: false,\n\tinitialIndex: 2,\n\twrapAround: true,\n\tfreeScroll: true\n});\n\n// homepage deptment slider\n$('.dept-slider__gallery').flickity({\n\timagesLoaded: true,\n\tpageDots: false,\n\twrapAround: true,\n\tcontain: true,\n\tlazyLoad: true,\n\tarrowShape: {\n\t\tx0: 10,\n\t\tx1: 60, y1: 50,\n\t\tx2: 65, y2: 45,\n\t\tx3: 20\n\t}\n});\n\n\n$('.cardflip-btn').on('click', function () {\n\t$(this).closest('.cardflip').toggleClass('flipped');\n});\n\n\n// Year In Review - Shop/hide text\n$(\".toggletext\").on(\"click\", function () {\n\tvar txt = $(\".slidetext\").is(':visible') ? 'Read More' : 'Read Less';\n\t$(\".toggletext\").text(txt);\n\t$('.slidetext').slideToggle('slow');\n});\n\n\n\n// // Year In Review - Isotope article filters\n$( function() {\n\t// init Isotope\n\tvar $container = $('.yir-article-container');\n\tvar $grid = $('.yir-article-container').imagesLoaded( function() {\n\t\t$container.isotope({\n\t\t\titemSelector: '.yir-article',\n\t\t\tpercentPosition: true,\n\t\t\tlayoutMode: 'fitRows',\n\t\t\t// masonry: {\n\t\t\t// \tcolumnWidth: '.grid-sizer'\n\t\t\t// }\n\t\t});\n\n\t});\n\n  // bind filter button click\n  $('#filters').on( 'click', 'button', function() {\n    var filterValue = $( this ).attr('data-filter');\n    $container.isotope({ filter: filterValue });\n  });\n\n  // change is-checked class on buttons\n  $('.button-group').each( function( i, buttonGroup ) {\n    var $buttonGroup = $( buttonGroup );\n    $buttonGroup.on( 'click', 'button', function() {\n      $buttonGroup.find('.is-checked').removeClass('is-checked');\n      $( this ).addClass('is-checked');\n    });\n  });\n\n});\n\n\n\n\n\n// Fade technique https://codepen.io/davatron5000/pen/oENPYq\n// Set the variable to the scroll distance\nwindow.addEventListener('scroll', function() {\n\tdocument.body.style.setProperty(\"--scroll-amount\", (document.body.scrollTop || document.documentElement.scrollTop) );\n});\n\nconst title = document.querySelector('h1.title');\nconst speed = 0.02;\ntitle.style.transform = 'translateY( calc( var(--scrollparallax) * 1px ) )';\n\nfunction setScrollParallax() {\n\ttitle.style.setProperty(\"--scrollparallax\", (document.body.scrollTop || document.documentElement.scrollTop) * speed);\n\twindow.requestAnimationFrame( setScrollParallax );\n}\n\nwindow.requestAnimationFrame( setScrollParallax );\n\n\n// Position sticky pollyfill (https://github.com/wilddeer/stickyfill)\nvar elements = document.querySelectorAll('.sticky');\nStickyfill.add(elements);\n\n\n\n\n//Code stolen from css-tricks for smooth scrolling:\n$(function() {\n  $('a[href*=#]:not([href=#])').click(function() {\n    if (location.pathname.replace(/^\\//,'') == this.pathname.replace(/^\\//,'') && location.hostname == this.hostname) {\n      var target = $(this.hash);\n      target = target.length ? target : $('[name=' + this.hash.slice(1) +']');\n      if (target.length) {\n        $('html,body').animate({\n          scrollTop: target.offset().top\n        }, 1000);\n        return false;\n      }\n    }\n  });\n});\n\n","!function($) {\n\n\"use strict\";\n\nvar FOUNDATION_VERSION = '6.3.1';\n\n// Global Foundation object\n// This is attached to the window, or used as a module for AMD/Browserify\nvar Foundation = {\n  version: FOUNDATION_VERSION,\n\n  /**\n   * Stores initialized plugins.\n   */\n  _plugins: {},\n\n  /**\n   * Stores generated unique ids for plugin instances\n   */\n  _uuids: [],\n\n  /**\n   * Returns a boolean for RTL support\n   */\n  rtl: function(){\n    return $('html').attr('dir') === 'rtl';\n  },\n  /**\n   * Defines a Foundation plugin, adding it to the `Foundation` namespace and the list of plugins to initialize when reflowing.\n   * @param {Object} plugin - The constructor of the plugin.\n   */\n  plugin: function(plugin, name) {\n    // Object key to use when adding to global Foundation object\n    // Examples: Foundation.Reveal, Foundation.OffCanvas\n    var className = (name || functionName(plugin));\n    // Object key to use when storing the plugin, also used to create the identifying data attribute for the plugin\n    // Examples: data-reveal, data-off-canvas\n    var attrName  = hyphenate(className);\n\n    // Add to the Foundation object and the plugins list (for reflowing)\n    this._plugins[attrName] = this[className] = plugin;\n  },\n  /**\n   * @function\n   * Populates the _uuids array with pointers to each individual plugin instance.\n   * Adds the `zfPlugin` data-attribute to programmatically created plugins to allow use of $(selector).foundation(method) calls.\n   * Also fires the initialization event for each plugin, consolidating repetitive code.\n   * @param {Object} plugin - an instance of a plugin, usually `this` in context.\n   * @param {String} name - the name of the plugin, passed as a camelCased string.\n   * @fires Plugin#init\n   */\n  registerPlugin: function(plugin, name){\n    var pluginName = name ? hyphenate(name) : functionName(plugin.constructor).toLowerCase();\n    plugin.uuid = this.GetYoDigits(6, pluginName);\n\n    if(!plugin.$element.attr(`data-${pluginName}`)){ plugin.$element.attr(`data-${pluginName}`, plugin.uuid); }\n    if(!plugin.$element.data('zfPlugin')){ plugin.$element.data('zfPlugin', plugin); }\n          /**\n           * Fires when the plugin has initialized.\n           * @event Plugin#init\n           */\n    plugin.$element.trigger(`init.zf.${pluginName}`);\n\n    this._uuids.push(plugin.uuid);\n\n    return;\n  },\n  /**\n   * @function\n   * Removes the plugins uuid from the _uuids array.\n   * Removes the zfPlugin data attribute, as well as the data-plugin-name attribute.\n   * Also fires the destroyed event for the plugin, consolidating repetitive code.\n   * @param {Object} plugin - an instance of a plugin, usually `this` in context.\n   * @fires Plugin#destroyed\n   */\n  unregisterPlugin: function(plugin){\n    var pluginName = hyphenate(functionName(plugin.$element.data('zfPlugin').constructor));\n\n    this._uuids.splice(this._uuids.indexOf(plugin.uuid), 1);\n    plugin.$element.removeAttr(`data-${pluginName}`).removeData('zfPlugin')\n          /**\n           * Fires when the plugin has been destroyed.\n           * @event Plugin#destroyed\n           */\n          .trigger(`destroyed.zf.${pluginName}`);\n    for(var prop in plugin){\n      plugin[prop] = null;//clean up script to prep for garbage collection.\n    }\n    return;\n  },\n\n  /**\n   * @function\n   * Causes one or more active plugins to re-initialize, resetting event listeners, recalculating positions, etc.\n   * @param {String} plugins - optional string of an individual plugin key, attained by calling `$(element).data('pluginName')`, or string of a plugin class i.e. `'dropdown'`\n   * @default If no argument is passed, reflow all currently active plugins.\n   */\n   reInit: function(plugins){\n     var isJQ = plugins instanceof $;\n     try{\n       if(isJQ){\n         plugins.each(function(){\n           $(this).data('zfPlugin')._init();\n         });\n       }else{\n         var type = typeof plugins,\n         _this = this,\n         fns = {\n           'object': function(plgs){\n             plgs.forEach(function(p){\n               p = hyphenate(p);\n               $('[data-'+ p +']').foundation('_init');\n             });\n           },\n           'string': function(){\n             plugins = hyphenate(plugins);\n             $('[data-'+ plugins +']').foundation('_init');\n           },\n           'undefined': function(){\n             this['object'](Object.keys(_this._plugins));\n           }\n         };\n         fns[type](plugins);\n       }\n     }catch(err){\n       console.error(err);\n     }finally{\n       return plugins;\n     }\n   },\n\n  /**\n   * returns a random base-36 uid with namespacing\n   * @function\n   * @param {Number} length - number of random base-36 digits desired. Increase for more random strings.\n   * @param {String} namespace - name of plugin to be incorporated in uid, optional.\n   * @default {String} '' - if no plugin name is provided, nothing is appended to the uid.\n   * @returns {String} - unique id\n   */\n  GetYoDigits: function(length, namespace){\n    length = length || 6;\n    return Math.round((Math.pow(36, length + 1) - Math.random() * Math.pow(36, length))).toString(36).slice(1) + (namespace ? `-${namespace}` : '');\n  },\n  /**\n   * Initialize plugins on any elements within `elem` (and `elem` itself) that aren't already initialized.\n   * @param {Object} elem - jQuery object containing the element to check inside. Also checks the element itself, unless it's the `document` object.\n   * @param {String|Array} plugins - A list of plugins to initialize. Leave this out to initialize everything.\n   */\n  reflow: function(elem, plugins) {\n\n    // If plugins is undefined, just grab everything\n    if (typeof plugins === 'undefined') {\n      plugins = Object.keys(this._plugins);\n    }\n    // If plugins is a string, convert it to an array with one item\n    else if (typeof plugins === 'string') {\n      plugins = [plugins];\n    }\n\n    var _this = this;\n\n    // Iterate through each plugin\n    $.each(plugins, function(i, name) {\n      // Get the current plugin\n      var plugin = _this._plugins[name];\n\n      // Localize the search to all elements inside elem, as well as elem itself, unless elem === document\n      var $elem = $(elem).find('[data-'+name+']').addBack('[data-'+name+']');\n\n      // For each plugin found, initialize it\n      $elem.each(function() {\n        var $el = $(this),\n            opts = {};\n        // Don't double-dip on plugins\n        if ($el.data('zfPlugin')) {\n          console.warn(\"Tried to initialize \"+name+\" on an element that already has a Foundation plugin.\");\n          return;\n        }\n\n        if($el.attr('data-options')){\n          var thing = $el.attr('data-options').split(';').forEach(function(e, i){\n            var opt = e.split(':').map(function(el){ return el.trim(); });\n            if(opt[0]) opts[opt[0]] = parseValue(opt[1]);\n          });\n        }\n        try{\n          $el.data('zfPlugin', new plugin($(this), opts));\n        }catch(er){\n          console.error(er);\n        }finally{\n          return;\n        }\n      });\n    });\n  },\n  getFnName: functionName,\n  transitionend: function($elem){\n    var transitions = {\n      'transition': 'transitionend',\n      'WebkitTransition': 'webkitTransitionEnd',\n      'MozTransition': 'transitionend',\n      'OTransition': 'otransitionend'\n    };\n    var elem = document.createElement('div'),\n        end;\n\n    for (var t in transitions){\n      if (typeof elem.style[t] !== 'undefined'){\n        end = transitions[t];\n      }\n    }\n    if(end){\n      return end;\n    }else{\n      end = setTimeout(function(){\n        $elem.triggerHandler('transitionend', [$elem]);\n      }, 1);\n      return 'transitionend';\n    }\n  }\n};\n\nFoundation.util = {\n  /**\n   * Function for applying a debounce effect to a function call.\n   * @function\n   * @param {Function} func - Function to be called at end of timeout.\n   * @param {Number} delay - Time in ms to delay the call of `func`.\n   * @returns function\n   */\n  throttle: function (func, delay) {\n    var timer = null;\n\n    return function () {\n      var context = this, args = arguments;\n\n      if (timer === null) {\n        timer = setTimeout(function () {\n          func.apply(context, args);\n          timer = null;\n        }, delay);\n      }\n    };\n  }\n};\n\n// TODO: consider not making this a jQuery function\n// TODO: need way to reflow vs. re-initialize\n/**\n * The Foundation jQuery method.\n * @param {String|Array} method - An action to perform on the current jQuery object.\n */\nvar foundation = function(method) {\n  var type = typeof method,\n      $meta = $('meta.foundation-mq'),\n      $noJS = $('.no-js');\n\n  if(!$meta.length){\n    $('<meta class=\"foundation-mq\">').appendTo(document.head);\n  }\n  if($noJS.length){\n    $noJS.removeClass('no-js');\n  }\n\n  if(type === 'undefined'){//needs to initialize the Foundation object, or an individual plugin.\n    Foundation.MediaQuery._init();\n    Foundation.reflow(this);\n  }else if(type === 'string'){//an individual method to invoke on a plugin or group of plugins\n    var args = Array.prototype.slice.call(arguments, 1);//collect all the arguments, if necessary\n    var plugClass = this.data('zfPlugin');//determine the class of plugin\n\n    if(plugClass !== undefined && plugClass[method] !== undefined){//make sure both the class and method exist\n      if(this.length === 1){//if there's only one, call it directly.\n          plugClass[method].apply(plugClass, args);\n      }else{\n        this.each(function(i, el){//otherwise loop through the jQuery collection and invoke the method on each\n          plugClass[method].apply($(el).data('zfPlugin'), args);\n        });\n      }\n    }else{//error for no class or no method\n      throw new ReferenceError(\"We're sorry, '\" + method + \"' is not an available method for \" + (plugClass ? functionName(plugClass) : 'this element') + '.');\n    }\n  }else{//error for invalid argument type\n    throw new TypeError(`We're sorry, ${type} is not a valid parameter. You must use a string representing the method you wish to invoke.`);\n  }\n  return this;\n};\n\nwindow.Foundation = Foundation;\n$.fn.foundation = foundation;\n\n// Polyfill for requestAnimationFrame\n(function() {\n  if (!Date.now || !window.Date.now)\n    window.Date.now = Date.now = function() { return new Date().getTime(); };\n\n  var vendors = ['webkit', 'moz'];\n  for (var i = 0; i < vendors.length && !window.requestAnimationFrame; ++i) {\n      var vp = vendors[i];\n      window.requestAnimationFrame = window[vp+'RequestAnimationFrame'];\n      window.cancelAnimationFrame = (window[vp+'CancelAnimationFrame']\n                                 || window[vp+'CancelRequestAnimationFrame']);\n  }\n  if (/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)\n    || !window.requestAnimationFrame || !window.cancelAnimationFrame) {\n    var lastTime = 0;\n    window.requestAnimationFrame = function(callback) {\n        var now = Date.now();\n        var nextTime = Math.max(lastTime + 16, now);\n        return setTimeout(function() { callback(lastTime = nextTime); },\n                          nextTime - now);\n    };\n    window.cancelAnimationFrame = clearTimeout;\n  }\n  /**\n   * Polyfill for performance.now, required by rAF\n   */\n  if(!window.performance || !window.performance.now){\n    window.performance = {\n      start: Date.now(),\n      now: function(){ return Date.now() - this.start; }\n    };\n  }\n})();\nif (!Function.prototype.bind) {\n  Function.prototype.bind = function(oThis) {\n    if (typeof this !== 'function') {\n      // closest thing possible to the ECMAScript 5\n      // internal IsCallable function\n      throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');\n    }\n\n    var aArgs   = Array.prototype.slice.call(arguments, 1),\n        fToBind = this,\n        fNOP    = function() {},\n        fBound  = function() {\n          return fToBind.apply(this instanceof fNOP\n                 ? this\n                 : oThis,\n                 aArgs.concat(Array.prototype.slice.call(arguments)));\n        };\n\n    if (this.prototype) {\n      // native functions don't have a prototype\n      fNOP.prototype = this.prototype;\n    }\n    fBound.prototype = new fNOP();\n\n    return fBound;\n  };\n}\n// Polyfill to get the name of a function in IE9\nfunction functionName(fn) {\n  if (Function.prototype.name === undefined) {\n    var funcNameRegex = /function\\s([^(]{1,})\\(/;\n    var results = (funcNameRegex).exec((fn).toString());\n    return (results && results.length > 1) ? results[1].trim() : \"\";\n  }\n  else if (fn.prototype === undefined) {\n    return fn.constructor.name;\n  }\n  else {\n    return fn.prototype.constructor.name;\n  }\n}\nfunction parseValue(str){\n  if ('true' === str) return true;\n  else if ('false' === str) return false;\n  else if (!isNaN(str * 1)) return parseFloat(str);\n  return str;\n}\n// Convert PascalCase to kebab-case\n// Thank you: http://stackoverflow.com/a/8955580\nfunction hyphenate(str) {\n  return str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n}\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\nFoundation.Box = {\n  ImNotTouchingYou: ImNotTouchingYou,\n  GetDimensions: GetDimensions,\n  GetOffsets: GetOffsets\n}\n\n/**\n * Compares the dimensions of an element to a container and determines collision events with container.\n * @function\n * @param {jQuery} element - jQuery object to test for collisions.\n * @param {jQuery} parent - jQuery object to use as bounding container.\n * @param {Boolean} lrOnly - set to true to check left and right values only.\n * @param {Boolean} tbOnly - set to true to check top and bottom values only.\n * @default if no parent object passed, detects collisions with `window`.\n * @returns {Boolean} - true if collision free, false if a collision in any direction.\n */\nfunction ImNotTouchingYou(element, parent, lrOnly, tbOnly) {\n  var eleDims = GetDimensions(element),\n      top, bottom, left, right;\n\n  if (parent) {\n    var parDims = GetDimensions(parent);\n\n    bottom = (eleDims.offset.top + eleDims.height <= parDims.height + parDims.offset.top);\n    top    = (eleDims.offset.top >= parDims.offset.top);\n    left   = (eleDims.offset.left >= parDims.offset.left);\n    right  = (eleDims.offset.left + eleDims.width <= parDims.width + parDims.offset.left);\n  }\n  else {\n    bottom = (eleDims.offset.top + eleDims.height <= eleDims.windowDims.height + eleDims.windowDims.offset.top);\n    top    = (eleDims.offset.top >= eleDims.windowDims.offset.top);\n    left   = (eleDims.offset.left >= eleDims.windowDims.offset.left);\n    right  = (eleDims.offset.left + eleDims.width <= eleDims.windowDims.width);\n  }\n\n  var allDirs = [bottom, top, left, right];\n\n  if (lrOnly) {\n    return left === right === true;\n  }\n\n  if (tbOnly) {\n    return top === bottom === true;\n  }\n\n  return allDirs.indexOf(false) === -1;\n};\n\n/**\n * Uses native methods to return an object of dimension values.\n * @function\n * @param {jQuery || HTML} element - jQuery object or DOM element for which to get the dimensions. Can be any element other that document or window.\n * @returns {Object} - nested object of integer pixel values\n * TODO - if element is window, return only those values.\n */\nfunction GetDimensions(elem, test){\n  elem = elem.length ? elem[0] : elem;\n\n  if (elem === window || elem === document) {\n    throw new Error(\"I'm sorry, Dave. I'm afraid I can't do that.\");\n  }\n\n  var rect = elem.getBoundingClientRect(),\n      parRect = elem.parentNode.getBoundingClientRect(),\n      winRect = document.body.getBoundingClientRect(),\n      winY = window.pageYOffset,\n      winX = window.pageXOffset;\n\n  return {\n    width: rect.width,\n    height: rect.height,\n    offset: {\n      top: rect.top + winY,\n      left: rect.left + winX\n    },\n    parentDims: {\n      width: parRect.width,\n      height: parRect.height,\n      offset: {\n        top: parRect.top + winY,\n        left: parRect.left + winX\n      }\n    },\n    windowDims: {\n      width: winRect.width,\n      height: winRect.height,\n      offset: {\n        top: winY,\n        left: winX\n      }\n    }\n  }\n}\n\n/**\n * Returns an object of top and left integer pixel values for dynamically rendered elements,\n * such as: Tooltip, Reveal, and Dropdown\n * @function\n * @param {jQuery} element - jQuery object for the element being positioned.\n * @param {jQuery} anchor - jQuery object for the element's anchor point.\n * @param {String} position - a string relating to the desired position of the element, relative to it's anchor\n * @param {Number} vOffset - integer pixel value of desired vertical separation between anchor and element.\n * @param {Number} hOffset - integer pixel value of desired horizontal separation between anchor and element.\n * @param {Boolean} isOverflow - if a collision event is detected, sets to true to default the element to full width - any desired offset.\n * TODO alter/rewrite to work with `em` values as well/instead of pixels\n */\nfunction GetOffsets(element, anchor, position, vOffset, hOffset, isOverflow) {\n  var $eleDims = GetDimensions(element),\n      $anchorDims = anchor ? GetDimensions(anchor) : null;\n\n  switch (position) {\n    case 'top':\n      return {\n        left: (Foundation.rtl() ? $anchorDims.offset.left - $eleDims.width + $anchorDims.width : $anchorDims.offset.left),\n        top: $anchorDims.offset.top - ($eleDims.height + vOffset)\n      }\n      break;\n    case 'left':\n      return {\n        left: $anchorDims.offset.left - ($eleDims.width + hOffset),\n        top: $anchorDims.offset.top\n      }\n      break;\n    case 'right':\n      return {\n        left: $anchorDims.offset.left + $anchorDims.width + hOffset,\n        top: $anchorDims.offset.top\n      }\n      break;\n    case 'center top':\n      return {\n        left: ($anchorDims.offset.left + ($anchorDims.width / 2)) - ($eleDims.width / 2),\n        top: $anchorDims.offset.top - ($eleDims.height + vOffset)\n      }\n      break;\n    case 'center bottom':\n      return {\n        left: isOverflow ? hOffset : (($anchorDims.offset.left + ($anchorDims.width / 2)) - ($eleDims.width / 2)),\n        top: $anchorDims.offset.top + $anchorDims.height + vOffset\n      }\n      break;\n    case 'center left':\n      return {\n        left: $anchorDims.offset.left - ($eleDims.width + hOffset),\n        top: ($anchorDims.offset.top + ($anchorDims.height / 2)) - ($eleDims.height / 2)\n      }\n      break;\n    case 'center right':\n      return {\n        left: $anchorDims.offset.left + $anchorDims.width + hOffset + 1,\n        top: ($anchorDims.offset.top + ($anchorDims.height / 2)) - ($eleDims.height / 2)\n      }\n      break;\n    case 'center':\n      return {\n        left: ($eleDims.windowDims.offset.left + ($eleDims.windowDims.width / 2)) - ($eleDims.width / 2),\n        top: ($eleDims.windowDims.offset.top + ($eleDims.windowDims.height / 2)) - ($eleDims.height / 2)\n      }\n      break;\n    case 'reveal':\n      return {\n        left: ($eleDims.windowDims.width - $eleDims.width) / 2,\n        top: $eleDims.windowDims.offset.top + vOffset\n      }\n    case 'reveal full':\n      return {\n        left: $eleDims.windowDims.offset.left,\n        top: $eleDims.windowDims.offset.top\n      }\n      break;\n    case 'left bottom':\n      return {\n        left: $anchorDims.offset.left,\n        top: $anchorDims.offset.top + $anchorDims.height + vOffset\n      };\n      break;\n    case 'right bottom':\n      return {\n        left: $anchorDims.offset.left + $anchorDims.width + hOffset - $eleDims.width,\n        top: $anchorDims.offset.top + $anchorDims.height + vOffset\n      };\n      break;\n    default:\n      return {\n        left: (Foundation.rtl() ? $anchorDims.offset.left - $eleDims.width + $anchorDims.width : $anchorDims.offset.left + hOffset),\n        top: $anchorDims.offset.top + $anchorDims.height + vOffset\n      }\n  }\n}\n\n}(jQuery);\n","/*******************************************\n *                                         *\n * This util was created by Marius Olbertz *\n * Please thank Marius on GitHub /owlbertz *\n * or the web http://www.mariusolbertz.de/ *\n *                                         *\n ******************************************/\n\n'use strict';\n\n!function($) {\n\nconst keyCodes = {\n  9: 'TAB',\n  13: 'ENTER',\n  27: 'ESCAPE',\n  32: 'SPACE',\n  37: 'ARROW_LEFT',\n  38: 'ARROW_UP',\n  39: 'ARROW_RIGHT',\n  40: 'ARROW_DOWN'\n}\n\nvar commands = {}\n\nvar Keyboard = {\n  keys: getKeyCodes(keyCodes),\n\n  /**\n   * Parses the (keyboard) event and returns a String that represents its key\n   * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE\n   * @param {Event} event - the event generated by the event handler\n   * @return String key - String that represents the key pressed\n   */\n  parseKey(event) {\n    var key = keyCodes[event.which || event.keyCode] || String.fromCharCode(event.which).toUpperCase();\n\n    // Remove un-printable characters, e.g. for `fromCharCode` calls for CTRL only events\n    key = key.replace(/\\W+/, '');\n\n    if (event.shiftKey) key = `SHIFT_${key}`;\n    if (event.ctrlKey) key = `CTRL_${key}`;\n    if (event.altKey) key = `ALT_${key}`;\n\n    // Remove trailing underscore, in case only modifiers were used (e.g. only `CTRL_ALT`)\n    key = key.replace(/_$/, '');\n\n    return key;\n  },\n\n  /**\n   * Handles the given (keyboard) event\n   * @param {Event} event - the event generated by the event handler\n   * @param {String} component - Foundation component's name, e.g. Slider or Reveal\n   * @param {Objects} functions - collection of functions that are to be executed\n   */\n  handleKey(event, component, functions) {\n    var commandList = commands[component],\n      keyCode = this.parseKey(event),\n      cmds,\n      command,\n      fn;\n\n    if (!commandList) return console.warn('Component not defined!');\n\n    if (typeof commandList.ltr === 'undefined') { // this component does not differentiate between ltr and rtl\n        cmds = commandList; // use plain list\n    } else { // merge ltr and rtl: if document is rtl, rtl overwrites ltr and vice versa\n        if (Foundation.rtl()) cmds = $.extend({}, commandList.ltr, commandList.rtl);\n\n        else cmds = $.extend({}, commandList.rtl, commandList.ltr);\n    }\n    command = cmds[keyCode];\n\n    fn = functions[command];\n    if (fn && typeof fn === 'function') { // execute function  if exists\n      var returnValue = fn.apply();\n      if (functions.handled || typeof functions.handled === 'function') { // execute function when event was handled\n          functions.handled(returnValue);\n      }\n    } else {\n      if (functions.unhandled || typeof functions.unhandled === 'function') { // execute function when event was not handled\n          functions.unhandled();\n      }\n    }\n  },\n\n  /**\n   * Finds all focusable elements within the given `$element`\n   * @param {jQuery} $element - jQuery object to search within\n   * @return {jQuery} $focusable - all focusable elements within `$element`\n   */\n  findFocusable($element) {\n    if(!$element) {return false; }\n    return $element.find('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]').filter(function() {\n      if (!$(this).is(':visible') || $(this).attr('tabindex') < 0) { return false; } //only have visible elements and those that have a tabindex greater or equal 0\n      return true;\n    });\n  },\n\n  /**\n   * Returns the component name name\n   * @param {Object} component - Foundation component, e.g. Slider or Reveal\n   * @return String componentName\n   */\n\n  register(componentName, cmds) {\n    commands[componentName] = cmds;\n  },  \n\n  /**\n   * Traps the focus in the given element.\n   * @param  {jQuery} $element  jQuery object to trap the foucs into.\n   */\n  trapFocus($element) {\n    var $focusable = Foundation.Keyboard.findFocusable($element),\n        $firstFocusable = $focusable.eq(0),\n        $lastFocusable = $focusable.eq(-1);\n\n    $element.on('keydown.zf.trapfocus', function(event) {\n      if (event.target === $lastFocusable[0] && Foundation.Keyboard.parseKey(event) === 'TAB') {\n        event.preventDefault();\n        $firstFocusable.focus();\n      }\n      else if (event.target === $firstFocusable[0] && Foundation.Keyboard.parseKey(event) === 'SHIFT_TAB') {\n        event.preventDefault();\n        $lastFocusable.focus();\n      }\n    });\n  },\n  /**\n   * Releases the trapped focus from the given element.\n   * @param  {jQuery} $element  jQuery object to release the focus for.\n   */\n  releaseFocus($element) {\n    $element.off('keydown.zf.trapfocus');\n  }\n}\n\n/*\n * Constants for easier comparing.\n * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE\n */\nfunction getKeyCodes(kcs) {\n  var k = {};\n  for (var kc in kcs) k[kcs[kc]] = kcs[kc];\n  return k;\n}\n\nFoundation.Keyboard = Keyboard;\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\n// Default set of media queries\nconst defaultQueries = {\n  'default' : 'only screen',\n  landscape : 'only screen and (orientation: landscape)',\n  portrait : 'only screen and (orientation: portrait)',\n  retina : 'only screen and (-webkit-min-device-pixel-ratio: 2),' +\n    'only screen and (min--moz-device-pixel-ratio: 2),' +\n    'only screen and (-o-min-device-pixel-ratio: 2/1),' +\n    'only screen and (min-device-pixel-ratio: 2),' +\n    'only screen and (min-resolution: 192dpi),' +\n    'only screen and (min-resolution: 2dppx)'\n};\n\nvar MediaQuery = {\n  queries: [],\n\n  current: '',\n\n  /**\n   * Initializes the media query helper, by extracting the breakpoint list from the CSS and activating the breakpoint watcher.\n   * @function\n   * @private\n   */\n  _init() {\n    var self = this;\n    var extractedStyles = $('.foundation-mq').css('font-family');\n    var namedQueries;\n\n    namedQueries = parseStyleToObject(extractedStyles);\n\n    for (var key in namedQueries) {\n      if(namedQueries.hasOwnProperty(key)) {\n        self.queries.push({\n          name: key,\n          value: `only screen and (min-width: ${namedQueries[key]})`\n        });\n      }\n    }\n\n    this.current = this._getCurrentSize();\n\n    this._watcher();\n  },\n\n  /**\n   * Checks if the screen is at least as wide as a breakpoint.\n   * @function\n   * @param {String} size - Name of the breakpoint to check.\n   * @returns {Boolean} `true` if the breakpoint matches, `false` if it's smaller.\n   */\n  atLeast(size) {\n    var query = this.get(size);\n\n    if (query) {\n      return window.matchMedia(query).matches;\n    }\n\n    return false;\n  },\n\n  /**\n   * Checks if the screen matches to a breakpoint.\n   * @function\n   * @param {String} size - Name of the breakpoint to check, either 'small only' or 'small'. Omitting 'only' falls back to using atLeast() method.\n   * @returns {Boolean} `true` if the breakpoint matches, `false` if it does not.\n   */\n  is(size) {\n    size = size.trim().split(' ');\n    if(size.length > 1 && size[1] === 'only') {\n      if(size[0] === this._getCurrentSize()) return true;\n    } else {\n      return this.atLeast(size[0]);\n    }\n    return false;\n  },\n\n  /**\n   * Gets the media query of a breakpoint.\n   * @function\n   * @param {String} size - Name of the breakpoint to get.\n   * @returns {String|null} - The media query of the breakpoint, or `null` if the breakpoint doesn't exist.\n   */\n  get(size) {\n    for (var i in this.queries) {\n      if(this.queries.hasOwnProperty(i)) {\n        var query = this.queries[i];\n        if (size === query.name) return query.value;\n      }\n    }\n\n    return null;\n  },\n\n  /**\n   * Gets the current breakpoint name by testing every breakpoint and returning the last one to match (the biggest one).\n   * @function\n   * @private\n   * @returns {String} Name of the current breakpoint.\n   */\n  _getCurrentSize() {\n    var matched;\n\n    for (var i = 0; i < this.queries.length; i++) {\n      var query = this.queries[i];\n\n      if (window.matchMedia(query.value).matches) {\n        matched = query;\n      }\n    }\n\n    if (typeof matched === 'object') {\n      return matched.name;\n    } else {\n      return matched;\n    }\n  },\n\n  /**\n   * Activates the breakpoint watcher, which fires an event on the window whenever the breakpoint changes.\n   * @function\n   * @private\n   */\n  _watcher() {\n    $(window).on('resize.zf.mediaquery', () => {\n      var newSize = this._getCurrentSize(), currentSize = this.current;\n\n      if (newSize !== currentSize) {\n        // Change the current media query\n        this.current = newSize;\n\n        // Broadcast the media query change on the window\n        $(window).trigger('changed.zf.mediaquery', [newSize, currentSize]);\n      }\n    });\n  }\n};\n\nFoundation.MediaQuery = MediaQuery;\n\n// matchMedia() polyfill - Test a CSS media type/query in JS.\n// Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license\nwindow.matchMedia || (window.matchMedia = function() {\n  'use strict';\n\n  // For browsers that support matchMedium api such as IE 9 and webkit\n  var styleMedia = (window.styleMedia || window.media);\n\n  // For those that don't support matchMedium\n  if (!styleMedia) {\n    var style   = document.createElement('style'),\n    script      = document.getElementsByTagName('script')[0],\n    info        = null;\n\n    style.type  = 'text/css';\n    style.id    = 'matchmediajs-test';\n\n    script && script.parentNode && script.parentNode.insertBefore(style, script);\n\n    // 'style.currentStyle' is used by IE <= 8 and 'window.getComputedStyle' for all other browsers\n    info = ('getComputedStyle' in window) && window.getComputedStyle(style, null) || style.currentStyle;\n\n    styleMedia = {\n      matchMedium(media) {\n        var text = `@media ${media}{ #matchmediajs-test { width: 1px; } }`;\n\n        // 'style.styleSheet' is used by IE <= 8 and 'style.textContent' for all other browsers\n        if (style.styleSheet) {\n          style.styleSheet.cssText = text;\n        } else {\n          style.textContent = text;\n        }\n\n        // Test if media query is true or false\n        return info.width === '1px';\n      }\n    }\n  }\n\n  return function(media) {\n    return {\n      matches: styleMedia.matchMedium(media || 'all'),\n      media: media || 'all'\n    };\n  }\n}());\n\n// Thank you: https://github.com/sindresorhus/query-string\nfunction parseStyleToObject(str) {\n  var styleObject = {};\n\n  if (typeof str !== 'string') {\n    return styleObject;\n  }\n\n  str = str.trim().slice(1, -1); // browsers re-quote string style values\n\n  if (!str) {\n    return styleObject;\n  }\n\n  styleObject = str.split('&').reduce(function(ret, param) {\n    var parts = param.replace(/\\+/g, ' ').split('=');\n    var key = parts[0];\n    var val = parts[1];\n    key = decodeURIComponent(key);\n\n    // missing `=` should be `null`:\n    // http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n    val = val === undefined ? null : decodeURIComponent(val);\n\n    if (!ret.hasOwnProperty(key)) {\n      ret[key] = val;\n    } else if (Array.isArray(ret[key])) {\n      ret[key].push(val);\n    } else {\n      ret[key] = [ret[key], val];\n    }\n    return ret;\n  }, {});\n\n  return styleObject;\n}\n\nFoundation.MediaQuery = MediaQuery;\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\n/**\n * Motion module.\n * @module foundation.motion\n */\n\nconst initClasses   = ['mui-enter', 'mui-leave'];\nconst activeClasses = ['mui-enter-active', 'mui-leave-active'];\n\nconst Motion = {\n  animateIn: function(element, animation, cb) {\n    animate(true, element, animation, cb);\n  },\n\n  animateOut: function(element, animation, cb) {\n    animate(false, element, animation, cb);\n  }\n}\n\nfunction Move(duration, elem, fn){\n  var anim, prog, start = null;\n  // console.log('called');\n\n  if (duration === 0) {\n    fn.apply(elem);\n    elem.trigger('finished.zf.animate', [elem]).triggerHandler('finished.zf.animate', [elem]);\n    return;\n  }\n\n  function move(ts){\n    if(!start) start = ts;\n    // console.log(start, ts);\n    prog = ts - start;\n    fn.apply(elem);\n\n    if(prog < duration){ anim = window.requestAnimationFrame(move, elem); }\n    else{\n      window.cancelAnimationFrame(anim);\n      elem.trigger('finished.zf.animate', [elem]).triggerHandler('finished.zf.animate', [elem]);\n    }\n  }\n  anim = window.requestAnimationFrame(move);\n}\n\n/**\n * Animates an element in or out using a CSS transition class.\n * @function\n * @private\n * @param {Boolean} isIn - Defines if the animation is in or out.\n * @param {Object} element - jQuery or HTML object to animate.\n * @param {String} animation - CSS class to use.\n * @param {Function} cb - Callback to run when animation is finished.\n */\nfunction animate(isIn, element, animation, cb) {\n  element = $(element).eq(0);\n\n  if (!element.length) return;\n\n  var initClass = isIn ? initClasses[0] : initClasses[1];\n  var activeClass = isIn ? activeClasses[0] : activeClasses[1];\n\n  // Set up the animation\n  reset();\n\n  element\n    .addClass(animation)\n    .css('transition', 'none');\n\n  requestAnimationFrame(() => {\n    element.addClass(initClass);\n    if (isIn) element.show();\n  });\n\n  // Start the animation\n  requestAnimationFrame(() => {\n    element[0].offsetWidth;\n    element\n      .css('transition', '')\n      .addClass(activeClass);\n  });\n\n  // Clean up the animation when it finishes\n  element.one(Foundation.transitionend(element), finish);\n\n  // Hides the element (for out animations), resets the element, and runs a callback\n  function finish() {\n    if (!isIn) element.hide();\n    reset();\n    if (cb) cb.apply(element);\n  }\n\n  // Resets transitions and removes motion-specific classes\n  function reset() {\n    element[0].style.transitionDuration = 0;\n    element.removeClass(`${initClass} ${activeClass} ${animation}`);\n  }\n}\n\nFoundation.Move = Move;\nFoundation.Motion = Motion;\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\nconst Nest = {\n  Feather(menu, type = 'zf') {\n    menu.attr('role', 'menubar');\n\n    var items = menu.find('li').attr({'role': 'menuitem'}),\n        subMenuClass = `is-${type}-submenu`,\n        subItemClass = `${subMenuClass}-item`,\n        hasSubClass = `is-${type}-submenu-parent`;\n\n    items.each(function() {\n      var $item = $(this),\n          $sub = $item.children('ul');\n\n      if ($sub.length) {\n        $item\n          .addClass(hasSubClass)\n          .attr({\n            'aria-haspopup': true,\n            'aria-label': $item.children('a:first').text()\n          });\n          // Note:  Drilldowns behave differently in how they hide, and so need\n          // additional attributes.  We should look if this possibly over-generalized\n          // utility (Nest) is appropriate when we rework menus in 6.4\n          if(type === 'drilldown') {\n            $item.attr({'aria-expanded': false});\n          }\n\n        $sub\n          .addClass(`submenu ${subMenuClass}`)\n          .attr({\n            'data-submenu': '',\n            'role': 'menu'\n          });\n        if(type === 'drilldown') {\n          $sub.attr({'aria-hidden': true});\n        }\n      }\n\n      if ($item.parent('[data-submenu]').length) {\n        $item.addClass(`is-submenu-item ${subItemClass}`);\n      }\n    });\n\n    return;\n  },\n\n  Burn(menu, type) {\n    var //items = menu.find('li'),\n        subMenuClass = `is-${type}-submenu`,\n        subItemClass = `${subMenuClass}-item`,\n        hasSubClass = `is-${type}-submenu-parent`;\n\n    menu\n      .find('>li, .menu, .menu > li')\n      .removeClass(`${subMenuClass} ${subItemClass} ${hasSubClass} is-submenu-item submenu is-active`)\n      .removeAttr('data-submenu').css('display', '');\n\n    // console.log(      menu.find('.' + subMenuClass + ', .' + subItemClass + ', .has-submenu, .is-submenu-item, .submenu, [data-submenu]')\n    //           .removeClass(subMenuClass + ' ' + subItemClass + ' has-submenu is-submenu-item submenu')\n    //           .removeAttr('data-submenu'));\n    // items.each(function(){\n    //   var $item = $(this),\n    //       $sub = $item.children('ul');\n    //   if($item.parent('[data-submenu]').length){\n    //     $item.removeClass('is-submenu-item ' + subItemClass);\n    //   }\n    //   if($sub.length){\n    //     $item.removeClass('has-submenu');\n    //     $sub.removeClass('submenu ' + subMenuClass).removeAttr('data-submenu');\n    //   }\n    // });\n  }\n}\n\nFoundation.Nest = Nest;\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\nfunction Timer(elem, options, cb) {\n  var _this = this,\n      duration = options.duration,//options is an object for easily adding features later.\n      nameSpace = Object.keys(elem.data())[0] || 'timer',\n      remain = -1,\n      start,\n      timer;\n\n  this.isPaused = false;\n\n  this.restart = function() {\n    remain = -1;\n    clearTimeout(timer);\n    this.start();\n  }\n\n  this.start = function() {\n    this.isPaused = false;\n    // if(!elem.data('paused')){ return false; }//maybe implement this sanity check if used for other things.\n    clearTimeout(timer);\n    remain = remain <= 0 ? duration : remain;\n    elem.data('paused', false);\n    start = Date.now();\n    timer = setTimeout(function(){\n      if(options.infinite){\n        _this.restart();//rerun the timer.\n      }\n      if (cb && typeof cb === 'function') { cb(); }\n    }, remain);\n    elem.trigger(`timerstart.zf.${nameSpace}`);\n  }\n\n  this.pause = function() {\n    this.isPaused = true;\n    //if(elem.data('paused')){ return false; }//maybe implement this sanity check if used for other things.\n    clearTimeout(timer);\n    elem.data('paused', true);\n    var end = Date.now();\n    remain = remain - (end - start);\n    elem.trigger(`timerpaused.zf.${nameSpace}`);\n  }\n}\n\n/**\n * Runs a callback function when images are fully loaded.\n * @param {Object} images - Image(s) to check if loaded.\n * @param {Func} callback - Function to execute when image is fully loaded.\n */\nfunction onImagesLoaded(images, callback){\n  var self = this,\n      unloaded = images.length;\n\n  if (unloaded === 0) {\n    callback();\n  }\n\n  images.each(function() {\n    // Check if image is loaded\n    if (this.complete || (this.readyState === 4) || (this.readyState === 'complete')) {\n      singleImageLoaded();\n    }\n    // Force load the image\n    else {\n      // fix for IE. See https://css-tricks.com/snippets/jquery/fixing-load-in-ie-for-cached-images/\n      var src = $(this).attr('src');\n      $(this).attr('src', src + (src.indexOf('?') >= 0 ? '&' : '?') + (new Date().getTime()));\n      $(this).one('load', function() {\n        singleImageLoaded();\n      });\n    }\n  });\n\n  function singleImageLoaded() {\n    unloaded--;\n    if (unloaded === 0) {\n      callback();\n    }\n  }\n}\n\nFoundation.Timer = Timer;\nFoundation.onImagesLoaded = onImagesLoaded;\n\n}(jQuery);\n","//**************************************************\n//**Work inspired by multiple jquery swipe plugins**\n//**Done by Yohai Ararat ***************************\n//**************************************************\n(function($) {\n\n  $.spotSwipe = {\n    version: '1.0.0',\n    enabled: 'ontouchstart' in document.documentElement,\n    preventDefault: false,\n    moveThreshold: 75,\n    timeThreshold: 200\n  };\n\n  var   startPosX,\n        startPosY,\n        startTime,\n        elapsedTime,\n        isMoving = false;\n\n  function onTouchEnd() {\n    //  alert(this);\n    this.removeEventListener('touchmove', onTouchMove);\n    this.removeEventListener('touchend', onTouchEnd);\n    isMoving = false;\n  }\n\n  function onTouchMove(e) {\n    if ($.spotSwipe.preventDefault) { e.preventDefault(); }\n    if(isMoving) {\n      var x = e.touches[0].pageX;\n      var y = e.touches[0].pageY;\n      var dx = startPosX - x;\n      var dy = startPosY - y;\n      var dir;\n      elapsedTime = new Date().getTime() - startTime;\n      if(Math.abs(dx) >= $.spotSwipe.moveThreshold && elapsedTime <= $.spotSwipe.timeThreshold) {\n        dir = dx > 0 ? 'left' : 'right';\n      }\n      // else if(Math.abs(dy) >= $.spotSwipe.moveThreshold && elapsedTime <= $.spotSwipe.timeThreshold) {\n      //   dir = dy > 0 ? 'down' : 'up';\n      // }\n      if(dir) {\n        e.preventDefault();\n        onTouchEnd.call(this);\n        $(this).trigger('swipe', dir).trigger(`swipe${dir}`);\n      }\n    }\n  }\n\n  function onTouchStart(e) {\n    if (e.touches.length == 1) {\n      startPosX = e.touches[0].pageX;\n      startPosY = e.touches[0].pageY;\n      isMoving = true;\n      startTime = new Date().getTime();\n      this.addEventListener('touchmove', onTouchMove, false);\n      this.addEventListener('touchend', onTouchEnd, false);\n    }\n  }\n\n  function init() {\n    this.addEventListener && this.addEventListener('touchstart', onTouchStart, false);\n  }\n\n  function teardown() {\n    this.removeEventListener('touchstart', onTouchStart);\n  }\n\n  $.event.special.swipe = { setup: init };\n\n  $.each(['left', 'up', 'down', 'right'], function () {\n    $.event.special[`swipe${this}`] = { setup: function(){\n      $(this).on('swipe', $.noop);\n    } };\n  });\n})(jQuery);\n/****************************************************\n * Method for adding psuedo drag events to elements *\n ***************************************************/\n!function($){\n  $.fn.addTouch = function(){\n    this.each(function(i,el){\n      $(el).bind('touchstart touchmove touchend touchcancel',function(){\n        //we pass the original event object because the jQuery event\n        //object is normalized to w3c specs and does not provide the TouchList\n        handleTouch(event);\n      });\n    });\n\n    var handleTouch = function(event){\n      var touches = event.changedTouches,\n          first = touches[0],\n          eventTypes = {\n            touchstart: 'mousedown',\n            touchmove: 'mousemove',\n            touchend: 'mouseup'\n          },\n          type = eventTypes[event.type],\n          simulatedEvent\n        ;\n\n      if('MouseEvent' in window && typeof window.MouseEvent === 'function') {\n        simulatedEvent = new window.MouseEvent(type, {\n          'bubbles': true,\n          'cancelable': true,\n          'screenX': first.screenX,\n          'screenY': first.screenY,\n          'clientX': first.clientX,\n          'clientY': first.clientY\n        });\n      } else {\n        simulatedEvent = document.createEvent('MouseEvent');\n        simulatedEvent.initMouseEvent(type, true, true, window, 1, first.screenX, first.screenY, first.clientX, first.clientY, false, false, false, false, 0/*left*/, null);\n      }\n      first.target.dispatchEvent(simulatedEvent);\n    };\n  };\n}(jQuery);\n\n\n//**********************************\n//**From the jQuery Mobile Library**\n//**need to recreate functionality**\n//**and try to improve if possible**\n//**********************************\n\n/* Removing the jQuery function ****\n************************************\n\n(function( $, window, undefined ) {\n\n\tvar $document = $( document ),\n\t\t// supportTouch = $.mobile.support.touch,\n\t\ttouchStartEvent = 'touchstart'//supportTouch ? \"touchstart\" : \"mousedown\",\n\t\ttouchStopEvent = 'touchend'//supportTouch ? \"touchend\" : \"mouseup\",\n\t\ttouchMoveEvent = 'touchmove'//supportTouch ? \"touchmove\" : \"mousemove\";\n\n\t// setup new event shortcuts\n\t$.each( ( \"touchstart touchmove touchend \" +\n\t\t\"swipe swipeleft swiperight\" ).split( \" \" ), function( i, name ) {\n\n\t\t$.fn[ name ] = function( fn ) {\n\t\t\treturn fn ? this.bind( name, fn ) : this.trigger( name );\n\t\t};\n\n\t\t// jQuery < 1.8\n\t\tif ( $.attrFn ) {\n\t\t\t$.attrFn[ name ] = true;\n\t\t}\n\t});\n\n\tfunction triggerCustomEvent( obj, eventType, event, bubble ) {\n\t\tvar originalType = event.type;\n\t\tevent.type = eventType;\n\t\tif ( bubble ) {\n\t\t\t$.event.trigger( event, undefined, obj );\n\t\t} else {\n\t\t\t$.event.dispatch.call( obj, event );\n\t\t}\n\t\tevent.type = originalType;\n\t}\n\n\t// also handles taphold\n\n\t// Also handles swipeleft, swiperight\n\t$.event.special.swipe = {\n\n\t\t// More than this horizontal displacement, and we will suppress scrolling.\n\t\tscrollSupressionThreshold: 30,\n\n\t\t// More time than this, and it isn't a swipe.\n\t\tdurationThreshold: 1000,\n\n\t\t// Swipe horizontal displacement must be more than this.\n\t\thorizontalDistanceThreshold: window.devicePixelRatio >= 2 ? 15 : 30,\n\n\t\t// Swipe vertical displacement must be less than this.\n\t\tverticalDistanceThreshold: window.devicePixelRatio >= 2 ? 15 : 30,\n\n\t\tgetLocation: function ( event ) {\n\t\t\tvar winPageX = window.pageXOffset,\n\t\t\t\twinPageY = window.pageYOffset,\n\t\t\t\tx = event.clientX,\n\t\t\t\ty = event.clientY;\n\n\t\t\tif ( event.pageY === 0 && Math.floor( y ) > Math.floor( event.pageY ) ||\n\t\t\t\tevent.pageX === 0 && Math.floor( x ) > Math.floor( event.pageX ) ) {\n\n\t\t\t\t// iOS4 clientX/clientY have the value that should have been\n\t\t\t\t// in pageX/pageY. While pageX/page/ have the value 0\n\t\t\t\tx = x - winPageX;\n\t\t\t\ty = y - winPageY;\n\t\t\t} else if ( y < ( event.pageY - winPageY) || x < ( event.pageX - winPageX ) ) {\n\n\t\t\t\t// Some Android browsers have totally bogus values for clientX/Y\n\t\t\t\t// when scrolling/zooming a page. Detectable since clientX/clientY\n\t\t\t\t// should never be smaller than pageX/pageY minus page scroll\n\t\t\t\tx = event.pageX - winPageX;\n\t\t\t\ty = event.pageY - winPageY;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx: x,\n\t\t\t\ty: y\n\t\t\t};\n\t\t},\n\n\t\tstart: function( event ) {\n\t\t\tvar data = event.originalEvent.touches ?\n\t\t\t\t\tevent.originalEvent.touches[ 0 ] : event,\n\t\t\t\tlocation = $.event.special.swipe.getLocation( data );\n\t\t\treturn {\n\t\t\t\t\t\ttime: ( new Date() ).getTime(),\n\t\t\t\t\t\tcoords: [ location.x, location.y ],\n\t\t\t\t\t\torigin: $( event.target )\n\t\t\t\t\t};\n\t\t},\n\n\t\tstop: function( event ) {\n\t\t\tvar data = event.originalEvent.touches ?\n\t\t\t\t\tevent.originalEvent.touches[ 0 ] : event,\n\t\t\t\tlocation = $.event.special.swipe.getLocation( data );\n\t\t\treturn {\n\t\t\t\t\t\ttime: ( new Date() ).getTime(),\n\t\t\t\t\t\tcoords: [ location.x, location.y ]\n\t\t\t\t\t};\n\t\t},\n\n\t\thandleSwipe: function( start, stop, thisObject, origTarget ) {\n\t\t\tif ( stop.time - start.time < $.event.special.swipe.durationThreshold &&\n\t\t\t\tMath.abs( start.coords[ 0 ] - stop.coords[ 0 ] ) > $.event.special.swipe.horizontalDistanceThreshold &&\n\t\t\t\tMath.abs( start.coords[ 1 ] - stop.coords[ 1 ] ) < $.event.special.swipe.verticalDistanceThreshold ) {\n\t\t\t\tvar direction = start.coords[0] > stop.coords[ 0 ] ? \"swipeleft\" : \"swiperight\";\n\n\t\t\t\ttriggerCustomEvent( thisObject, \"swipe\", $.Event( \"swipe\", { target: origTarget, swipestart: start, swipestop: stop }), true );\n\t\t\t\ttriggerCustomEvent( thisObject, direction,$.Event( direction, { target: origTarget, swipestart: start, swipestop: stop } ), true );\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\n\t\t},\n\n\t\t// This serves as a flag to ensure that at most one swipe event event is\n\t\t// in work at any given time\n\t\teventInProgress: false,\n\n\t\tsetup: function() {\n\t\t\tvar events,\n\t\t\t\tthisObject = this,\n\t\t\t\t$this = $( thisObject ),\n\t\t\t\tcontext = {};\n\n\t\t\t// Retrieve the events data for this element and add the swipe context\n\t\t\tevents = $.data( this, \"mobile-events\" );\n\t\t\tif ( !events ) {\n\t\t\t\tevents = { length: 0 };\n\t\t\t\t$.data( this, \"mobile-events\", events );\n\t\t\t}\n\t\t\tevents.length++;\n\t\t\tevents.swipe = context;\n\n\t\t\tcontext.start = function( event ) {\n\n\t\t\t\t// Bail if we're already working on a swipe event\n\t\t\t\tif ( $.event.special.swipe.eventInProgress ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t$.event.special.swipe.eventInProgress = true;\n\n\t\t\t\tvar stop,\n\t\t\t\t\tstart = $.event.special.swipe.start( event ),\n\t\t\t\t\torigTarget = event.target,\n\t\t\t\t\temitted = false;\n\n\t\t\t\tcontext.move = function( event ) {\n\t\t\t\t\tif ( !start || event.isDefaultPrevented() ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tstop = $.event.special.swipe.stop( event );\n\t\t\t\t\tif ( !emitted ) {\n\t\t\t\t\t\temitted = $.event.special.swipe.handleSwipe( start, stop, thisObject, origTarget );\n\t\t\t\t\t\tif ( emitted ) {\n\n\t\t\t\t\t\t\t// Reset the context to make way for the next swipe event\n\t\t\t\t\t\t\t$.event.special.swipe.eventInProgress = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// prevent scrolling\n\t\t\t\t\tif ( Math.abs( start.coords[ 0 ] - stop.coords[ 0 ] ) > $.event.special.swipe.scrollSupressionThreshold ) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tcontext.stop = function() {\n\t\t\t\t\t\temitted = true;\n\n\t\t\t\t\t\t// Reset the context to make way for the next swipe event\n\t\t\t\t\t\t$.event.special.swipe.eventInProgress = false;\n\t\t\t\t\t\t$document.off( touchMoveEvent, context.move );\n\t\t\t\t\t\tcontext.move = null;\n\t\t\t\t};\n\n\t\t\t\t$document.on( touchMoveEvent, context.move )\n\t\t\t\t\t.one( touchStopEvent, context.stop );\n\t\t\t};\n\t\t\t$this.on( touchStartEvent, context.start );\n\t\t},\n\n\t\tteardown: function() {\n\t\t\tvar events, context;\n\n\t\t\tevents = $.data( this, \"mobile-events\" );\n\t\t\tif ( events ) {\n\t\t\t\tcontext = events.swipe;\n\t\t\t\tdelete events.swipe;\n\t\t\t\tevents.length--;\n\t\t\t\tif ( events.length === 0 ) {\n\t\t\t\t\t$.removeData( this, \"mobile-events\" );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( context ) {\n\t\t\t\tif ( context.start ) {\n\t\t\t\t\t$( this ).off( touchStartEvent, context.start );\n\t\t\t\t}\n\t\t\t\tif ( context.move ) {\n\t\t\t\t\t$document.off( touchMoveEvent, context.move );\n\t\t\t\t}\n\t\t\t\tif ( context.stop ) {\n\t\t\t\t\t$document.off( touchStopEvent, context.stop );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\t$.each({\n\t\tswipeleft: \"swipe.left\",\n\t\tswiperight: \"swipe.right\"\n\t}, function( event, sourceEvent ) {\n\n\t\t$.event.special[ event ] = {\n\t\t\tsetup: function() {\n\t\t\t\t$( this ).bind( sourceEvent, $.noop );\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\t$( this ).unbind( sourceEvent );\n\t\t\t}\n\t\t};\n\t});\n})( jQuery, this );\n*/\n","'use strict';\n\n!function($) {\n\nconst MutationObserver = (function () {\n  var prefixes = ['WebKit', 'Moz', 'O', 'Ms', ''];\n  for (var i=0; i < prefixes.length; i++) {\n    if (`${prefixes[i]}MutationObserver` in window) {\n      return window[`${prefixes[i]}MutationObserver`];\n    }\n  }\n  return false;\n}());\n\nconst triggers = (el, type) => {\n  el.data(type).split(' ').forEach(id => {\n    $(`#${id}`)[ type === 'close' ? 'trigger' : 'triggerHandler'](`${type}.zf.trigger`, [el]);\n  });\n};\n// Elements with [data-open] will reveal a plugin that supports it when clicked.\n$(document).on('click.zf.trigger', '[data-open]', function() {\n  triggers($(this), 'open');\n});\n\n// Elements with [data-close] will close a plugin that supports it when clicked.\n// If used without a value on [data-close], the event will bubble, allowing it to close a parent component.\n$(document).on('click.zf.trigger', '[data-close]', function() {\n  let id = $(this).data('close');\n  if (id) {\n    triggers($(this), 'close');\n  }\n  else {\n    $(this).trigger('close.zf.trigger');\n  }\n});\n\n// Elements with [data-toggle] will toggle a plugin that supports it when clicked.\n$(document).on('click.zf.trigger', '[data-toggle]', function() {\n  let id = $(this).data('toggle');\n  if (id) {\n    triggers($(this), 'toggle');\n  } else {\n    $(this).trigger('toggle.zf.trigger');\n  }\n});\n\n// Elements with [data-closable] will respond to close.zf.trigger events.\n$(document).on('close.zf.trigger', '[data-closable]', function(e){\n  e.stopPropagation();\n  let animation = $(this).data('closable');\n\n  if(animation !== ''){\n    Foundation.Motion.animateOut($(this), animation, function() {\n      $(this).trigger('closed.zf');\n    });\n  }else{\n    $(this).fadeOut().trigger('closed.zf');\n  }\n});\n\n$(document).on('focus.zf.trigger blur.zf.trigger', '[data-toggle-focus]', function() {\n  let id = $(this).data('toggle-focus');\n  $(`#${id}`).triggerHandler('toggle.zf.trigger', [$(this)]);\n});\n\n/**\n* Fires once after all other scripts have loaded\n* @function\n* @private\n*/\n$(window).on('load', () => {\n  checkListeners();\n});\n\nfunction checkListeners() {\n  eventsListener();\n  resizeListener();\n  scrollListener();\n  closemeListener();\n}\n\n//******** only fires this function once on load, if there's something to watch ********\nfunction closemeListener(pluginName) {\n  var yetiBoxes = $('[data-yeti-box]'),\n      plugNames = ['dropdown', 'tooltip', 'reveal'];\n\n  if(pluginName){\n    if(typeof pluginName === 'string'){\n      plugNames.push(pluginName);\n    }else if(typeof pluginName === 'object' && typeof pluginName[0] === 'string'){\n      plugNames.concat(pluginName);\n    }else{\n      console.error('Plugin names must be strings');\n    }\n  }\n  if(yetiBoxes.length){\n    let listeners = plugNames.map((name) => {\n      return `closeme.zf.${name}`;\n    }).join(' ');\n\n    $(window).off(listeners).on(listeners, function(e, pluginId){\n      let plugin = e.namespace.split('.')[0];\n      let plugins = $(`[data-${plugin}]`).not(`[data-yeti-box=\"${pluginId}\"]`);\n\n      plugins.each(function(){\n        let _this = $(this);\n\n        _this.triggerHandler('close.zf.trigger', [_this]);\n      });\n    });\n  }\n}\n\nfunction resizeListener(debounce){\n  let timer,\n      $nodes = $('[data-resize]');\n  if($nodes.length){\n    $(window).off('resize.zf.trigger')\n    .on('resize.zf.trigger', function(e) {\n      if (timer) { clearTimeout(timer); }\n\n      timer = setTimeout(function(){\n\n        if(!MutationObserver){//fallback for IE 9\n          $nodes.each(function(){\n            $(this).triggerHandler('resizeme.zf.trigger');\n          });\n        }\n        //trigger all listening elements and signal a resize event\n        $nodes.attr('data-events', \"resize\");\n      }, debounce || 10);//default time to emit resize event\n    });\n  }\n}\n\nfunction scrollListener(debounce){\n  let timer,\n      $nodes = $('[data-scroll]');\n  if($nodes.length){\n    $(window).off('scroll.zf.trigger')\n    .on('scroll.zf.trigger', function(e){\n      if(timer){ clearTimeout(timer); }\n\n      timer = setTimeout(function(){\n\n        if(!MutationObserver){//fallback for IE 9\n          $nodes.each(function(){\n            $(this).triggerHandler('scrollme.zf.trigger');\n          });\n        }\n        //trigger all listening elements and signal a scroll event\n        $nodes.attr('data-events', \"scroll\");\n      }, debounce || 10);//default time to emit scroll event\n    });\n  }\n}\n\nfunction eventsListener() {\n  if(!MutationObserver){ return false; }\n  let nodes = document.querySelectorAll('[data-resize], [data-scroll], [data-mutate]');\n\n  //element callback\n  var listeningElementsMutation = function (mutationRecordsList) {\n      var $target = $(mutationRecordsList[0].target);\n\n\t  //trigger the event handler for the element depending on type\n      switch (mutationRecordsList[0].type) {\n\n        case \"attributes\":\n          if ($target.attr(\"data-events\") === \"scroll\" && mutationRecordsList[0].attributeName === \"data-events\") {\n\t\t  \t$target.triggerHandler('scrollme.zf.trigger', [$target, window.pageYOffset]);\n\t\t  }\n\t\t  if ($target.attr(\"data-events\") === \"resize\" && mutationRecordsList[0].attributeName === \"data-events\") {\n\t\t  \t$target.triggerHandler('resizeme.zf.trigger', [$target]);\n\t\t   }\n\t\t  if (mutationRecordsList[0].attributeName === \"style\") {\n\t\t\t  $target.closest(\"[data-mutate]\").attr(\"data-events\",\"mutate\");\n\t\t\t  $target.closest(\"[data-mutate]\").triggerHandler('mutateme.zf.trigger', [$target.closest(\"[data-mutate]\")]);\n\t\t  }\n\t\t  break;\n\n        case \"childList\":\n\t\t  $target.closest(\"[data-mutate]\").attr(\"data-events\",\"mutate\");\n\t\t  $target.closest(\"[data-mutate]\").triggerHandler('mutateme.zf.trigger', [$target.closest(\"[data-mutate]\")]);\n          break;\n\n        default:\n          return false;\n        //nothing\n      }\n    };\n\n    if (nodes.length) {\n      //for each element that needs to listen for resizing, scrolling, or mutation add a single observer\n      for (var i = 0; i <= nodes.length - 1; i++) {\n        var elementObserver = new MutationObserver(listeningElementsMutation);\n        elementObserver.observe(nodes[i], { attributes: true, childList: true, characterData: false, subtree: true, attributeFilter: [\"data-events\", \"style\"] });\n      }\n    }\n  }\n\n// ------------------------------------\n\n// [PH]\n// Foundation.CheckWatchers = checkWatchers;\nFoundation.IHearYou = checkListeners;\n// Foundation.ISeeYou = scrollListener;\n// Foundation.IFeelYou = closemeListener;\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\n/**\n * Accordion module.\n * @module foundation.accordion\n * @requires foundation.util.keyboard\n * @requires foundation.util.motion\n */\n\nclass Accordion {\n  /**\n   * Creates a new instance of an accordion.\n   * @class\n   * @fires Accordion#init\n   * @param {jQuery} element - jQuery object to make into an accordion.\n   * @param {Object} options - a plain object with settings to override the default options.\n   */\n  constructor(element, options) {\n    this.$element = element;\n    this.options = $.extend({}, Accordion.defaults, this.$element.data(), options);\n\n    this._init();\n\n    Foundation.registerPlugin(this, 'Accordion');\n    Foundation.Keyboard.register('Accordion', {\n      'ENTER': 'toggle',\n      'SPACE': 'toggle',\n      'ARROW_DOWN': 'next',\n      'ARROW_UP': 'previous'\n    });\n  }\n\n  /**\n   * Initializes the accordion by animating the preset active pane(s).\n   * @private\n   */\n  _init() {\n    this.$element.attr('role', 'tablist');\n    this.$tabs = this.$element.children('[data-accordion-item]');\n\n    this.$tabs.each(function(idx, el) {\n      var $el = $(el),\n          $content = $el.children('[data-tab-content]'),\n          id = $content[0].id || Foundation.GetYoDigits(6, 'accordion'),\n          linkId = el.id || `${id}-label`;\n\n      $el.find('a:first').attr({\n        'aria-controls': id,\n        'role': 'tab',\n        'id': linkId,\n        'aria-expanded': false,\n        'aria-selected': false\n      });\n\n      $content.attr({'role': 'tabpanel', 'aria-labelledby': linkId, 'aria-hidden': true, 'id': id});\n    });\n    var $initActive = this.$element.find('.is-active').children('[data-tab-content]');\n    this.firstTimeInit = true;\n    if($initActive.length){\n      this.down($initActive, this.firstTimeInit);\n      this.firstTimeInit = false;\n    }\n\n    this._checkDeepLink = () => {\n      var anchor = window.location.hash;\n      //need a hash and a relevant anchor in this tabset\n      if(anchor.length) {\n        var $link = this.$element.find('[href$=\"'+anchor+'\"]'),\n        $anchor = $(anchor);\n\n        if ($link.length && $anchor) {\n          if (!$link.parent('[data-accordion-item]').hasClass('is-active')) {\n            this.down($anchor, this.firstTimeInit);\n            this.firstTimeInit = false;\n          };\n\n          //roll up a little to show the titles\n          if (this.options.deepLinkSmudge) {\n            var _this = this;\n            $(window).load(function() {\n              var offset = _this.$element.offset();\n              $('html, body').animate({ scrollTop: offset.top }, _this.options.deepLinkSmudgeDelay);\n            });\n          }\n\n          /**\n            * Fires when the zplugin has deeplinked at pageload\n            * @event Accordion#deeplink\n            */\n          this.$element.trigger('deeplink.zf.accordion', [$link, $anchor]);\n        }\n      }\n    }\n\n    //use browser to open a tab, if it exists in this tabset\n    if (this.options.deepLink) {\n      this._checkDeepLink();\n    }\n\n    this._events();\n  }\n\n  /**\n   * Adds event handlers for items within the accordion.\n   * @private\n   */\n  _events() {\n    var _this = this;\n\n    this.$tabs.each(function() {\n      var $elem = $(this);\n      var $tabContent = $elem.children('[data-tab-content]');\n      if ($tabContent.length) {\n        $elem.children('a').off('click.zf.accordion keydown.zf.accordion')\n               .on('click.zf.accordion', function(e) {\n          e.preventDefault();\n          _this.toggle($tabContent);\n        }).on('keydown.zf.accordion', function(e){\n          Foundation.Keyboard.handleKey(e, 'Accordion', {\n            toggle: function() {\n              _this.toggle($tabContent);\n            },\n            next: function() {\n              var $a = $elem.next().find('a').focus();\n              if (!_this.options.multiExpand) {\n                $a.trigger('click.zf.accordion')\n              }\n            },\n            previous: function() {\n              var $a = $elem.prev().find('a').focus();\n              if (!_this.options.multiExpand) {\n                $a.trigger('click.zf.accordion')\n              }\n            },\n            handled: function() {\n              e.preventDefault();\n              e.stopPropagation();\n            }\n          });\n        });\n      }\n    });\n    if(this.options.deepLink) {\n      $(window).on('popstate', this._checkDeepLink);\n    }\n  }\n\n  /**\n   * Toggles the selected content pane's open/close state.\n   * @param {jQuery} $target - jQuery object of the pane to toggle (`.accordion-content`).\n   * @function\n   */\n  toggle($target) {\n    if($target.parent().hasClass('is-active')) {\n      this.up($target);\n    } else {\n      this.down($target);\n    }\n    //either replace or update browser history\n    if (this.options.deepLink) {\n      var anchor = $target.prev('a').attr('href');\n\n      if (this.options.updateHistory) {\n        history.pushState({}, '', anchor);\n      } else {\n        history.replaceState({}, '', anchor);\n      }\n    }\n  }\n\n  /**\n   * Opens the accordion tab defined by `$target`.\n   * @param {jQuery} $target - Accordion pane to open (`.accordion-content`).\n   * @param {Boolean} firstTime - flag to determine if reflow should happen.\n   * @fires Accordion#down\n   * @function\n   */\n  down($target, firstTime) {\n    $target\n      .attr('aria-hidden', false)\n      .parent('[data-tab-content]')\n      .addBack()\n      .parent().addClass('is-active');\n\n    if (!this.options.multiExpand && !firstTime) {\n      var $currentActive = this.$element.children('.is-active').children('[data-tab-content]');\n      if ($currentActive.length) {\n        this.up($currentActive.not($target));\n      }\n    }\n\n    $target.slideDown(this.options.slideSpeed, () => {\n      /**\n       * Fires when the tab is done opening.\n       * @event Accordion#down\n       */\n      this.$element.trigger('down.zf.accordion', [$target]);\n    });\n\n    $(`#${$target.attr('aria-labelledby')}`).attr({\n      'aria-expanded': true,\n      'aria-selected': true\n    });\n  }\n\n  /**\n   * Closes the tab defined by `$target`.\n   * @param {jQuery} $target - Accordion tab to close (`.accordion-content`).\n   * @fires Accordion#up\n   * @function\n   */\n  up($target) {\n    var $aunts = $target.parent().siblings(),\n        _this = this;\n\n    if((!this.options.allowAllClosed && !$aunts.hasClass('is-active')) || !$target.parent().hasClass('is-active')) {\n      return;\n    }\n\n    // Foundation.Move(this.options.slideSpeed, $target, function(){\n      $target.slideUp(_this.options.slideSpeed, function () {\n        /**\n         * Fires when the tab is done collapsing up.\n         * @event Accordion#up\n         */\n        _this.$element.trigger('up.zf.accordion', [$target]);\n      });\n    // });\n\n    $target.attr('aria-hidden', true)\n           .parent().removeClass('is-active');\n\n    $(`#${$target.attr('aria-labelledby')}`).attr({\n     'aria-expanded': false,\n     'aria-selected': false\n   });\n  }\n\n  /**\n   * Destroys an instance of an accordion.\n   * @fires Accordion#destroyed\n   * @function\n   */\n  destroy() {\n    this.$element.find('[data-tab-content]').stop(true).slideUp(0).css('display', '');\n    this.$element.find('a').off('.zf.accordion');\n    if(this.options.deepLink) {\n      $(window).off('popstate', this._checkDeepLink);\n    }\n\n    Foundation.unregisterPlugin(this);\n  }\n}\n\nAccordion.defaults = {\n  /**\n   * Amount of time to animate the opening of an accordion pane.\n   * @option\n   * @type {number}\n   * @default 250\n   */\n  slideSpeed: 250,\n  /**\n   * Allow the accordion to have multiple open panes.\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  multiExpand: false,\n  /**\n   * Allow the accordion to close all panes.\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  allowAllClosed: false,\n  /**\n   * Allows the window to scroll to content of pane specified by hash anchor\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  deepLink: false,\n\n  /**\n   * Adjust the deep link scroll to make sure the top of the accordion panel is visible\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  deepLinkSmudge: false,\n\n  /**\n   * Animation time (ms) for the deep link adjustment\n   * @option\n   * @type {number}\n   * @default 300\n   */\n  deepLinkSmudgeDelay: 300,\n\n  /**\n   * Update the browser history with the open accordion\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  updateHistory: false\n};\n\n// Window exports\nFoundation.plugin(Accordion, 'Accordion');\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\n/**\n * Interchange module.\n * @module foundation.interchange\n * @requires foundation.util.mediaQuery\n * @requires foundation.util.timerAndImageLoader\n */\n\nclass Interchange {\n  /**\n   * Creates a new instance of Interchange.\n   * @class\n   * @fires Interchange#init\n   * @param {Object} element - jQuery object to add the trigger to.\n   * @param {Object} options - Overrides to the default plugin settings.\n   */\n  constructor(element, options) {\n    this.$element = element;\n    this.options = $.extend({}, Interchange.defaults, options);\n    this.rules = [];\n    this.currentPath = '';\n\n    this._init();\n    this._events();\n\n    Foundation.registerPlugin(this, 'Interchange');\n  }\n\n  /**\n   * Initializes the Interchange plugin and calls functions to get interchange functioning on load.\n   * @function\n   * @private\n   */\n  _init() {\n    this._addBreakpoints();\n    this._generateRules();\n    this._reflow();\n  }\n\n  /**\n   * Initializes events for Interchange.\n   * @function\n   * @private\n   */\n  _events() {\n    $(window).on('resize.zf.interchange', Foundation.util.throttle(() => {\n      this._reflow();\n    }, 50));\n  }\n\n  /**\n   * Calls necessary functions to update Interchange upon DOM change\n   * @function\n   * @private\n   */\n  _reflow() {\n    var match;\n\n    // Iterate through each rule, but only save the last match\n    for (var i in this.rules) {\n      if(this.rules.hasOwnProperty(i)) {\n        var rule = this.rules[i];\n        if (window.matchMedia(rule.query).matches) {\n          match = rule;\n        }\n      }\n    }\n\n    if (match) {\n      this.replace(match.path);\n    }\n  }\n\n  /**\n   * Gets the Foundation breakpoints and adds them to the Interchange.SPECIAL_QUERIES object.\n   * @function\n   * @private\n   */\n  _addBreakpoints() {\n    for (var i in Foundation.MediaQuery.queries) {\n      if (Foundation.MediaQuery.queries.hasOwnProperty(i)) {\n        var query = Foundation.MediaQuery.queries[i];\n        Interchange.SPECIAL_QUERIES[query.name] = query.value;\n      }\n    }\n  }\n\n  /**\n   * Checks the Interchange element for the provided media query + content pairings\n   * @function\n   * @private\n   * @param {Object} element - jQuery object that is an Interchange instance\n   * @returns {Array} scenarios - Array of objects that have 'mq' and 'path' keys with corresponding keys\n   */\n  _generateRules(element) {\n    var rulesList = [];\n    var rules;\n\n    if (this.options.rules) {\n      rules = this.options.rules;\n    }\n    else {\n      rules = this.$element.data('interchange');\n    }\n    \n    rules =  typeof rules === 'string' ? rules.match(/\\[.*?\\]/g) : rules;\n\n    for (var i in rules) {\n      if(rules.hasOwnProperty(i)) {\n        var rule = rules[i].slice(1, -1).split(', ');\n        var path = rule.slice(0, -1).join('');\n        var query = rule[rule.length - 1];\n\n        if (Interchange.SPECIAL_QUERIES[query]) {\n          query = Interchange.SPECIAL_QUERIES[query];\n        }\n\n        rulesList.push({\n          path: path,\n          query: query\n        });\n      }\n    }\n\n    this.rules = rulesList;\n  }\n\n  /**\n   * Update the `src` property of an image, or change the HTML of a container, to the specified path.\n   * @function\n   * @param {String} path - Path to the image or HTML partial.\n   * @fires Interchange#replaced\n   */\n  replace(path) {\n    if (this.currentPath === path) return;\n\n    var _this = this,\n        trigger = 'replaced.zf.interchange';\n\n    // Replacing images\n    if (this.$element[0].nodeName === 'IMG') {\n      this.$element.attr('src', path).on('load', function() {\n        _this.currentPath = path;\n      })\n      .trigger(trigger);\n    }\n    // Replacing background images\n    else if (path.match(/\\.(gif|jpg|jpeg|png|svg|tiff)([?#].*)?/i)) {\n      this.$element.css({ 'background-image': 'url('+path+')' })\n          .trigger(trigger);\n    }\n    // Replacing HTML\n    else {\n      $.get(path, function(response) {\n        _this.$element.html(response)\n             .trigger(trigger);\n        $(response).foundation();\n        _this.currentPath = path;\n      });\n    }\n\n    /**\n     * Fires when content in an Interchange element is done being loaded.\n     * @event Interchange#replaced\n     */\n    // this.$element.trigger('replaced.zf.interchange');\n  }\n\n  /**\n   * Destroys an instance of interchange.\n   * @function\n   */\n  destroy() {\n    //TODO this.\n  }\n}\n\n/**\n * Default settings for plugin\n */\nInterchange.defaults = {\n  /**\n   * Rules to be applied to Interchange elements. Set with the `data-interchange` array notation.\n   * @option\n   * @type {?array}\n   * @default null\n   */\n  rules: null\n};\n\nInterchange.SPECIAL_QUERIES = {\n  'landscape': 'screen and (orientation: landscape)',\n  'portrait': 'screen and (orientation: portrait)',\n  'retina': 'only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min-device-pixel-ratio: 2), only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx)'\n};\n\n// Window exports\nFoundation.plugin(Interchange, 'Interchange');\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\n/**\n * Tabs module.\n * @module foundation.tabs\n * @requires foundation.util.keyboard\n * @requires foundation.util.timerAndImageLoader if tabs contain images\n */\n\nclass Tabs {\n  /**\n   * Creates a new instance of tabs.\n   * @class\n   * @fires Tabs#init\n   * @param {jQuery} element - jQuery object to make into tabs.\n   * @param {Object} options - Overrides to the default plugin settings.\n   */\n  constructor(element, options) {\n    this.$element = element;\n    this.options = $.extend({}, Tabs.defaults, this.$element.data(), options);\n\n    this._init();\n    Foundation.registerPlugin(this, 'Tabs');\n    Foundation.Keyboard.register('Tabs', {\n      'ENTER': 'open',\n      'SPACE': 'open',\n      'ARROW_RIGHT': 'next',\n      'ARROW_UP': 'previous',\n      'ARROW_DOWN': 'next',\n      'ARROW_LEFT': 'previous'\n      // 'TAB': 'next',\n      // 'SHIFT_TAB': 'previous'\n    });\n  }\n\n  /**\n   * Initializes the tabs by showing and focusing (if autoFocus=true) the preset active tab.\n   * @private\n   */\n  _init() {\n    var _this = this;\n\n    this.$element.attr({'role': 'tablist'});\n    this.$tabTitles = this.$element.find(`.${this.options.linkClass}`);\n    this.$tabContent = $(`[data-tabs-content=\"${this.$element[0].id}\"]`);\n\n    this.$tabTitles.each(function(){\n      var $elem = $(this),\n          $link = $elem.find('a'),\n          isActive = $elem.hasClass(`${_this.options.linkActiveClass}`),\n          hash = $link[0].hash.slice(1),\n          linkId = $link[0].id ? $link[0].id : `${hash}-label`,\n          $tabContent = $(`#${hash}`);\n\n      $elem.attr({'role': 'presentation'});\n\n      $link.attr({\n        'role': 'tab',\n        'aria-controls': hash,\n        'aria-selected': isActive,\n        'id': linkId\n      });\n\n      $tabContent.attr({\n        'role': 'tabpanel',\n        'aria-hidden': !isActive,\n        'aria-labelledby': linkId\n      });\n\n      if(isActive && _this.options.autoFocus){\n        $(window).load(function() {\n          $('html, body').animate({ scrollTop: $elem.offset().top }, _this.options.deepLinkSmudgeDelay, () => {\n            $link.focus();\n          });\n        });\n      }\n    });\n    if(this.options.matchHeight) {\n      var $images = this.$tabContent.find('img');\n\n      if ($images.length) {\n        Foundation.onImagesLoaded($images, this._setHeight.bind(this));\n      } else {\n        this._setHeight();\n      }\n    }\n\n     //current context-bound function to open tabs on page load or history popstate\n    this._checkDeepLink = () => {\n      var anchor = window.location.hash;\n      //need a hash and a relevant anchor in this tabset\n      if(anchor.length) {\n        var $link = this.$element.find('[href$=\"'+anchor+'\"]');\n        if ($link.length) {\n          this.selectTab($(anchor), true);\n\n          //roll up a little to show the titles\n          if (this.options.deepLinkSmudge) {\n            var offset = this.$element.offset();\n            $('html, body').animate({ scrollTop: offset.top }, this.options.deepLinkSmudgeDelay);\n          }\n\n          /**\n            * Fires when the zplugin has deeplinked at pageload\n            * @event Tabs#deeplink\n            */\n           this.$element.trigger('deeplink.zf.tabs', [$link, $(anchor)]);\n         }\n       }\n     }\n\n    //use browser to open a tab, if it exists in this tabset\n    if (this.options.deepLink) {\n      this._checkDeepLink();\n    }\n\n    this._events();\n  }\n\n  /**\n   * Adds event handlers for items within the tabs.\n   * @private\n   */\n  _events() {\n    this._addKeyHandler();\n    this._addClickHandler();\n    this._setHeightMqHandler = null;\n\n    if (this.options.matchHeight) {\n      this._setHeightMqHandler = this._setHeight.bind(this);\n\n      $(window).on('changed.zf.mediaquery', this._setHeightMqHandler);\n    }\n\n    if(this.options.deepLink) {\n      $(window).on('popstate', this._checkDeepLink);\n    }\n  }\n\n  /**\n   * Adds click handlers for items within the tabs.\n   * @private\n   */\n  _addClickHandler() {\n    var _this = this;\n\n    this.$element\n      .off('click.zf.tabs')\n      .on('click.zf.tabs', `.${this.options.linkClass}`, function(e){\n        e.preventDefault();\n        e.stopPropagation();\n        _this._handleTabChange($(this));\n      });\n  }\n\n  /**\n   * Adds keyboard event handlers for items within the tabs.\n   * @private\n   */\n  _addKeyHandler() {\n    var _this = this;\n\n    this.$tabTitles.off('keydown.zf.tabs').on('keydown.zf.tabs', function(e){\n      if (e.which === 9) return;\n\n\n      var $element = $(this),\n        $elements = $element.parent('ul').children('li'),\n        $prevElement,\n        $nextElement;\n\n      $elements.each(function(i) {\n        if ($(this).is($element)) {\n          if (_this.options.wrapOnKeys) {\n            $prevElement = i === 0 ? $elements.last() : $elements.eq(i-1);\n            $nextElement = i === $elements.length -1 ? $elements.first() : $elements.eq(i+1);\n          } else {\n            $prevElement = $elements.eq(Math.max(0, i-1));\n            $nextElement = $elements.eq(Math.min(i+1, $elements.length-1));\n          }\n          return;\n        }\n      });\n\n      // handle keyboard event with keyboard util\n      Foundation.Keyboard.handleKey(e, 'Tabs', {\n        open: function() {\n          $element.find('[role=\"tab\"]').focus();\n          _this._handleTabChange($element);\n        },\n        previous: function() {\n          $prevElement.find('[role=\"tab\"]').focus();\n          _this._handleTabChange($prevElement);\n        },\n        next: function() {\n          $nextElement.find('[role=\"tab\"]').focus();\n          _this._handleTabChange($nextElement);\n        },\n        handled: function() {\n          e.stopPropagation();\n          e.preventDefault();\n        }\n      });\n    });\n  }\n\n  /**\n   * Opens the tab `$targetContent` defined by `$target`. Collapses active tab.\n   * @param {jQuery} $target - Tab to open.\n   * @param {boolean} historyHandled - browser has already handled a history update\n   * @fires Tabs#change\n   * @function\n   */\n  _handleTabChange($target, historyHandled) {\n\n    /**\n     * Check for active class on target. Collapse if exists.\n     */\n    if ($target.hasClass(`${this.options.linkActiveClass}`)) {\n        if(this.options.activeCollapse) {\n            this._collapseTab($target);\n\n           /**\n            * Fires when the zplugin has successfully collapsed tabs.\n            * @event Tabs#collapse\n            */\n            this.$element.trigger('collapse.zf.tabs', [$target]);\n        }\n        return;\n    }\n\n    var $oldTab = this.$element.\n          find(`.${this.options.linkClass}.${this.options.linkActiveClass}`),\n          $tabLink = $target.find('[role=\"tab\"]'),\n          hash = $tabLink[0].hash,\n          $targetContent = this.$tabContent.find(hash);\n\n    //close old tab\n    this._collapseTab($oldTab);\n\n    //open new tab\n    this._openTab($target);\n\n    //either replace or update browser history\n    if (this.options.deepLink && !historyHandled) {\n      var anchor = $target.find('a').attr('href');\n\n      if (this.options.updateHistory) {\n        history.pushState({}, '', anchor);\n      } else {\n        history.replaceState({}, '', anchor);\n      }\n    }\n\n    /**\n     * Fires when the plugin has successfully changed tabs.\n     * @event Tabs#change\n     */\n    this.$element.trigger('change.zf.tabs', [$target, $targetContent]);\n\n    //fire to children a mutation event\n    $targetContent.find(\"[data-mutate]\").trigger(\"mutateme.zf.trigger\");\n  }\n\n  /**\n   * Opens the tab `$targetContent` defined by `$target`.\n   * @param {jQuery} $target - Tab to Open.\n   * @function\n   */\n  _openTab($target) {\n      var $tabLink = $target.find('[role=\"tab\"]'),\n          hash = $tabLink[0].hash,\n          $targetContent = this.$tabContent.find(hash);\n\n      $target.addClass(`${this.options.linkActiveClass}`);\n\n      $tabLink.attr({'aria-selected': 'true'});\n\n      $targetContent\n        .addClass(`${this.options.panelActiveClass}`)\n        .attr({'aria-hidden': 'false'});\n  }\n\n  /**\n   * Collapses `$targetContent` defined by `$target`.\n   * @param {jQuery} $target - Tab to Open.\n   * @function\n   */\n  _collapseTab($target) {\n    var $target_anchor = $target\n      .removeClass(`${this.options.linkActiveClass}`)\n      .find('[role=\"tab\"]')\n      .attr({ 'aria-selected': 'false' });\n\n    $(`#${$target_anchor.attr('aria-controls')}`)\n      .removeClass(`${this.options.panelActiveClass}`)\n      .attr({ 'aria-hidden': 'true' });\n  }\n\n  /**\n   * Public method for selecting a content pane to display.\n   * @param {jQuery | String} elem - jQuery object or string of the id of the pane to display.\n   * @param {boolean} historyHandled - browser has already handled a history update\n   * @function\n   */\n  selectTab(elem, historyHandled) {\n    var idStr;\n\n    if (typeof elem === 'object') {\n      idStr = elem[0].id;\n    } else {\n      idStr = elem;\n    }\n\n    if (idStr.indexOf('#') < 0) {\n      idStr = `#${idStr}`;\n    }\n\n    var $target = this.$tabTitles.find(`[href$=\"${idStr}\"]`).parent(`.${this.options.linkClass}`);\n\n    this._handleTabChange($target, historyHandled);\n  };\n  /**\n   * Sets the height of each panel to the height of the tallest panel.\n   * If enabled in options, gets called on media query change.\n   * If loading content via external source, can be called directly or with _reflow.\n   * If enabled with `data-match-height=\"true\"`, tabs sets to equal height\n   * @function\n   * @private\n   */\n  _setHeight() {\n    var max = 0,\n        _this = this; // Lock down the `this` value for the root tabs object\n\n    this.$tabContent\n      .find(`.${this.options.panelClass}`)\n      .css('height', '')\n      .each(function() {\n\n        var panel = $(this),\n            isActive = panel.hasClass(`${_this.options.panelActiveClass}`); // get the options from the parent instead of trying to get them from the child\n\n        if (!isActive) {\n          panel.css({'visibility': 'hidden', 'display': 'block'});\n        }\n\n        var temp = this.getBoundingClientRect().height;\n\n        if (!isActive) {\n          panel.css({\n            'visibility': '',\n            'display': ''\n          });\n        }\n\n        max = temp > max ? temp : max;\n      })\n      .css('height', `${max}px`);\n  }\n\n  /**\n   * Destroys an instance of an tabs.\n   * @fires Tabs#destroyed\n   */\n  destroy() {\n    this.$element\n      .find(`.${this.options.linkClass}`)\n      .off('.zf.tabs').hide().end()\n      .find(`.${this.options.panelClass}`)\n      .hide();\n\n    if (this.options.matchHeight) {\n      if (this._setHeightMqHandler != null) {\n         $(window).off('changed.zf.mediaquery', this._setHeightMqHandler);\n      }\n    }\n\n    if (this.options.deepLink) {\n      $(window).off('popstate', this._checkDeepLink);\n    }\n\n    Foundation.unregisterPlugin(this);\n  }\n}\n\nTabs.defaults = {\n  /**\n   * Allows the window to scroll to content of pane specified by hash anchor\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  deepLink: false,\n\n  /**\n   * Adjust the deep link scroll to make sure the top of the tab panel is visible\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  deepLinkSmudge: false,\n\n  /**\n   * Animation time (ms) for the deep link adjustment\n   * @option\n   * @type {number}\n   * @default 300\n   */\n  deepLinkSmudgeDelay: 300,\n\n  /**\n   * Update the browser history with the open tab\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  updateHistory: false,\n\n  /**\n   * Allows the window to scroll to content of active pane on load if set to true.\n   * Not recommended if more than one tab panel per page.\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  autoFocus: false,\n\n  /**\n   * Allows keyboard input to 'wrap' around the tab links.\n   * @option\n   * @type {boolean}\n   * @default true\n   */\n  wrapOnKeys: true,\n\n  /**\n   * Allows the tab content panes to match heights if set to true.\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  matchHeight: false,\n\n  /**\n   * Allows active tabs to collapse when clicked.\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  activeCollapse: false,\n\n  /**\n   * Class applied to `li`'s in tab link list.\n   * @option\n   * @type {string}\n   * @default 'tabs-title'\n   */\n  linkClass: 'tabs-title',\n\n  /**\n   * Class applied to the active `li` in tab link list.\n   * @option\n   * @type {string}\n   * @default 'is-active'\n   */\n  linkActiveClass: 'is-active',\n\n  /**\n   * Class applied to the content containers.\n   * @option\n   * @type {string}\n   * @default 'tabs-panel'\n   */\n  panelClass: 'tabs-panel',\n\n  /**\n   * Class applied to the active content container.\n   * @option\n   * @type {string}\n   * @default 'is-active'\n   */\n  panelActiveClass: 'is-active'\n};\n\n// Window exports\nFoundation.plugin(Tabs, 'Tabs');\n\n}(jQuery);\n","/*!\n * Flickity PACKAGED v2.1.1\n * Touch, responsive, flickable carousels\n *\n * Licensed GPLv3 for open source use\n * or Flickity Commercial License for commercial use\n *\n * https://flickity.metafizzy.co\n * Copyright 2015-2018 Metafizzy\n */\n\n/**\n * Bridget makes jQuery widgets\n * v2.0.1\n * MIT license\n */\n\n/* jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /* globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'jquery-bridget/jquery-bridget',[ 'jquery' ], function( jQuery ) {\n      return factory( window, jQuery );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('jquery')\n    );\n  } else {\n    // browser global\n    window.jQueryBridget = factory(\n      window,\n      window.jQuery\n    );\n  }\n\n}( window, function factory( window, jQuery ) {\n'use strict';\n\n// ----- utils ----- //\n\nvar arraySlice = Array.prototype.slice;\n\n// helper function for logging errors\n// $.error breaks jQuery chaining\nvar console = window.console;\nvar logError = typeof console == 'undefined' ? function() {} :\n  function( message ) {\n    console.error( message );\n  };\n\n// ----- jQueryBridget ----- //\n\nfunction jQueryBridget( namespace, PluginClass, $ ) {\n  $ = $ || jQuery || window.jQuery;\n  if ( !$ ) {\n    return;\n  }\n\n  // add option method -> $().plugin('option', {...})\n  if ( !PluginClass.prototype.option ) {\n    // option setter\n    PluginClass.prototype.option = function( opts ) {\n      // bail out if not an object\n      if ( !$.isPlainObject( opts ) ){\n        return;\n      }\n      this.options = $.extend( true, this.options, opts );\n    };\n  }\n\n  // make jQuery plugin\n  $.fn[ namespace ] = function( arg0 /*, arg1 */ ) {\n    if ( typeof arg0 == 'string' ) {\n      // method call $().plugin( 'methodName', { options } )\n      // shift arguments by 1\n      var args = arraySlice.call( arguments, 1 );\n      return methodCall( this, arg0, args );\n    }\n    // just $().plugin({ options })\n    plainCall( this, arg0 );\n    return this;\n  };\n\n  // $().plugin('methodName')\n  function methodCall( $elems, methodName, args ) {\n    var returnValue;\n    var pluginMethodStr = '$().' + namespace + '(\"' + methodName + '\")';\n\n    $elems.each( function( i, elem ) {\n      // get instance\n      var instance = $.data( elem, namespace );\n      if ( !instance ) {\n        logError( namespace + ' not initialized. Cannot call methods, i.e. ' +\n          pluginMethodStr );\n        return;\n      }\n\n      var method = instance[ methodName ];\n      if ( !method || methodName.charAt(0) == '_' ) {\n        logError( pluginMethodStr + ' is not a valid method' );\n        return;\n      }\n\n      // apply method, get return value\n      var value = method.apply( instance, args );\n      // set return value if value is returned, use only first value\n      returnValue = returnValue === undefined ? value : returnValue;\n    });\n\n    return returnValue !== undefined ? returnValue : $elems;\n  }\n\n  function plainCall( $elems, options ) {\n    $elems.each( function( i, elem ) {\n      var instance = $.data( elem, namespace );\n      if ( instance ) {\n        // set options & init\n        instance.option( options );\n        instance._init();\n      } else {\n        // initialize new instance\n        instance = new PluginClass( elem, options );\n        $.data( elem, namespace, instance );\n      }\n    });\n  }\n\n  updateJQuery( $ );\n\n}\n\n// ----- updateJQuery ----- //\n\n// set $.bridget for v1 backwards compatibility\nfunction updateJQuery( $ ) {\n  if ( !$ || ( $ && $.bridget ) ) {\n    return;\n  }\n  $.bridget = jQueryBridget;\n}\n\nupdateJQuery( jQuery || window.jQuery );\n\n// -----  ----- //\n\nreturn jQueryBridget;\n\n}));\n\n/**\n * EvEmitter v1.1.0\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n( function( global, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, window */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( 'ev-emitter/ev-emitter',factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n\n}( typeof window != 'undefined' ? window : this, function() {\n\n\n\nfunction EvEmitter() {}\n\nvar proto = EvEmitter.prototype;\n\nproto.on = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // set events hash\n  var events = this._events = this._events || {};\n  // set listeners array\n  var listeners = events[ eventName ] = events[ eventName ] || [];\n  // only add once\n  if ( listeners.indexOf( listener ) == -1 ) {\n    listeners.push( listener );\n  }\n\n  return this;\n};\n\nproto.once = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // add event\n  this.on( eventName, listener );\n  // set once flag\n  // set onceEvents hash\n  var onceEvents = this._onceEvents = this._onceEvents || {};\n  // set onceListeners object\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\n  // set flag\n  onceListeners[ listener ] = true;\n\n  return this;\n};\n\nproto.off = function( eventName, listener ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var index = listeners.indexOf( listener );\n  if ( index != -1 ) {\n    listeners.splice( index, 1 );\n  }\n\n  return this;\n};\n\nproto.emitEvent = function( eventName, args ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  // copy over to avoid interference if .off() in listener\n  listeners = listeners.slice(0);\n  args = args || [];\n  // once stuff\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n  for ( var i=0; i < listeners.length; i++ ) {\n    var listener = listeners[i]\n    var isOnce = onceListeners && onceListeners[ listener ];\n    if ( isOnce ) {\n      // remove listener\n      // remove before trigger to prevent recursion\n      this.off( eventName, listener );\n      // unset once flag\n      delete onceListeners[ listener ];\n    }\n    // trigger listener\n    listener.apply( this, args );\n  }\n\n  return this;\n};\n\nproto.allOff = function() {\n  delete this._events;\n  delete this._onceEvents;\n};\n\nreturn EvEmitter;\n\n}));\n\n/*!\n * getSize v2.0.2\n * measure size of elements\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n/*global define: false, module: false, console: false */\n\n( function( window, factory ) {\n  'use strict';\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'get-size/get-size',[],function() {\n      return factory();\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.getSize = factory();\n  }\n\n})( window, function factory() {\n'use strict';\n\n// -------------------------- helpers -------------------------- //\n\n// get a number from a string, not a percentage\nfunction getStyleSize( value ) {\n  var num = parseFloat( value );\n  // not a percent like '100%', and a number\n  var isValid = value.indexOf('%') == -1 && !isNaN( num );\n  return isValid && num;\n}\n\nfunction noop() {}\n\nvar logError = typeof console == 'undefined' ? noop :\n  function( message ) {\n    console.error( message );\n  };\n\n// -------------------------- measurements -------------------------- //\n\nvar measurements = [\n  'paddingLeft',\n  'paddingRight',\n  'paddingTop',\n  'paddingBottom',\n  'marginLeft',\n  'marginRight',\n  'marginTop',\n  'marginBottom',\n  'borderLeftWidth',\n  'borderRightWidth',\n  'borderTopWidth',\n  'borderBottomWidth'\n];\n\nvar measurementsLength = measurements.length;\n\nfunction getZeroSize() {\n  var size = {\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0,\n    outerWidth: 0,\n    outerHeight: 0\n  };\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    size[ measurement ] = 0;\n  }\n  return size;\n}\n\n// -------------------------- getStyle -------------------------- //\n\n/**\n * getStyle, get style of element, check for Firefox bug\n * https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n */\nfunction getStyle( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    logError( 'Style returned ' + style +\n      '. Are you running this code in a hidden iframe on Firefox? ' +\n      'See http://bit.ly/getsizebug1' );\n  }\n  return style;\n}\n\n// -------------------------- setup -------------------------- //\n\nvar isSetup = false;\n\nvar isBoxSizeOuter;\n\n/**\n * setup\n * check isBoxSizerOuter\n * do on first getSize() rather than on page load for Firefox bug\n */\nfunction setup() {\n  // setup once\n  if ( isSetup ) {\n    return;\n  }\n  isSetup = true;\n\n  // -------------------------- box sizing -------------------------- //\n\n  /**\n   * WebKit measures the outer-width on style.width on border-box elems\n   * IE & Firefox<29 measures the inner-width\n   */\n  var div = document.createElement('div');\n  div.style.width = '200px';\n  div.style.padding = '1px 2px 3px 4px';\n  div.style.borderStyle = 'solid';\n  div.style.borderWidth = '1px 2px 3px 4px';\n  div.style.boxSizing = 'border-box';\n\n  var body = document.body || document.documentElement;\n  body.appendChild( div );\n  var style = getStyle( div );\n\n  getSize.isBoxSizeOuter = isBoxSizeOuter = getStyleSize( style.width ) == 200;\n  body.removeChild( div );\n\n}\n\n// -------------------------- getSize -------------------------- //\n\nfunction getSize( elem ) {\n  setup();\n\n  // use querySeletor if elem is string\n  if ( typeof elem == 'string' ) {\n    elem = document.querySelector( elem );\n  }\n\n  // do not proceed on non-objects\n  if ( !elem || typeof elem != 'object' || !elem.nodeType ) {\n    return;\n  }\n\n  var style = getStyle( elem );\n\n  // if hidden, everything is 0\n  if ( style.display == 'none' ) {\n    return getZeroSize();\n  }\n\n  var size = {};\n  size.width = elem.offsetWidth;\n  size.height = elem.offsetHeight;\n\n  var isBorderBox = size.isBorderBox = style.boxSizing == 'border-box';\n\n  // get all measurements\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    var value = style[ measurement ];\n    var num = parseFloat( value );\n    // any 'auto', 'medium' value will be 0\n    size[ measurement ] = !isNaN( num ) ? num : 0;\n  }\n\n  var paddingWidth = size.paddingLeft + size.paddingRight;\n  var paddingHeight = size.paddingTop + size.paddingBottom;\n  var marginWidth = size.marginLeft + size.marginRight;\n  var marginHeight = size.marginTop + size.marginBottom;\n  var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n  var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n\n  var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;\n\n  // overwrite width and height if we can get it from style\n  var styleWidth = getStyleSize( style.width );\n  if ( styleWidth !== false ) {\n    size.width = styleWidth +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth );\n  }\n\n  var styleHeight = getStyleSize( style.height );\n  if ( styleHeight !== false ) {\n    size.height = styleHeight +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight );\n  }\n\n  size.innerWidth = size.width - ( paddingWidth + borderWidth );\n  size.innerHeight = size.height - ( paddingHeight + borderHeight );\n\n  size.outerWidth = size.width + marginWidth;\n  size.outerHeight = size.height + marginHeight;\n\n  return size;\n}\n\nreturn getSize;\n\n});\n\n/**\n * matchesSelector v2.0.2\n * matchesSelector( element, '.selector' )\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n  /*global define: false, module: false */\n  'use strict';\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'desandro-matches-selector/matches-selector',factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.matchesSelector = factory();\n  }\n\n}( window, function factory() {\n  'use strict';\n\n  var matchesMethod = ( function() {\n    var ElemProto = window.Element.prototype;\n    // check for the standard method name first\n    if ( ElemProto.matches ) {\n      return 'matches';\n    }\n    // check un-prefixed\n    if ( ElemProto.matchesSelector ) {\n      return 'matchesSelector';\n    }\n    // check vendor prefixes\n    var prefixes = [ 'webkit', 'moz', 'ms', 'o' ];\n\n    for ( var i=0; i < prefixes.length; i++ ) {\n      var prefix = prefixes[i];\n      var method = prefix + 'MatchesSelector';\n      if ( ElemProto[ method ] ) {\n        return method;\n      }\n    }\n  })();\n\n  return function matchesSelector( elem, selector ) {\n    return elem[ matchesMethod ]( selector );\n  };\n\n}));\n\n/**\n * Fizzy UI utils v2.0.7\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'fizzy-ui-utils/utils',[\n      'desandro-matches-selector/matches-selector'\n    ], function( matchesSelector ) {\n      return factory( window, matchesSelector );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('desandro-matches-selector')\n    );\n  } else {\n    // browser global\n    window.fizzyUIUtils = factory(\n      window,\n      window.matchesSelector\n    );\n  }\n\n}( window, function factory( window, matchesSelector ) {\n\n\n\nvar utils = {};\n\n// ----- extend ----- //\n\n// extends objects\nutils.extend = function( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n};\n\n// ----- modulo ----- //\n\nutils.modulo = function( num, div ) {\n  return ( ( num % div ) + div ) % div;\n};\n\n// ----- makeArray ----- //\n\nvar arraySlice = Array.prototype.slice;\n\n// turn element or nodeList into an array\nutils.makeArray = function( obj ) {\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    return obj;\n  }\n  // return empty array if undefined or null. #6\n  if ( obj === null || obj === undefined ) {\n    return [];\n  }\n\n  var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n  if ( isArrayLike ) {\n    // convert nodeList to array\n    return arraySlice.call( obj );\n  }\n\n  // array of single index\n  return [ obj ];\n};\n\n// ----- removeFrom ----- //\n\nutils.removeFrom = function( ary, obj ) {\n  var index = ary.indexOf( obj );\n  if ( index != -1 ) {\n    ary.splice( index, 1 );\n  }\n};\n\n// ----- getParent ----- //\n\nutils.getParent = function( elem, selector ) {\n  while ( elem.parentNode && elem != document.body ) {\n    elem = elem.parentNode;\n    if ( matchesSelector( elem, selector ) ) {\n      return elem;\n    }\n  }\n};\n\n// ----- getQueryElement ----- //\n\n// use element as selector string\nutils.getQueryElement = function( elem ) {\n  if ( typeof elem == 'string' ) {\n    return document.querySelector( elem );\n  }\n  return elem;\n};\n\n// ----- handleEvent ----- //\n\n// enable .ontype to trigger from .addEventListener( elem, 'type' )\nutils.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n// ----- filterFindElements ----- //\n\nutils.filterFindElements = function( elems, selector ) {\n  // make array of elems\n  elems = utils.makeArray( elems );\n  var ffElems = [];\n\n  elems.forEach( function( elem ) {\n    // check that elem is an actual element\n    if ( !( elem instanceof HTMLElement ) ) {\n      return;\n    }\n    // add elem if no selector\n    if ( !selector ) {\n      ffElems.push( elem );\n      return;\n    }\n    // filter & find items if we have a selector\n    // filter\n    if ( matchesSelector( elem, selector ) ) {\n      ffElems.push( elem );\n    }\n    // find children\n    var childElems = elem.querySelectorAll( selector );\n    // concat childElems to filterFound array\n    for ( var i=0; i < childElems.length; i++ ) {\n      ffElems.push( childElems[i] );\n    }\n  });\n\n  return ffElems;\n};\n\n// ----- debounceMethod ----- //\n\nutils.debounceMethod = function( _class, methodName, threshold ) {\n  threshold = threshold || 100;\n  // original method\n  var method = _class.prototype[ methodName ];\n  var timeoutName = methodName + 'Timeout';\n\n  _class.prototype[ methodName ] = function() {\n    var timeout = this[ timeoutName ];\n    clearTimeout( timeout );\n\n    var args = arguments;\n    var _this = this;\n    this[ timeoutName ] = setTimeout( function() {\n      method.apply( _this, args );\n      delete _this[ timeoutName ];\n    }, threshold );\n  };\n};\n\n// ----- docReady ----- //\n\nutils.docReady = function( callback ) {\n  var readyState = document.readyState;\n  if ( readyState == 'complete' || readyState == 'interactive' ) {\n    // do async to allow for other scripts to run. metafizzy/flickity#441\n    setTimeout( callback );\n  } else {\n    document.addEventListener( 'DOMContentLoaded', callback );\n  }\n};\n\n// ----- htmlInit ----- //\n\n// http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/\nutils.toDashed = function( str ) {\n  return str.replace( /(.)([A-Z])/g, function( match, $1, $2 ) {\n    return $1 + '-' + $2;\n  }).toLowerCase();\n};\n\nvar console = window.console;\n/**\n * allow user to initialize classes via [data-namespace] or .js-namespace class\n * htmlInit( Widget, 'widgetName' )\n * options are parsed from data-namespace-options\n */\nutils.htmlInit = function( WidgetClass, namespace ) {\n  utils.docReady( function() {\n    var dashedNamespace = utils.toDashed( namespace );\n    var dataAttr = 'data-' + dashedNamespace;\n    var dataAttrElems = document.querySelectorAll( '[' + dataAttr + ']' );\n    var jsDashElems = document.querySelectorAll( '.js-' + dashedNamespace );\n    var elems = utils.makeArray( dataAttrElems )\n      .concat( utils.makeArray( jsDashElems ) );\n    var dataOptionsAttr = dataAttr + '-options';\n    var jQuery = window.jQuery;\n\n    elems.forEach( function( elem ) {\n      var attr = elem.getAttribute( dataAttr ) ||\n        elem.getAttribute( dataOptionsAttr );\n      var options;\n      try {\n        options = attr && JSON.parse( attr );\n      } catch ( error ) {\n        // log error, do not initialize\n        if ( console ) {\n          console.error( 'Error parsing ' + dataAttr + ' on ' + elem.className +\n          ': ' + error );\n        }\n        return;\n      }\n      // initialize\n      var instance = new WidgetClass( elem, options );\n      // make available via $().data('namespace')\n      if ( jQuery ) {\n        jQuery.data( elem, namespace, instance );\n      }\n    });\n\n  });\n};\n\n// -----  ----- //\n\nreturn utils;\n\n}));\n\n// Flickity.Cell\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/cell',[\n      'get-size/get-size'\n    ], function( getSize ) {\n      return factory( window, getSize );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('get-size')\n    );\n  } else {\n    // browser global\n    window.Flickity = window.Flickity || {};\n    window.Flickity.Cell = factory(\n      window,\n      window.getSize\n    );\n  }\n\n}( window, function factory( window, getSize ) {\n\n\n\nfunction Cell( elem, parent ) {\n  this.element = elem;\n  this.parent = parent;\n\n  this.create();\n}\n\nvar proto = Cell.prototype;\n\nproto.create = function() {\n  this.element.style.position = 'absolute';\n  this.element.setAttribute( 'aria-selected', 'false' );\n  this.x = 0;\n  this.shift = 0;\n};\n\nproto.destroy = function() {\n  // reset style\n  this.element.style.position = '';\n  var side = this.parent.originSide;\n  this.element.removeAttribute('aria-selected');\n  this.element.style[ side ] = '';\n};\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n};\n\nproto.setPosition = function( x ) {\n  this.x = x;\n  this.updateTarget();\n  this.renderPosition( x );\n};\n\n// setDefaultTarget v1 method, backwards compatibility, remove in v3\nproto.updateTarget = proto.setDefaultTarget = function() {\n  var marginProperty = this.parent.originSide == 'left' ? 'marginLeft' : 'marginRight';\n  this.target = this.x + this.size[ marginProperty ] +\n    this.size.width * this.parent.cellAlign;\n};\n\nproto.renderPosition = function( x ) {\n  // render position of cell with in slider\n  var side = this.parent.originSide;\n  this.element.style[ side ] = this.parent.getPositionValue( x );\n};\n\n/**\n * @param {Integer} factor - 0, 1, or -1\n**/\nproto.wrapShift = function( shift ) {\n  this.shift = shift;\n  this.renderPosition( this.x + this.parent.slideableWidth * shift );\n};\n\nproto.remove = function() {\n  this.element.parentNode.removeChild( this.element );\n};\n\nreturn Cell;\n\n}));\n\n// slide\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/slide',factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.Flickity = window.Flickity || {};\n    window.Flickity.Slide = factory();\n  }\n\n}( window, function factory() {\n'use strict';\n\nfunction Slide( parent ) {\n  this.parent = parent;\n  this.isOriginLeft = parent.originSide == 'left';\n  this.cells = [];\n  this.outerWidth = 0;\n  this.height = 0;\n}\n\nvar proto = Slide.prototype;\n\nproto.addCell = function( cell ) {\n  this.cells.push( cell );\n  this.outerWidth += cell.size.outerWidth;\n  this.height = Math.max( cell.size.outerHeight, this.height );\n  // first cell stuff\n  if ( this.cells.length == 1 ) {\n    this.x = cell.x; // x comes from first cell\n    var beginMargin = this.isOriginLeft ? 'marginLeft' : 'marginRight';\n    this.firstMargin = cell.size[ beginMargin ];\n  }\n};\n\nproto.updateTarget = function() {\n  var endMargin = this.isOriginLeft ? 'marginRight' : 'marginLeft';\n  var lastCell = this.getLastCell();\n  var lastMargin = lastCell ? lastCell.size[ endMargin ] : 0;\n  var slideWidth = this.outerWidth - ( this.firstMargin + lastMargin );\n  this.target = this.x + this.firstMargin + slideWidth * this.parent.cellAlign;\n};\n\nproto.getLastCell = function() {\n  return this.cells[ this.cells.length - 1 ];\n};\n\nproto.select = function() {\n  this.changeSelected( true );\n};\n\nproto.unselect = function() {\n  this.changeSelected( false );\n};\n\nproto.changeSelected = function( isSelected ) {\n  var classMethod = isSelected ? 'add' : 'remove';\n  this.cells.forEach( function( cell ) {\n    cell.element.classList[ classMethod ]('is-selected');\n    cell.element.setAttribute( 'aria-selected', isSelected.toString() );\n  });\n};\n\nproto.getCellElements = function() {\n  return this.cells.map( function( cell ) {\n    return cell.element;\n  });\n};\n\nreturn Slide;\n\n}));\n\n// animate\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/animate',[\n      'fizzy-ui-utils/utils'\n    ], function( utils ) {\n      return factory( window, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    window.Flickity = window.Flickity || {};\n    window.Flickity.animatePrototype = factory(\n      window,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, utils ) {\n\n\n\n// -------------------------- animate -------------------------- //\n\nvar proto = {};\n\nproto.startAnimation = function() {\n  if ( this.isAnimating ) {\n    return;\n  }\n\n  this.isAnimating = true;\n  this.restingFrames = 0;\n  this.animate();\n};\n\nproto.animate = function() {\n  this.applyDragForce();\n  this.applySelectedAttraction();\n\n  var previousX = this.x;\n\n  this.integratePhysics();\n  this.positionSlider();\n  this.settle( previousX );\n  // animate next frame\n  if ( this.isAnimating ) {\n    var _this = this;\n    requestAnimationFrame( function animateFrame() {\n      _this.animate();\n    });\n  }\n};\n\nproto.positionSlider = function() {\n  var x = this.x;\n  // wrap position around\n  if ( this.options.wrapAround && this.cells.length > 1 ) {\n    x = utils.modulo( x, this.slideableWidth );\n    x = x - this.slideableWidth;\n    this.shiftWrapCells( x );\n  }\n\n  x = x + this.cursorPosition;\n  // reverse if right-to-left and using transform\n  x = this.options.rightToLeft ? -x : x;\n  var value = this.getPositionValue( x );\n  // use 3D tranforms for hardware acceleration on iOS\n  // but use 2D when settled, for better font-rendering\n  this.slider.style.transform = this.isAnimating ?\n    'translate3d(' + value + ',0,0)' : 'translateX(' + value + ')';\n\n  // scroll event\n  var firstSlide = this.slides[0];\n  if ( firstSlide ) {\n    var positionX = -this.x - firstSlide.target;\n    var progress = positionX / this.slidesWidth;\n    this.dispatchEvent( 'scroll', null, [ progress, positionX ] );\n  }\n};\n\nproto.positionSliderAtSelected = function() {\n  if ( !this.cells.length ) {\n    return;\n  }\n  this.x = -this.selectedSlide.target;\n  this.velocity = 0; // stop wobble\n  this.positionSlider();\n};\n\nproto.getPositionValue = function( position ) {\n  if ( this.options.percentPosition ) {\n    // percent position, round to 2 digits, like 12.34%\n    return ( Math.round( ( position / this.size.innerWidth ) * 10000 ) * 0.01 )+ '%';\n  } else {\n    // pixel positioning\n    return Math.round( position ) + 'px';\n  }\n};\n\nproto.settle = function( previousX ) {\n  // keep track of frames where x hasn't moved\n  if ( !this.isPointerDown && Math.round( this.x * 100 ) == Math.round( previousX * 100 ) ) {\n    this.restingFrames++;\n  }\n  // stop animating if resting for 3 or more frames\n  if ( this.restingFrames > 2 ) {\n    this.isAnimating = false;\n    delete this.isFreeScrolling;\n    // render position with translateX when settled\n    this.positionSlider();\n    this.dispatchEvent( 'settle', null, [ this.selectedIndex ] );\n  }\n};\n\nproto.shiftWrapCells = function( x ) {\n  // shift before cells\n  var beforeGap = this.cursorPosition + x;\n  this._shiftCells( this.beforeShiftCells, beforeGap, -1 );\n  // shift after cells\n  var afterGap = this.size.innerWidth - ( x + this.slideableWidth + this.cursorPosition );\n  this._shiftCells( this.afterShiftCells, afterGap, 1 );\n};\n\nproto._shiftCells = function( cells, gap, shift ) {\n  for ( var i=0; i < cells.length; i++ ) {\n    var cell = cells[i];\n    var cellShift = gap > 0 ? shift : 0;\n    cell.wrapShift( cellShift );\n    gap -= cell.size.outerWidth;\n  }\n};\n\nproto._unshiftCells = function( cells ) {\n  if ( !cells || !cells.length ) {\n    return;\n  }\n  for ( var i=0; i < cells.length; i++ ) {\n    cells[i].wrapShift( 0 );\n  }\n};\n\n// -------------------------- physics -------------------------- //\n\nproto.integratePhysics = function() {\n  this.x += this.velocity;\n  this.velocity *= this.getFrictionFactor();\n};\n\nproto.applyForce = function( force ) {\n  this.velocity += force;\n};\n\nproto.getFrictionFactor = function() {\n  return 1 - this.options[ this.isFreeScrolling ? 'freeScrollFriction' : 'friction' ];\n};\n\nproto.getRestingPosition = function() {\n  // my thanks to Steven Wittens, who simplified this math greatly\n  return this.x + this.velocity / ( 1 - this.getFrictionFactor() );\n};\n\nproto.applyDragForce = function() {\n  if ( !this.isDraggable || !this.isPointerDown ) {\n    return;\n  }\n  // change the position to drag position by applying force\n  var dragVelocity = this.dragX - this.x;\n  var dragForce = dragVelocity - this.velocity;\n  this.applyForce( dragForce );\n};\n\nproto.applySelectedAttraction = function() {\n  // do not attract if pointer down or no slides\n  var dragDown = this.isDraggable && this.isPointerDown;\n  if ( dragDown || this.isFreeScrolling || !this.slides.length ) {\n    return;\n  }\n  var distance = this.selectedSlide.target * -1 - this.x;\n  var force = distance * this.options.selectedAttraction;\n  this.applyForce( force );\n};\n\nreturn proto;\n\n}));\n\n// Flickity main\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/flickity',[\n      'ev-emitter/ev-emitter',\n      'get-size/get-size',\n      'fizzy-ui-utils/utils',\n      './cell',\n      './slide',\n      './animate'\n    ], function( EvEmitter, getSize, utils, Cell, Slide, animatePrototype ) {\n      return factory( window, EvEmitter, getSize, utils, Cell, Slide, animatePrototype );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter'),\n      require('get-size'),\n      require('fizzy-ui-utils'),\n      require('./cell'),\n      require('./slide'),\n      require('./animate')\n    );\n  } else {\n    // browser global\n    var _Flickity = window.Flickity;\n\n    window.Flickity = factory(\n      window,\n      window.EvEmitter,\n      window.getSize,\n      window.fizzyUIUtils,\n      _Flickity.Cell,\n      _Flickity.Slide,\n      _Flickity.animatePrototype\n    );\n  }\n\n}( window, function factory( window, EvEmitter, getSize,\n  utils, Cell, Slide, animatePrototype ) {\n\n\n\n// vars\nvar jQuery = window.jQuery;\nvar getComputedStyle = window.getComputedStyle;\nvar console = window.console;\n\nfunction moveElements( elems, toElem ) {\n  elems = utils.makeArray( elems );\n  while ( elems.length ) {\n    toElem.appendChild( elems.shift() );\n  }\n}\n\n// -------------------------- Flickity -------------------------- //\n\n// globally unique identifiers\nvar GUID = 0;\n// internal store of all Flickity intances\nvar instances = {};\n\nfunction Flickity( element, options ) {\n  var queryElement = utils.getQueryElement( element );\n  if ( !queryElement ) {\n    if ( console ) {\n      console.error( 'Bad element for Flickity: ' + ( queryElement || element ) );\n    }\n    return;\n  }\n  this.element = queryElement;\n  // do not initialize twice on same element\n  if ( this.element.flickityGUID ) {\n    var instance = instances[ this.element.flickityGUID ];\n    instance.option( options );\n    return instance;\n  }\n\n  // add jQuery\n  if ( jQuery ) {\n    this.$element = jQuery( this.element );\n  }\n  // options\n  this.options = utils.extend( {}, this.constructor.defaults );\n  this.option( options );\n\n  // kick things off\n  this._create();\n}\n\nFlickity.defaults = {\n  accessibility: true,\n  // adaptiveHeight: false,\n  cellAlign: 'center',\n  // cellSelector: undefined,\n  // contain: false,\n  freeScrollFriction: 0.075, // friction when free-scrolling\n  friction: 0.28, // friction when selecting\n  namespaceJQueryEvents: true,\n  // initialIndex: 0,\n  percentPosition: true,\n  resize: true,\n  selectedAttraction: 0.025,\n  setGallerySize: true\n  // watchCSS: false,\n  // wrapAround: false\n};\n\n// hash of methods triggered on _create()\nFlickity.createMethods = [];\n\nvar proto = Flickity.prototype;\n// inherit EventEmitter\nutils.extend( proto, EvEmitter.prototype );\n\nproto._create = function() {\n  // add id for Flickity.data\n  var id = this.guid = ++GUID;\n  this.element.flickityGUID = id; // expando\n  instances[ id ] = this; // associate via id\n  // initial properties\n  this.selectedIndex = 0;\n  // how many frames slider has been in same position\n  this.restingFrames = 0;\n  // initial physics properties\n  this.x = 0;\n  this.velocity = 0;\n  this.originSide = this.options.rightToLeft ? 'right' : 'left';\n  // create viewport & slider\n  this.viewport = document.createElement('div');\n  this.viewport.className = 'flickity-viewport';\n  this._createSlider();\n\n  if ( this.options.resize || this.options.watchCSS ) {\n    window.addEventListener( 'resize', this );\n  }\n\n  // add listeners from on option\n  for ( var eventName in this.options.on ) {\n    var listener = this.options.on[ eventName ];\n    this.on( eventName, listener );\n  }\n\n  Flickity.createMethods.forEach( function( method ) {\n    this[ method ]();\n  }, this );\n\n  if ( this.options.watchCSS ) {\n    this.watchCSS();\n  } else {\n    this.activate();\n  }\n\n};\n\n/**\n * set options\n * @param {Object} opts\n */\nproto.option = function( opts ) {\n  utils.extend( this.options, opts );\n};\n\nproto.activate = function() {\n  if ( this.isActive ) {\n    return;\n  }\n  this.isActive = true;\n  this.element.classList.add('flickity-enabled');\n  if ( this.options.rightToLeft ) {\n    this.element.classList.add('flickity-rtl');\n  }\n\n  this.getSize();\n  // move initial cell elements so they can be loaded as cells\n  var cellElems = this._filterFindCellElements( this.element.children );\n  moveElements( cellElems, this.slider );\n  this.viewport.appendChild( this.slider );\n  this.element.appendChild( this.viewport );\n  // get cells from children\n  this.reloadCells();\n\n  if ( this.options.accessibility ) {\n    // allow element to focusable\n    this.element.tabIndex = 0;\n    // listen for key presses\n    this.element.addEventListener( 'keydown', this );\n  }\n\n  this.emitEvent('activate');\n\n  var index;\n  var initialIndex = this.options.initialIndex;\n  if ( this.isInitActivated ) {\n    index = this.selectedIndex;\n  } else if ( initialIndex !== undefined ) {\n    index = this.cells[ initialIndex ] ? initialIndex : 0;\n  } else {\n    index = 0;\n  }\n  // select instantly\n  this.select( index, false, true );\n  // flag for initial activation, for using initialIndex\n  this.isInitActivated = true;\n  // ready event. #493\n  this.dispatchEvent('ready');\n};\n\n// slider positions the cells\nproto._createSlider = function() {\n  // slider element does all the positioning\n  var slider = document.createElement('div');\n  slider.className = 'flickity-slider';\n  slider.style[ this.originSide ] = 0;\n  this.slider = slider;\n};\n\nproto._filterFindCellElements = function( elems ) {\n  return utils.filterFindElements( elems, this.options.cellSelector );\n};\n\n// goes through all children\nproto.reloadCells = function() {\n  // collection of item elements\n  this.cells = this._makeCells( this.slider.children );\n  this.positionCells();\n  this._getWrapShiftCells();\n  this.setGallerySize();\n};\n\n/**\n * turn elements into Flickity.Cells\n * @param {Array or NodeList or HTMLElement} elems\n * @returns {Array} items - collection of new Flickity Cells\n */\nproto._makeCells = function( elems ) {\n  var cellElems = this._filterFindCellElements( elems );\n\n  // create new Flickity for collection\n  var cells = cellElems.map( function( cellElem ) {\n    return new Cell( cellElem, this );\n  }, this );\n\n  return cells;\n};\n\nproto.getLastCell = function() {\n  return this.cells[ this.cells.length - 1 ];\n};\n\nproto.getLastSlide = function() {\n  return this.slides[ this.slides.length - 1 ];\n};\n\n// positions all cells\nproto.positionCells = function() {\n  // size all cells\n  this._sizeCells( this.cells );\n  // position all cells\n  this._positionCells( 0 );\n};\n\n/**\n * position certain cells\n * @param {Integer} index - which cell to start with\n */\nproto._positionCells = function( index ) {\n  index = index || 0;\n  // also measure maxCellHeight\n  // start 0 if positioning all cells\n  this.maxCellHeight = index ? this.maxCellHeight || 0 : 0;\n  var cellX = 0;\n  // get cellX\n  if ( index > 0 ) {\n    var startCell = this.cells[ index - 1 ];\n    cellX = startCell.x + startCell.size.outerWidth;\n  }\n  var len = this.cells.length;\n  for ( var i=index; i < len; i++ ) {\n    var cell = this.cells[i];\n    cell.setPosition( cellX );\n    cellX += cell.size.outerWidth;\n    this.maxCellHeight = Math.max( cell.size.outerHeight, this.maxCellHeight );\n  }\n  // keep track of cellX for wrap-around\n  this.slideableWidth = cellX;\n  // slides\n  this.updateSlides();\n  // contain slides target\n  this._containSlides();\n  // update slidesWidth\n  this.slidesWidth = len ? this.getLastSlide().target - this.slides[0].target : 0;\n};\n\n/**\n * cell.getSize() on multiple cells\n * @param {Array} cells\n */\nproto._sizeCells = function( cells ) {\n  cells.forEach( function( cell ) {\n    cell.getSize();\n  });\n};\n\n// --------------------------  -------------------------- //\n\nproto.updateSlides = function() {\n  this.slides = [];\n  if ( !this.cells.length ) {\n    return;\n  }\n\n  var slide = new Slide( this );\n  this.slides.push( slide );\n  var isOriginLeft = this.originSide == 'left';\n  var nextMargin = isOriginLeft ? 'marginRight' : 'marginLeft';\n\n  var canCellFit = this._getCanCellFit();\n\n  this.cells.forEach( function( cell, i ) {\n    // just add cell if first cell in slide\n    if ( !slide.cells.length ) {\n      slide.addCell( cell );\n      return;\n    }\n\n    var slideWidth = ( slide.outerWidth - slide.firstMargin ) +\n      ( cell.size.outerWidth - cell.size[ nextMargin ] );\n\n    if ( canCellFit.call( this, i, slideWidth ) ) {\n      slide.addCell( cell );\n    } else {\n      // doesn't fit, new slide\n      slide.updateTarget();\n\n      slide = new Slide( this );\n      this.slides.push( slide );\n      slide.addCell( cell );\n    }\n  }, this );\n  // last slide\n  slide.updateTarget();\n  // update .selectedSlide\n  this.updateSelectedSlide();\n};\n\nproto._getCanCellFit = function() {\n  var groupCells = this.options.groupCells;\n  if ( !groupCells ) {\n    return function() {\n      return false;\n    };\n  } else if ( typeof groupCells == 'number' ) {\n    // group by number. 3 -> [0,1,2], [3,4,5], ...\n    var number = parseInt( groupCells, 10 );\n    return function( i ) {\n      return ( i % number ) !== 0;\n    };\n  }\n  // default, group by width of slide\n  // parse '75%\n  var percentMatch = typeof groupCells == 'string' &&\n    groupCells.match(/^(\\d+)%$/);\n  var percent = percentMatch ? parseInt( percentMatch[1], 10 ) / 100 : 1;\n  return function( i, slideWidth ) {\n    return slideWidth <= ( this.size.innerWidth + 1 ) * percent;\n  };\n};\n\n// alias _init for jQuery plugin .flickity()\nproto._init =\nproto.reposition = function() {\n  this.positionCells();\n  this.positionSliderAtSelected();\n};\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n  this.setCellAlign();\n  this.cursorPosition = this.size.innerWidth * this.cellAlign;\n};\n\nvar cellAlignShorthands = {\n  // cell align, then based on origin side\n  center: {\n    left: 0.5,\n    right: 0.5\n  },\n  left: {\n    left: 0,\n    right: 1\n  },\n  right: {\n    right: 0,\n    left: 1\n  }\n};\n\nproto.setCellAlign = function() {\n  var shorthand = cellAlignShorthands[ this.options.cellAlign ];\n  this.cellAlign = shorthand ? shorthand[ this.originSide ] : this.options.cellAlign;\n};\n\nproto.setGallerySize = function() {\n  if ( this.options.setGallerySize ) {\n    var height = this.options.adaptiveHeight && this.selectedSlide ?\n      this.selectedSlide.height : this.maxCellHeight;\n    this.viewport.style.height = height + 'px';\n  }\n};\n\nproto._getWrapShiftCells = function() {\n  // only for wrap-around\n  if ( !this.options.wrapAround ) {\n    return;\n  }\n  // unshift previous cells\n  this._unshiftCells( this.beforeShiftCells );\n  this._unshiftCells( this.afterShiftCells );\n  // get before cells\n  // initial gap\n  var gapX = this.cursorPosition;\n  var cellIndex = this.cells.length - 1;\n  this.beforeShiftCells = this._getGapCells( gapX, cellIndex, -1 );\n  // get after cells\n  // ending gap between last cell and end of gallery viewport\n  gapX = this.size.innerWidth - this.cursorPosition;\n  // start cloning at first cell, working forwards\n  this.afterShiftCells = this._getGapCells( gapX, 0, 1 );\n};\n\nproto._getGapCells = function( gapX, cellIndex, increment ) {\n  // keep adding cells until the cover the initial gap\n  var cells = [];\n  while ( gapX > 0 ) {\n    var cell = this.cells[ cellIndex ];\n    if ( !cell ) {\n      break;\n    }\n    cells.push( cell );\n    cellIndex += increment;\n    gapX -= cell.size.outerWidth;\n  }\n  return cells;\n};\n\n// ----- contain ----- //\n\n// contain cell targets so no excess sliding\nproto._containSlides = function() {\n  if ( !this.options.contain || this.options.wrapAround || !this.cells.length ) {\n    return;\n  }\n  var isRightToLeft = this.options.rightToLeft;\n  var beginMargin = isRightToLeft ? 'marginRight' : 'marginLeft';\n  var endMargin = isRightToLeft ? 'marginLeft' : 'marginRight';\n  var contentWidth = this.slideableWidth - this.getLastCell().size[ endMargin ];\n  // content is less than gallery size\n  var isContentSmaller = contentWidth < this.size.innerWidth;\n  // bounds\n  var beginBound = this.cursorPosition + this.cells[0].size[ beginMargin ];\n  var endBound = contentWidth - this.size.innerWidth * ( 1 - this.cellAlign );\n  // contain each cell target\n  this.slides.forEach( function( slide ) {\n    if ( isContentSmaller ) {\n      // all cells fit inside gallery\n      slide.target = contentWidth * this.cellAlign;\n    } else {\n      // contain to bounds\n      slide.target = Math.max( slide.target, beginBound );\n      slide.target = Math.min( slide.target, endBound );\n    }\n  }, this );\n};\n\n// -----  ----- //\n\n/**\n * emits events via eventEmitter and jQuery events\n * @param {String} type - name of event\n * @param {Event} event - original event\n * @param {Array} args - extra arguments\n */\nproto.dispatchEvent = function( type, event, args ) {\n  var emitArgs = event ? [ event ].concat( args ) : args;\n  this.emitEvent( type, emitArgs );\n\n  if ( jQuery && this.$element ) {\n    // default trigger with type if no event\n    type += this.options.namespaceJQueryEvents ? '.flickity' : '';\n    var $event = type;\n    if ( event ) {\n      // create jQuery event\n      var jQEvent = jQuery.Event( event );\n      jQEvent.type = type;\n      $event = jQEvent;\n    }\n    this.$element.trigger( $event, args );\n  }\n};\n\n// -------------------------- select -------------------------- //\n\n/**\n * @param {Integer} index - index of the slide\n * @param {Boolean} isWrap - will wrap-around to last/first if at the end\n * @param {Boolean} isInstant - will immediately set position at selected cell\n */\nproto.select = function( index, isWrap, isInstant ) {\n  if ( !this.isActive ) {\n    return;\n  }\n  index = parseInt( index, 10 );\n  this._wrapSelect( index );\n\n  if ( this.options.wrapAround || isWrap ) {\n    index = utils.modulo( index, this.slides.length );\n  }\n  // bail if invalid index\n  if ( !this.slides[ index ] ) {\n    return;\n  }\n  var prevIndex = this.selectedIndex;\n  this.selectedIndex = index;\n  this.updateSelectedSlide();\n  if ( isInstant ) {\n    this.positionSliderAtSelected();\n  } else {\n    this.startAnimation();\n  }\n  if ( this.options.adaptiveHeight ) {\n    this.setGallerySize();\n  }\n  // events\n  this.dispatchEvent( 'select', null, [ index ] );\n  // change event if new index\n  if ( index != prevIndex ) {\n    this.dispatchEvent( 'change', null, [ index ] );\n  }\n  // old v1 event name, remove in v3\n  this.dispatchEvent('cellSelect');\n};\n\n// wraps position for wrapAround, to move to closest slide. #113\nproto._wrapSelect = function( index ) {\n  var len = this.slides.length;\n  var isWrapping = this.options.wrapAround && len > 1;\n  if ( !isWrapping ) {\n    return index;\n  }\n  var wrapIndex = utils.modulo( index, len );\n  // go to shortest\n  var delta = Math.abs( wrapIndex - this.selectedIndex );\n  var backWrapDelta = Math.abs( ( wrapIndex + len ) - this.selectedIndex );\n  var forewardWrapDelta = Math.abs( ( wrapIndex - len ) - this.selectedIndex );\n  if ( !this.isDragSelect && backWrapDelta < delta ) {\n    index += len;\n  } else if ( !this.isDragSelect && forewardWrapDelta < delta ) {\n    index -= len;\n  }\n  // wrap position so slider is within normal area\n  if ( index < 0 ) {\n    this.x -= this.slideableWidth;\n  } else if ( index >= len ) {\n    this.x += this.slideableWidth;\n  }\n};\n\nproto.previous = function( isWrap, isInstant ) {\n  this.select( this.selectedIndex - 1, isWrap, isInstant );\n};\n\nproto.next = function( isWrap, isInstant ) {\n  this.select( this.selectedIndex + 1, isWrap, isInstant );\n};\n\nproto.updateSelectedSlide = function() {\n  var slide = this.slides[ this.selectedIndex ];\n  // selectedIndex could be outside of slides, if triggered before resize()\n  if ( !slide ) {\n    return;\n  }\n  // unselect previous selected slide\n  this.unselectSelectedSlide();\n  // update new selected slide\n  this.selectedSlide = slide;\n  slide.select();\n  this.selectedCells = slide.cells;\n  this.selectedElements = slide.getCellElements();\n  // HACK: selectedCell & selectedElement is first cell in slide, backwards compatibility\n  // Remove in v3?\n  this.selectedCell = slide.cells[0];\n  this.selectedElement = this.selectedElements[0];\n};\n\nproto.unselectSelectedSlide = function() {\n  if ( this.selectedSlide ) {\n    this.selectedSlide.unselect();\n  }\n};\n\n/**\n * select slide from number or cell element\n * @param {Element or Number} elem\n */\nproto.selectCell = function( value, isWrap, isInstant ) {\n  // get cell\n  var cell = this.queryCell( value );\n  if ( !cell ) {\n    return;\n  }\n\n  var index = this.getCellSlideIndex( cell );\n  this.select( index, isWrap, isInstant );\n};\n\nproto.getCellSlideIndex = function( cell ) {\n  // get index of slides that has cell\n  for ( var i=0; i < this.slides.length; i++ ) {\n    var slide = this.slides[i];\n    var index = slide.cells.indexOf( cell );\n    if ( index != -1 ) {\n      return i;\n    }\n  }\n};\n\n// -------------------------- get cells -------------------------- //\n\n/**\n * get Flickity.Cell, given an Element\n * @param {Element} elem\n * @returns {Flickity.Cell} item\n */\nproto.getCell = function( elem ) {\n  // loop through cells to get the one that matches\n  for ( var i=0; i < this.cells.length; i++ ) {\n    var cell = this.cells[i];\n    if ( cell.element == elem ) {\n      return cell;\n    }\n  }\n};\n\n/**\n * get collection of Flickity.Cells, given Elements\n * @param {Element, Array, NodeList} elems\n * @returns {Array} cells - Flickity.Cells\n */\nproto.getCells = function( elems ) {\n  elems = utils.makeArray( elems );\n  var cells = [];\n  elems.forEach( function( elem ) {\n    var cell = this.getCell( elem );\n    if ( cell ) {\n      cells.push( cell );\n    }\n  }, this );\n  return cells;\n};\n\n/**\n * get cell elements\n * @returns {Array} cellElems\n */\nproto.getCellElements = function() {\n  return this.cells.map( function( cell ) {\n    return cell.element;\n  });\n};\n\n/**\n * get parent cell from an element\n * @param {Element} elem\n * @returns {Flickit.Cell} cell\n */\nproto.getParentCell = function( elem ) {\n  // first check if elem is cell\n  var cell = this.getCell( elem );\n  if ( cell ) {\n    return cell;\n  }\n  // try to get parent cell elem\n  elem = utils.getParent( elem, '.flickity-slider > *' );\n  return this.getCell( elem );\n};\n\n/**\n * get cells adjacent to a slide\n * @param {Integer} adjCount - number of adjacent slides\n * @param {Integer} index - index of slide to start\n * @returns {Array} cells - array of Flickity.Cells\n */\nproto.getAdjacentCellElements = function( adjCount, index ) {\n  if ( !adjCount ) {\n    return this.selectedSlide.getCellElements();\n  }\n  index = index === undefined ? this.selectedIndex : index;\n\n  var len = this.slides.length;\n  if ( 1 + ( adjCount * 2 ) >= len ) {\n    return this.getCellElements();\n  }\n\n  var cellElems = [];\n  for ( var i = index - adjCount; i <= index + adjCount ; i++ ) {\n    var slideIndex = this.options.wrapAround ? utils.modulo( i, len ) : i;\n    var slide = this.slides[ slideIndex ];\n    if ( slide ) {\n      cellElems = cellElems.concat( slide.getCellElements() );\n    }\n  }\n  return cellElems;\n};\n\n/**\n * select slide from number or cell element\n * @param {Element, Selector String, or Number} selector\n */\nproto.queryCell = function( selector ) {\n  if ( typeof selector == 'number' ) {\n    // use number as index\n    return this.cells[ selector ];\n  }\n  if ( typeof selector == 'string' ) {\n    // use string as selector, get element\n    selector = this.element.querySelector( selector );\n  }\n  // get cell from element\n  return this.getCell( selector );\n};\n\n// -------------------------- events -------------------------- //\n\nproto.uiChange = function() {\n  this.emitEvent('uiChange');\n};\n\nproto.childUIPointerDown = function( event ) {\n  this.emitEvent( 'childUIPointerDown', [ event ] );\n};\n\n// ----- resize ----- //\n\nproto.onresize = function() {\n  this.watchCSS();\n  this.resize();\n};\n\nutils.debounceMethod( Flickity, 'onresize', 150 );\n\nproto.resize = function() {\n  if ( !this.isActive ) {\n    return;\n  }\n  this.getSize();\n  // wrap values\n  if ( this.options.wrapAround ) {\n    this.x = utils.modulo( this.x, this.slideableWidth );\n  }\n  this.positionCells();\n  this._getWrapShiftCells();\n  this.setGallerySize();\n  this.emitEvent('resize');\n  // update selected index for group slides, instant\n  // TODO: position can be lost between groups of various numbers\n  var selectedElement = this.selectedElements && this.selectedElements[0];\n  this.selectCell( selectedElement, false, true );\n};\n\n// watches the :after property, activates/deactivates\nproto.watchCSS = function() {\n  var watchOption = this.options.watchCSS;\n  if ( !watchOption ) {\n    return;\n  }\n\n  var afterContent = getComputedStyle( this.element, ':after' ).content;\n  // activate if :after { content: 'flickity' }\n  if ( afterContent.indexOf('flickity') != -1 ) {\n    this.activate();\n  } else {\n    this.deactivate();\n  }\n};\n\n// ----- keydown ----- //\n\n// go previous/next if left/right keys pressed\nproto.onkeydown = function( event ) {\n  // only work if element is in focus\n  var isNotFocused = document.activeElement && document.activeElement != this.element;\n  if ( !this.options.accessibility ||isNotFocused ) {\n    return;\n  }\n\n  var handler = Flickity.keyboardHandlers[ event.keyCode ];\n  if ( handler ) {\n    handler.call( this );\n  }\n};\n\nFlickity.keyboardHandlers = {\n  // left arrow\n  37: function() {\n    var leftMethod = this.options.rightToLeft ? 'next' : 'previous';\n    this.uiChange();\n    this[ leftMethod ]();\n  },\n  // right arrow\n  39: function() {\n    var rightMethod = this.options.rightToLeft ? 'previous' : 'next';\n    this.uiChange();\n    this[ rightMethod ]();\n  },\n};\n\n// ----- focus ----- //\n\nproto.focus = function() {\n  var prevScrollY = window.pageYOffset;\n  this.element.focus();\n  // hack to fix scroll jump after focus, #76\n  if ( window.pageYOffset != prevScrollY ) {\n    window.scrollTo( window.pageXOffset, prevScrollY );\n  }\n};\n\n// -------------------------- destroy -------------------------- //\n\n// deactivate all Flickity functionality, but keep stuff available\nproto.deactivate = function() {\n  if ( !this.isActive ) {\n    return;\n  }\n  this.element.classList.remove('flickity-enabled');\n  this.element.classList.remove('flickity-rtl');\n  this.unselectSelectedSlide();\n  // destroy cells\n  this.cells.forEach( function( cell ) {\n    cell.destroy();\n  });\n  this.element.removeChild( this.viewport );\n  // move child elements back into element\n  moveElements( this.slider.children, this.element );\n  if ( this.options.accessibility ) {\n    this.element.removeAttribute('tabIndex');\n    this.element.removeEventListener( 'keydown', this );\n  }\n  // set flags\n  this.isActive = false;\n  this.emitEvent('deactivate');\n};\n\nproto.destroy = function() {\n  this.deactivate();\n  window.removeEventListener( 'resize', this );\n  this.emitEvent('destroy');\n  if ( jQuery && this.$element ) {\n    jQuery.removeData( this.element, 'flickity' );\n  }\n  delete this.element.flickityGUID;\n  delete instances[ this.guid ];\n};\n\n// -------------------------- prototype -------------------------- //\n\nutils.extend( proto, animatePrototype );\n\n// -------------------------- extras -------------------------- //\n\n/**\n * get Flickity instance from element\n * @param {Element} elem\n * @returns {Flickity}\n */\nFlickity.data = function( elem ) {\n  elem = utils.getQueryElement( elem );\n  var id = elem && elem.flickityGUID;\n  return id && instances[ id ];\n};\n\nutils.htmlInit( Flickity, 'flickity' );\n\nif ( jQuery && jQuery.bridget ) {\n  jQuery.bridget( 'flickity', Flickity );\n}\n\n// set internal jQuery, for Webpack + jQuery v3, #478\nFlickity.setJQuery = function( jq ) {\n  jQuery = jq;\n};\n\nFlickity.Cell = Cell;\n\nreturn Flickity;\n\n}));\n\n/*!\n * Unipointer v2.3.0\n * base class for doing one thing with pointer event\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*global define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'unipointer/unipointer',[\n      'ev-emitter/ev-emitter'\n    ], function( EvEmitter ) {\n      return factory( window, EvEmitter );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter')\n    );\n  } else {\n    // browser global\n    window.Unipointer = factory(\n      window,\n      window.EvEmitter\n    );\n  }\n\n}( window, function factory( window, EvEmitter ) {\n\n\n\nfunction noop() {}\n\nfunction Unipointer() {}\n\n// inherit EvEmitter\nvar proto = Unipointer.prototype = Object.create( EvEmitter.prototype );\n\nproto.bindStartEvent = function( elem ) {\n  this._bindStartEvent( elem, true );\n};\n\nproto.unbindStartEvent = function( elem ) {\n  this._bindStartEvent( elem, false );\n};\n\n/**\n * Add or remove start event\n * @param {Boolean} isAdd - remove if falsey\n */\nproto._bindStartEvent = function( elem, isAdd ) {\n  // munge isAdd, default to true\n  isAdd = isAdd === undefined ? true : isAdd;\n  var bindMethod = isAdd ? 'addEventListener' : 'removeEventListener';\n\n  // default to mouse events\n  var startEvent = 'mousedown';\n  if ( window.PointerEvent ) {\n    // Pointer Events\n    startEvent = 'pointerdown';\n  } else if ( 'ontouchstart' in window ) {\n    // Touch Events. iOS Safari\n    startEvent = 'touchstart';\n  }\n  elem[ bindMethod ]( startEvent, this );\n};\n\n// trigger handler methods for events\nproto.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n// returns the touch that we're keeping track of\nproto.getTouch = function( touches ) {\n  for ( var i=0; i < touches.length; i++ ) {\n    var touch = touches[i];\n    if ( touch.identifier == this.pointerIdentifier ) {\n      return touch;\n    }\n  }\n};\n\n// ----- start event ----- //\n\nproto.onmousedown = function( event ) {\n  // dismiss clicks from right or middle buttons\n  var button = event.button;\n  if ( button && ( button !== 0 && button !== 1 ) ) {\n    return;\n  }\n  this._pointerDown( event, event );\n};\n\nproto.ontouchstart = function( event ) {\n  this._pointerDown( event, event.changedTouches[0] );\n};\n\nproto.onpointerdown = function( event ) {\n  this._pointerDown( event, event );\n};\n\n/**\n * pointer start\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto._pointerDown = function( event, pointer ) {\n  // dismiss right click and other pointers\n  // button = 0 is okay, 1-4 not\n  if ( event.button || this.isPointerDown ) {\n    return;\n  }\n\n  this.isPointerDown = true;\n  // save pointer identifier to match up touch events\n  this.pointerIdentifier = pointer.pointerId !== undefined ?\n    // pointerId for pointer events, touch.indentifier for touch events\n    pointer.pointerId : pointer.identifier;\n\n  this.pointerDown( event, pointer );\n};\n\nproto.pointerDown = function( event, pointer ) {\n  this._bindPostStartEvents( event );\n  this.emitEvent( 'pointerDown', [ event, pointer ] );\n};\n\n// hash of events to be bound after start event\nvar postStartEvents = {\n  mousedown: [ 'mousemove', 'mouseup' ],\n  touchstart: [ 'touchmove', 'touchend', 'touchcancel' ],\n  pointerdown: [ 'pointermove', 'pointerup', 'pointercancel' ],\n};\n\nproto._bindPostStartEvents = function( event ) {\n  if ( !event ) {\n    return;\n  }\n  // get proper events to match start event\n  var events = postStartEvents[ event.type ];\n  // bind events to node\n  events.forEach( function( eventName ) {\n    window.addEventListener( eventName, this );\n  }, this );\n  // save these arguments\n  this._boundPointerEvents = events;\n};\n\nproto._unbindPostStartEvents = function() {\n  // check for _boundEvents, in case dragEnd triggered twice (old IE8 bug)\n  if ( !this._boundPointerEvents ) {\n    return;\n  }\n  this._boundPointerEvents.forEach( function( eventName ) {\n    window.removeEventListener( eventName, this );\n  }, this );\n\n  delete this._boundPointerEvents;\n};\n\n// ----- move event ----- //\n\nproto.onmousemove = function( event ) {\n  this._pointerMove( event, event );\n};\n\nproto.onpointermove = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerMove( event, event );\n  }\n};\n\nproto.ontouchmove = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerMove( event, touch );\n  }\n};\n\n/**\n * pointer move\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerMove = function( event, pointer ) {\n  this.pointerMove( event, pointer );\n};\n\n// public\nproto.pointerMove = function( event, pointer ) {\n  this.emitEvent( 'pointerMove', [ event, pointer ] );\n};\n\n// ----- end event ----- //\n\n\nproto.onmouseup = function( event ) {\n  this._pointerUp( event, event );\n};\n\nproto.onpointerup = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerUp( event, event );\n  }\n};\n\nproto.ontouchend = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerUp( event, touch );\n  }\n};\n\n/**\n * pointer up\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerUp = function( event, pointer ) {\n  this._pointerDone();\n  this.pointerUp( event, pointer );\n};\n\n// public\nproto.pointerUp = function( event, pointer ) {\n  this.emitEvent( 'pointerUp', [ event, pointer ] );\n};\n\n// ----- pointer done ----- //\n\n// triggered on pointer up & pointer cancel\nproto._pointerDone = function() {\n  this._pointerReset();\n  this._unbindPostStartEvents();\n  this.pointerDone();\n};\n\nproto._pointerReset = function() {\n  // reset properties\n  this.isPointerDown = false;\n  delete this.pointerIdentifier;\n};\n\nproto.pointerDone = noop;\n\n// ----- pointer cancel ----- //\n\nproto.onpointercancel = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerCancel( event, event );\n  }\n};\n\nproto.ontouchcancel = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerCancel( event, touch );\n  }\n};\n\n/**\n * pointer cancel\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerCancel = function( event, pointer ) {\n  this._pointerDone();\n  this.pointerCancel( event, pointer );\n};\n\n// public\nproto.pointerCancel = function( event, pointer ) {\n  this.emitEvent( 'pointerCancel', [ event, pointer ] );\n};\n\n// -----  ----- //\n\n// utility function for getting x/y coords from event\nUnipointer.getPointerPoint = function( pointer ) {\n  return {\n    x: pointer.pageX,\n    y: pointer.pageY\n  };\n};\n\n// -----  ----- //\n\nreturn Unipointer;\n\n}));\n\n/*!\n * Unidragger v2.3.0\n * Draggable base class\n * MIT license\n */\n\n/*jshint browser: true, unused: true, undef: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'unidragger/unidragger',[\n      'unipointer/unipointer'\n    ], function( Unipointer ) {\n      return factory( window, Unipointer );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('unipointer')\n    );\n  } else {\n    // browser global\n    window.Unidragger = factory(\n      window,\n      window.Unipointer\n    );\n  }\n\n}( window, function factory( window, Unipointer ) {\n\n\n\n// -------------------------- Unidragger -------------------------- //\n\nfunction Unidragger() {}\n\n// inherit Unipointer & EvEmitter\nvar proto = Unidragger.prototype = Object.create( Unipointer.prototype );\n\n// ----- bind start ----- //\n\nproto.bindHandles = function() {\n  this._bindHandles( true );\n};\n\nproto.unbindHandles = function() {\n  this._bindHandles( false );\n};\n\n/**\n * Add or remove start event\n * @param {Boolean} isAdd\n */\nproto._bindHandles = function( isAdd ) {\n  // munge isAdd, default to true\n  isAdd = isAdd === undefined ? true : isAdd;\n  // bind each handle\n  var bindMethod = isAdd ? 'addEventListener' : 'removeEventListener';\n  var touchAction = isAdd ? this._touchActionValue : '';\n  for ( var i=0; i < this.handles.length; i++ ) {\n    var handle = this.handles[i];\n    this._bindStartEvent( handle, isAdd );\n    handle[ bindMethod ]( 'click', this );\n    // touch-action: none to override browser touch gestures. metafizzy/flickity#540\n    if ( window.PointerEvent ) {\n      handle.style.touchAction = touchAction;\n    }\n  }\n};\n\n// prototype so it can be overwriteable by Flickity\nproto._touchActionValue = 'none';\n\n// ----- start event ----- //\n\n/**\n * pointer start\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerDown = function( event, pointer ) {\n  var isOkay = this.okayPointerDown( event );\n  if ( !isOkay ) {\n    return;\n  }\n  // track start event position\n  this.pointerDownPointer = pointer;\n\n  event.preventDefault();\n  this.pointerDownBlur();\n  // bind move and end events\n  this._bindPostStartEvents( event );\n  this.emitEvent( 'pointerDown', [ event, pointer ] );\n};\n\n// nodes that have text fields\nvar cursorNodes = {\n  TEXTAREA: true,\n  INPUT: true,\n  SELECT: true,\n  OPTION: true,\n};\n\n// input types that do not have text fields\nvar clickTypes = {\n  radio: true,\n  checkbox: true,\n  button: true,\n  submit: true,\n  image: true,\n  file: true,\n};\n\n// dismiss inputs with text fields. flickity#403, flickity#404\nproto.okayPointerDown = function( event ) {\n  var isCursorNode = cursorNodes[ event.target.nodeName ];\n  var isClickType = clickTypes[ event.target.type ];\n  var isOkay = !isCursorNode || isClickType;\n  if ( !isOkay ) {\n    this._pointerReset();\n  }\n  return isOkay;\n};\n\n// kludge to blur previously focused input\nproto.pointerDownBlur = function() {\n  var focused = document.activeElement;\n  // do not blur body for IE10, metafizzy/flickity#117\n  var canBlur = focused && focused.blur && focused != document.body;\n  if ( canBlur ) {\n    focused.blur();\n  }\n};\n\n// ----- move event ----- //\n\n/**\n * drag move\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerMove = function( event, pointer ) {\n  var moveVector = this._dragPointerMove( event, pointer );\n  this.emitEvent( 'pointerMove', [ event, pointer, moveVector ] );\n  this._dragMove( event, pointer, moveVector );\n};\n\n// base pointer move logic\nproto._dragPointerMove = function( event, pointer ) {\n  var moveVector = {\n    x: pointer.pageX - this.pointerDownPointer.pageX,\n    y: pointer.pageY - this.pointerDownPointer.pageY\n  };\n  // start drag if pointer has moved far enough to start drag\n  if ( !this.isDragging && this.hasDragStarted( moveVector ) ) {\n    this._dragStart( event, pointer );\n  }\n  return moveVector;\n};\n\n// condition if pointer has moved far enough to start drag\nproto.hasDragStarted = function( moveVector ) {\n  return Math.abs( moveVector.x ) > 3 || Math.abs( moveVector.y ) > 3;\n};\n\n// ----- end event ----- //\n\n/**\n * pointer up\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerUp = function( event, pointer ) {\n  this.emitEvent( 'pointerUp', [ event, pointer ] );\n  this._dragPointerUp( event, pointer );\n};\n\nproto._dragPointerUp = function( event, pointer ) {\n  if ( this.isDragging ) {\n    this._dragEnd( event, pointer );\n  } else {\n    // pointer didn't move enough for drag to start\n    this._staticClick( event, pointer );\n  }\n};\n\n// -------------------------- drag -------------------------- //\n\n// dragStart\nproto._dragStart = function( event, pointer ) {\n  this.isDragging = true;\n  // prevent clicks\n  this.isPreventingClicks = true;\n  this.dragStart( event, pointer );\n};\n\nproto.dragStart = function( event, pointer ) {\n  this.emitEvent( 'dragStart', [ event, pointer ] );\n};\n\n// dragMove\nproto._dragMove = function( event, pointer, moveVector ) {\n  // do not drag if not dragging yet\n  if ( !this.isDragging ) {\n    return;\n  }\n\n  this.dragMove( event, pointer, moveVector );\n};\n\nproto.dragMove = function( event, pointer, moveVector ) {\n  event.preventDefault();\n  this.emitEvent( 'dragMove', [ event, pointer, moveVector ] );\n};\n\n// dragEnd\nproto._dragEnd = function( event, pointer ) {\n  // set flags\n  this.isDragging = false;\n  // re-enable clicking async\n  setTimeout( function() {\n    delete this.isPreventingClicks;\n  }.bind( this ) );\n\n  this.dragEnd( event, pointer );\n};\n\nproto.dragEnd = function( event, pointer ) {\n  this.emitEvent( 'dragEnd', [ event, pointer ] );\n};\n\n// ----- onclick ----- //\n\n// handle all clicks and prevent clicks when dragging\nproto.onclick = function( event ) {\n  if ( this.isPreventingClicks ) {\n    event.preventDefault();\n  }\n};\n\n// ----- staticClick ----- //\n\n// triggered after pointer down & up with no/tiny movement\nproto._staticClick = function( event, pointer ) {\n  // ignore emulated mouse up clicks\n  if ( this.isIgnoringMouseUp && event.type == 'mouseup' ) {\n    return;\n  }\n\n  this.staticClick( event, pointer );\n\n  // set flag for emulated clicks 300ms after touchend\n  if ( event.type != 'mouseup' ) {\n    this.isIgnoringMouseUp = true;\n    // reset flag after 300ms\n    setTimeout( function() {\n      delete this.isIgnoringMouseUp;\n    }.bind( this ), 400 );\n  }\n};\n\nproto.staticClick = function( event, pointer ) {\n  this.emitEvent( 'staticClick', [ event, pointer ] );\n};\n\n// ----- utils ----- //\n\nUnidragger.getPointerPoint = Unipointer.getPointerPoint;\n\n// -----  ----- //\n\nreturn Unidragger;\n\n}));\n\n// drag\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/drag',[\n      './flickity',\n      'unidragger/unidragger',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, Unidragger, utils ) {\n      return factory( window, Flickity, Unidragger, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('unidragger'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    window.Flickity = factory(\n      window,\n      window.Flickity,\n      window.Unidragger,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, Unidragger, utils ) {\n\n\n\n// ----- defaults ----- //\n\nutils.extend( Flickity.defaults, {\n  draggable: '>1',\n  dragThreshold: 3,\n});\n\n// ----- create ----- //\n\nFlickity.createMethods.push('_createDrag');\n\n// -------------------------- drag prototype -------------------------- //\n\nvar proto = Flickity.prototype;\nutils.extend( proto, Unidragger.prototype );\nproto._touchActionValue = 'pan-y';\n\n// --------------------------  -------------------------- //\n\nvar isTouch = 'createTouch' in document;\nvar isTouchmoveScrollCanceled = false;\n\nproto._createDrag = function() {\n  this.on( 'activate', this.onActivateDrag );\n  this.on( 'uiChange', this._uiChangeDrag );\n  this.on( 'childUIPointerDown', this._childUIPointerDownDrag );\n  this.on( 'deactivate', this.unbindDrag );\n  this.on( 'cellChange', this.updateDraggable );\n  // TODO updateDraggable on resize? if groupCells & slides change\n  // HACK - add seemingly innocuous handler to fix iOS 10 scroll behavior\n  // #457, RubaXa/Sortable#973\n  if ( isTouch && !isTouchmoveScrollCanceled ) {\n    window.addEventListener( 'touchmove', function() {});\n    isTouchmoveScrollCanceled = true;\n  }\n};\n\nproto.onActivateDrag = function() {\n  this.handles = [ this.viewport ];\n  this.bindHandles();\n  this.updateDraggable();\n};\n\nproto.onDeactivateDrag = function() {\n  this.unbindHandles();\n  this.element.classList.remove('is-draggable');\n};\n\nproto.updateDraggable = function() {\n  // disable dragging if less than 2 slides. #278\n  if ( this.options.draggable == '>1' ) {\n    this.isDraggable = this.slides.length > 1;\n  } else {\n    this.isDraggable = this.options.draggable;\n  }\n  if ( this.isDraggable ) {\n    this.element.classList.add('is-draggable');\n  } else {\n    this.element.classList.remove('is-draggable');\n  }\n};\n\n// backwards compatibility\nproto.bindDrag = function() {\n  this.options.draggable = true;\n  this.updateDraggable();\n};\n\nproto.unbindDrag = function() {\n  this.options.draggable = false;\n  this.updateDraggable();\n};\n\nproto._uiChangeDrag = function() {\n  delete this.isFreeScrolling;\n};\n\nproto._childUIPointerDownDrag = function( event ) {\n  // allow focus & preventDefault even when not draggable\n  // so child UI elements keep focus on carousel. #721\n  event.preventDefault();\n  this.pointerDownFocus( event );\n};\n\n// -------------------------- pointer events -------------------------- //\n\nproto.pointerDown = function( event, pointer ) {\n  if ( !this.isDraggable ) {\n    this._pointerDownDefault( event, pointer );\n    return;\n  }\n  var isOkay = this.okayPointerDown( event );\n  if ( !isOkay ) {\n    return;\n  }\n\n  this._pointerDownPreventDefault( event );\n  this.pointerDownFocus( event );\n  // blur\n  if ( document.activeElement != this.element ) {\n    // do not blur if already focused\n    this.pointerDownBlur();\n  }\n\n  // stop if it was moving\n  this.dragX = this.x;\n  this.viewport.classList.add('is-pointer-down');\n  // track scrolling\n  this.pointerDownScroll = getScrollPosition();\n  window.addEventListener( 'scroll', this );\n\n  this._pointerDownDefault( event, pointer );\n};\n\n// default pointerDown logic, used for staticClick\nproto._pointerDownDefault = function( event, pointer ) {\n  // track start event position\n  this.pointerDownPointer = pointer;\n  // bind move and end events\n  this._bindPostStartEvents( event );\n  this.dispatchEvent( 'pointerDown', event, [ pointer ] );\n};\n\nvar focusNodes = {\n  INPUT: true,\n  TEXTAREA: true,\n  SELECT: true,\n};\n\nproto.pointerDownFocus = function( event ) {\n  var isFocusNode = focusNodes[ event.target.nodeName ];\n  if ( !isFocusNode ) {\n    this.focus();\n  }\n};\n\nproto._pointerDownPreventDefault = function( event ) {\n  var isTouchStart = event.type == 'touchstart';\n  var isTouchPointer = event.pointerType == 'touch';\n  var isFocusNode = focusNodes[ event.target.nodeName ];\n  if ( !isTouchStart && !isTouchPointer && !isFocusNode ) {\n    event.preventDefault();\n  }\n};\n\n// ----- move ----- //\n\nproto.hasDragStarted = function( moveVector ) {\n  return Math.abs( moveVector.x ) > this.options.dragThreshold;\n};\n\n// ----- up ----- //\n\nproto.pointerUp = function( event, pointer ) {\n  delete this.isTouchScrolling;\n  this.viewport.classList.remove('is-pointer-down');\n  this.dispatchEvent( 'pointerUp', event, [ pointer ] );\n  this._dragPointerUp( event, pointer );\n};\n\nproto.pointerDone = function() {\n  window.removeEventListener( 'scroll', this );\n  delete this.pointerDownScroll;\n};\n\n// -------------------------- dragging -------------------------- //\n\nproto.dragStart = function( event, pointer ) {\n  if ( !this.isDraggable ) {\n    return;\n  }\n  this.dragStartPosition = this.x;\n  this.startAnimation();\n  window.removeEventListener( 'scroll', this );\n  this.dispatchEvent( 'dragStart', event, [ pointer ] );\n};\n\nproto.pointerMove = function( event, pointer ) {\n  var moveVector = this._dragPointerMove( event, pointer );\n  this.dispatchEvent( 'pointerMove', event, [ pointer, moveVector ] );\n  this._dragMove( event, pointer, moveVector );\n};\n\nproto.dragMove = function( event, pointer, moveVector ) {\n  if ( !this.isDraggable ) {\n    return;\n  }\n  event.preventDefault();\n\n  this.previousDragX = this.dragX;\n  // reverse if right-to-left\n  var direction = this.options.rightToLeft ? -1 : 1;\n  if ( this.options.wrapAround ) {\n    // wrap around move. #589\n    moveVector.x = moveVector.x % this.slideableWidth;\n  }\n  var dragX = this.dragStartPosition + moveVector.x * direction;\n\n  if ( !this.options.wrapAround && this.slides.length ) {\n    // slow drag\n    var originBound = Math.max( -this.slides[0].target, this.dragStartPosition );\n    dragX = dragX > originBound ? ( dragX + originBound ) * 0.5 : dragX;\n    var endBound = Math.min( -this.getLastSlide().target, this.dragStartPosition );\n    dragX = dragX < endBound ? ( dragX + endBound ) * 0.5 : dragX;\n  }\n\n  this.dragX = dragX;\n\n  this.dragMoveTime = new Date();\n  this.dispatchEvent( 'dragMove', event, [ pointer, moveVector ] );\n};\n\nproto.dragEnd = function( event, pointer ) {\n  if ( !this.isDraggable ) {\n    return;\n  }\n  if ( this.options.freeScroll ) {\n    this.isFreeScrolling = true;\n  }\n  // set selectedIndex based on where flick will end up\n  var index = this.dragEndRestingSelect();\n\n  if ( this.options.freeScroll && !this.options.wrapAround ) {\n    // if free-scroll & not wrap around\n    // do not free-scroll if going outside of bounding slides\n    // so bounding slides can attract slider, and keep it in bounds\n    var restingX = this.getRestingPosition();\n    this.isFreeScrolling = -restingX > this.slides[0].target &&\n      -restingX < this.getLastSlide().target;\n  } else if ( !this.options.freeScroll && index == this.selectedIndex ) {\n    // boost selection if selected index has not changed\n    index += this.dragEndBoostSelect();\n  }\n  delete this.previousDragX;\n  // apply selection\n  // TODO refactor this, selecting here feels weird\n  // HACK, set flag so dragging stays in correct direction\n  this.isDragSelect = this.options.wrapAround;\n  this.select( index );\n  delete this.isDragSelect;\n  this.dispatchEvent( 'dragEnd', event, [ pointer ] );\n};\n\nproto.dragEndRestingSelect = function() {\n  var restingX = this.getRestingPosition();\n  // how far away from selected slide\n  var distance = Math.abs( this.getSlideDistance( -restingX, this.selectedIndex ) );\n  // get closet resting going up and going down\n  var positiveResting = this._getClosestResting( restingX, distance, 1 );\n  var negativeResting = this._getClosestResting( restingX, distance, -1 );\n  // use closer resting for wrap-around\n  var index = positiveResting.distance < negativeResting.distance ?\n    positiveResting.index : negativeResting.index;\n  return index;\n};\n\n/**\n * given resting X and distance to selected cell\n * get the distance and index of the closest cell\n * @param {Number} restingX - estimated post-flick resting position\n * @param {Number} distance - distance to selected cell\n * @param {Integer} increment - +1 or -1, going up or down\n * @returns {Object} - { distance: {Number}, index: {Integer} }\n */\nproto._getClosestResting = function( restingX, distance, increment ) {\n  var index = this.selectedIndex;\n  var minDistance = Infinity;\n  var condition = this.options.contain && !this.options.wrapAround ?\n    // if contain, keep going if distance is equal to minDistance\n    function( d, md ) { return d <= md; } : function( d, md ) { return d < md; };\n  while ( condition( distance, minDistance ) ) {\n    // measure distance to next cell\n    index += increment;\n    minDistance = distance;\n    distance = this.getSlideDistance( -restingX, index );\n    if ( distance === null ) {\n      break;\n    }\n    distance = Math.abs( distance );\n  }\n  return {\n    distance: minDistance,\n    // selected was previous index\n    index: index - increment\n  };\n};\n\n/**\n * measure distance between x and a slide target\n * @param {Number} x\n * @param {Integer} index - slide index\n */\nproto.getSlideDistance = function( x, index ) {\n  var len = this.slides.length;\n  // wrap around if at least 2 slides\n  var isWrapAround = this.options.wrapAround && len > 1;\n  var slideIndex = isWrapAround ? utils.modulo( index, len ) : index;\n  var slide = this.slides[ slideIndex ];\n  if ( !slide ) {\n    return null;\n  }\n  // add distance for wrap-around slides\n  var wrap = isWrapAround ? this.slideableWidth * Math.floor( index / len ) : 0;\n  return x - ( slide.target + wrap );\n};\n\nproto.dragEndBoostSelect = function() {\n  // do not boost if no previousDragX or dragMoveTime\n  if ( this.previousDragX === undefined || !this.dragMoveTime ||\n    // or if drag was held for 100 ms\n    new Date() - this.dragMoveTime > 100 ) {\n    return 0;\n  }\n\n  var distance = this.getSlideDistance( -this.dragX, this.selectedIndex );\n  var delta = this.previousDragX - this.dragX;\n  if ( distance > 0 && delta > 0 ) {\n    // boost to next if moving towards the right, and positive velocity\n    return 1;\n  } else if ( distance < 0 && delta < 0 ) {\n    // boost to previous if moving towards the left, and negative velocity\n    return -1;\n  }\n  return 0;\n};\n\n// ----- staticClick ----- //\n\nproto.staticClick = function( event, pointer ) {\n  // get clickedCell, if cell was clicked\n  var clickedCell = this.getParentCell( event.target );\n  var cellElem = clickedCell && clickedCell.element;\n  var cellIndex = clickedCell && this.cells.indexOf( clickedCell );\n  this.dispatchEvent( 'staticClick', event, [ pointer, cellElem, cellIndex ] );\n};\n\n// ----- scroll ----- //\n\nproto.onscroll = function() {\n  var scroll = getScrollPosition();\n  var scrollMoveX = this.pointerDownScroll.x - scroll.x;\n  var scrollMoveY = this.pointerDownScroll.y - scroll.y;\n  // cancel click/tap if scroll is too much\n  if ( Math.abs( scrollMoveX ) > 3 || Math.abs( scrollMoveY ) > 3 ) {\n    this._pointerDone();\n  }\n};\n\n// ----- utils ----- //\n\nfunction getScrollPosition() {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  };\n}\n\n// -----  ----- //\n\nreturn Flickity;\n\n}));\n\n/*!\n * Tap listener v2.0.0\n * listens to taps\n * MIT license\n */\n\n/*jshint browser: true, unused: true, undef: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false*/ /*globals define, module, require */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'tap-listener/tap-listener',[\n      'unipointer/unipointer'\n    ], function( Unipointer ) {\n      return factory( window, Unipointer );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('unipointer')\n    );\n  } else {\n    // browser global\n    window.TapListener = factory(\n      window,\n      window.Unipointer\n    );\n  }\n\n}( window, function factory( window, Unipointer ) {\n\n\n\n// --------------------------  TapListener -------------------------- //\n\nfunction TapListener( elem ) {\n  this.bindTap( elem );\n}\n\n// inherit Unipointer & EventEmitter\nvar proto = TapListener.prototype = Object.create( Unipointer.prototype );\n\n/**\n * bind tap event to element\n * @param {Element} elem\n */\nproto.bindTap = function( elem ) {\n  if ( !elem ) {\n    return;\n  }\n  this.unbindTap();\n  this.tapElement = elem;\n  this._bindStartEvent( elem, true );\n};\n\nproto.unbindTap = function() {\n  if ( !this.tapElement ) {\n    return;\n  }\n  this._bindStartEvent( this.tapElement, true );\n  delete this.tapElement;\n};\n\n/**\n * pointer up\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerUp = function( event, pointer ) {\n  // ignore emulated mouse up clicks\n  if ( this.isIgnoringMouseUp && event.type == 'mouseup' ) {\n    return;\n  }\n\n  var pointerPoint = Unipointer.getPointerPoint( pointer );\n  var boundingRect = this.tapElement.getBoundingClientRect();\n  var scrollX = window.pageXOffset;\n  var scrollY = window.pageYOffset;\n  // calculate if pointer is inside tapElement\n  var isInside = pointerPoint.x >= boundingRect.left + scrollX &&\n    pointerPoint.x <= boundingRect.right + scrollX &&\n    pointerPoint.y >= boundingRect.top + scrollY &&\n    pointerPoint.y <= boundingRect.bottom + scrollY;\n  // trigger callback if pointer is inside element\n  if ( isInside ) {\n    this.emitEvent( 'tap', [ event, pointer ] );\n  }\n\n  // set flag for emulated clicks 300ms after touchend\n  if ( event.type != 'mouseup' ) {\n    this.isIgnoringMouseUp = true;\n    // reset flag after 300ms\n    var _this = this;\n    setTimeout( function() {\n      delete _this.isIgnoringMouseUp;\n    }, 400 );\n  }\n};\n\nproto.destroy = function() {\n  this.pointerDone();\n  this.unbindTap();\n};\n\n// -----  ----- //\n\nreturn TapListener;\n\n}));\n\n// prev/next buttons\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/prev-next-button',[\n      './flickity',\n      'tap-listener/tap-listener',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, TapListener, utils ) {\n      return factory( window, Flickity, TapListener, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('tap-listener'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window,\n      window.Flickity,\n      window.TapListener,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, TapListener, utils ) {\n'use strict';\n\nvar svgURI = 'http://www.w3.org/2000/svg';\n\n// -------------------------- PrevNextButton -------------------------- //\n\nfunction PrevNextButton( direction, parent ) {\n  this.direction = direction;\n  this.parent = parent;\n  this._create();\n}\n\nPrevNextButton.prototype = Object.create( TapListener.prototype );\n\nPrevNextButton.prototype._create = function() {\n  // properties\n  this.isEnabled = true;\n  this.isPrevious = this.direction == -1;\n  var leftDirection = this.parent.options.rightToLeft ? 1 : -1;\n  this.isLeft = this.direction == leftDirection;\n\n  var element = this.element = document.createElement('button');\n  element.className = 'flickity-button flickity-prev-next-button';\n  element.className += this.isPrevious ? ' previous' : ' next';\n  // prevent button from submitting form http://stackoverflow.com/a/10836076/182183\n  element.setAttribute( 'type', 'button' );\n  // init as disabled\n  this.disable();\n\n  element.setAttribute( 'aria-label', this.isPrevious ? 'Previous' : 'Next' );\n\n  // create arrow\n  var svg = this.createSVG();\n  element.appendChild( svg );\n  // events\n  this.on( 'tap', this.onTap );\n  this.parent.on( 'select', this.update.bind( this ) );\n  this.on( 'pointerDown', this.parent.childUIPointerDown.bind( this.parent ) );\n};\n\nPrevNextButton.prototype.activate = function() {\n  this.bindTap( this.element );\n  // click events from keyboard\n  this.element.addEventListener( 'click', this );\n  // add to DOM\n  this.parent.element.appendChild( this.element );\n};\n\nPrevNextButton.prototype.deactivate = function() {\n  // remove from DOM\n  this.parent.element.removeChild( this.element );\n  // do regular TapListener destroy\n  TapListener.prototype.destroy.call( this );\n  // click events from keyboard\n  this.element.removeEventListener( 'click', this );\n};\n\nPrevNextButton.prototype.createSVG = function() {\n  var svg = document.createElementNS( svgURI, 'svg');\n  svg.setAttribute( 'class', 'flickity-button-icon' );\n  svg.setAttribute( 'viewBox', '0 0 100 100' );\n  var path = document.createElementNS( svgURI, 'path');\n  var pathMovements = getArrowMovements( this.parent.options.arrowShape );\n  path.setAttribute( 'd', pathMovements );\n  path.setAttribute( 'class', 'arrow' );\n  // rotate arrow\n  if ( !this.isLeft ) {\n    path.setAttribute( 'transform', 'translate(100, 100) rotate(180) ' );\n  }\n  svg.appendChild( path );\n  return svg;\n};\n\n// get SVG path movmement\nfunction getArrowMovements( shape ) {\n  // use shape as movement if string\n  if ( typeof shape == 'string' ) {\n    return shape;\n  }\n  // create movement string\n  return 'M ' + shape.x0 + ',50' +\n    ' L ' + shape.x1 + ',' + ( shape.y1 + 50 ) +\n    ' L ' + shape.x2 + ',' + ( shape.y2 + 50 ) +\n    ' L ' + shape.x3 + ',50 ' +\n    ' L ' + shape.x2 + ',' + ( 50 - shape.y2 ) +\n    ' L ' + shape.x1 + ',' + ( 50 - shape.y1 ) +\n    ' Z';\n}\n\nPrevNextButton.prototype.onTap = function() {\n  if ( !this.isEnabled ) {\n    return;\n  }\n  this.parent.uiChange();\n  var method = this.isPrevious ? 'previous' : 'next';\n  this.parent[ method ]();\n};\n\nPrevNextButton.prototype.handleEvent = utils.handleEvent;\n\nPrevNextButton.prototype.onclick = function( event ) {\n  // only allow clicks from keyboard\n  var focused = document.activeElement;\n  if ( focused && focused == this.element ) {\n    this.onTap( event, event );\n  }\n};\n\n// -----  ----- //\n\nPrevNextButton.prototype.enable = function() {\n  if ( this.isEnabled ) {\n    return;\n  }\n  this.element.disabled = false;\n  this.isEnabled = true;\n};\n\nPrevNextButton.prototype.disable = function() {\n  if ( !this.isEnabled ) {\n    return;\n  }\n  this.element.disabled = true;\n  this.isEnabled = false;\n};\n\nPrevNextButton.prototype.update = function() {\n  // index of first or last slide, if previous or next\n  var slides = this.parent.slides;\n  // enable is wrapAround and at least 2 slides\n  if ( this.parent.options.wrapAround && slides.length > 1 ) {\n    this.enable();\n    return;\n  }\n  var lastIndex = slides.length ? slides.length - 1 : 0;\n  var boundIndex = this.isPrevious ? 0 : lastIndex;\n  var method = this.parent.selectedIndex == boundIndex ? 'disable' : 'enable';\n  this[ method ]();\n};\n\nPrevNextButton.prototype.destroy = function() {\n  this.deactivate();\n};\n\n// -------------------------- Flickity prototype -------------------------- //\n\nutils.extend( Flickity.defaults, {\n  prevNextButtons: true,\n  arrowShape: {\n    x0: 10,\n    x1: 60, y1: 50,\n    x2: 70, y2: 40,\n    x3: 30\n  }\n});\n\nFlickity.createMethods.push('_createPrevNextButtons');\nvar proto = Flickity.prototype;\n\nproto._createPrevNextButtons = function() {\n  if ( !this.options.prevNextButtons ) {\n    return;\n  }\n\n  this.prevButton = new PrevNextButton( -1, this );\n  this.nextButton = new PrevNextButton( 1, this );\n\n  this.on( 'activate', this.activatePrevNextButtons );\n};\n\nproto.activatePrevNextButtons = function() {\n  this.prevButton.activate();\n  this.nextButton.activate();\n  this.on( 'deactivate', this.deactivatePrevNextButtons );\n};\n\nproto.deactivatePrevNextButtons = function() {\n  this.prevButton.deactivate();\n  this.nextButton.deactivate();\n  this.off( 'deactivate', this.deactivatePrevNextButtons );\n};\n\n// --------------------------  -------------------------- //\n\nFlickity.PrevNextButton = PrevNextButton;\n\nreturn Flickity;\n\n}));\n\n// page dots\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/page-dots',[\n      './flickity',\n      'tap-listener/tap-listener',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, TapListener, utils ) {\n      return factory( window, Flickity, TapListener, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('tap-listener'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window,\n      window.Flickity,\n      window.TapListener,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, TapListener, utils ) {\n\n// -------------------------- PageDots -------------------------- //\n\n\n\nfunction PageDots( parent ) {\n  this.parent = parent;\n  this._create();\n}\n\nPageDots.prototype = new TapListener();\n\nPageDots.prototype._create = function() {\n  // create holder element\n  this.holder = document.createElement('ol');\n  this.holder.className = 'flickity-page-dots';\n  // create dots, array of elements\n  this.dots = [];\n  // events\n  this.on( 'tap', this.onTap );\n  this.on( 'pointerDown', this.parent.childUIPointerDown.bind( this.parent ) );\n};\n\nPageDots.prototype.activate = function() {\n  this.setDots();\n  this.bindTap( this.holder );\n  // add to DOM\n  this.parent.element.appendChild( this.holder );\n};\n\nPageDots.prototype.deactivate = function() {\n  // remove from DOM\n  this.parent.element.removeChild( this.holder );\n  TapListener.prototype.destroy.call( this );\n};\n\nPageDots.prototype.setDots = function() {\n  // get difference between number of slides and number of dots\n  var delta = this.parent.slides.length - this.dots.length;\n  if ( delta > 0 ) {\n    this.addDots( delta );\n  } else if ( delta < 0 ) {\n    this.removeDots( -delta );\n  }\n};\n\nPageDots.prototype.addDots = function( count ) {\n  var fragment = document.createDocumentFragment();\n  var newDots = [];\n  var length = this.dots.length;\n  var max = length + count;\n\n  for ( var i = length; i < max; i++ ) {\n    var dot = document.createElement('li');\n    dot.className = 'dot';\n    dot.setAttribute( 'aria-label', 'Page dot ' + ( i + 1 ) );\n    fragment.appendChild( dot );\n    newDots.push( dot );\n  }\n\n  this.holder.appendChild( fragment );\n  this.dots = this.dots.concat( newDots );\n};\n\nPageDots.prototype.removeDots = function( count ) {\n  // remove from this.dots collection\n  var removeDots = this.dots.splice( this.dots.length - count, count );\n  // remove from DOM\n  removeDots.forEach( function( dot ) {\n    this.holder.removeChild( dot );\n  }, this );\n};\n\nPageDots.prototype.updateSelected = function() {\n  // remove selected class on previous\n  if ( this.selectedDot ) {\n    this.selectedDot.className = 'dot';\n    this.selectedDot.removeAttribute('aria-current');\n  }\n  // don't proceed if no dots\n  if ( !this.dots.length ) {\n    return;\n  }\n  this.selectedDot = this.dots[ this.parent.selectedIndex ];\n  this.selectedDot.className = 'dot is-selected';\n  this.selectedDot.setAttribute( 'aria-current', 'step' );\n};\n\nPageDots.prototype.onTap = function( event ) {\n  var target = event.target;\n  // only care about dot clicks\n  if ( target.nodeName != 'LI' ) {\n    return;\n  }\n\n  this.parent.uiChange();\n  var index = this.dots.indexOf( target );\n  this.parent.select( index );\n};\n\nPageDots.prototype.destroy = function() {\n  this.deactivate();\n};\n\nFlickity.PageDots = PageDots;\n\n// -------------------------- Flickity -------------------------- //\n\nutils.extend( Flickity.defaults, {\n  pageDots: true\n});\n\nFlickity.createMethods.push('_createPageDots');\n\nvar proto = Flickity.prototype;\n\nproto._createPageDots = function() {\n  if ( !this.options.pageDots ) {\n    return;\n  }\n  this.pageDots = new PageDots( this );\n  // events\n  this.on( 'activate', this.activatePageDots );\n  this.on( 'select', this.updateSelectedPageDots );\n  this.on( 'cellChange', this.updatePageDots );\n  this.on( 'resize', this.updatePageDots );\n  this.on( 'deactivate', this.deactivatePageDots );\n};\n\nproto.activatePageDots = function() {\n  this.pageDots.activate();\n};\n\nproto.updateSelectedPageDots = function() {\n  this.pageDots.updateSelected();\n};\n\nproto.updatePageDots = function() {\n  this.pageDots.setDots();\n};\n\nproto.deactivatePageDots = function() {\n  this.pageDots.deactivate();\n};\n\n// -----  ----- //\n\nFlickity.PageDots = PageDots;\n\nreturn Flickity;\n\n}));\n\n// player & autoPlay\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/player',[\n      'ev-emitter/ev-emitter',\n      'fizzy-ui-utils/utils',\n      './flickity'\n    ], function( EvEmitter, utils, Flickity ) {\n      return factory( EvEmitter, utils, Flickity );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('ev-emitter'),\n      require('fizzy-ui-utils'),\n      require('./flickity')\n    );\n  } else {\n    // browser global\n    factory(\n      window.EvEmitter,\n      window.fizzyUIUtils,\n      window.Flickity\n    );\n  }\n\n}( window, function factory( EvEmitter, utils, Flickity ) {\n\n\n\n// -------------------------- Player -------------------------- //\n\nfunction Player( parent ) {\n  this.parent = parent;\n  this.state = 'stopped';\n  // visibility change event handler\n  this.onVisibilityChange = this.visibilityChange.bind( this );\n  this.onVisibilityPlay = this.visibilityPlay.bind( this );\n}\n\nPlayer.prototype = Object.create( EvEmitter.prototype );\n\n// start play\nPlayer.prototype.play = function() {\n  if ( this.state == 'playing' ) {\n    return;\n  }\n  // do not play if page is hidden, start playing when page is visible\n  var isPageHidden = document.hidden;\n  if ( isPageHidden ) {\n    document.addEventListener( 'visibilitychange', this.onVisibilityPlay );\n    return;\n  }\n\n  this.state = 'playing';\n  // listen to visibility change\n  document.addEventListener( 'visibilitychange', this.onVisibilityChange );\n  // start ticking\n  this.tick();\n};\n\nPlayer.prototype.tick = function() {\n  // do not tick if not playing\n  if ( this.state != 'playing' ) {\n    return;\n  }\n\n  var time = this.parent.options.autoPlay;\n  // default to 3 seconds\n  time = typeof time == 'number' ? time : 3000;\n  var _this = this;\n  // HACK: reset ticks if stopped and started within interval\n  this.clear();\n  this.timeout = setTimeout( function() {\n    _this.parent.next( true );\n    _this.tick();\n  }, time );\n};\n\nPlayer.prototype.stop = function() {\n  this.state = 'stopped';\n  this.clear();\n  // remove visibility change event\n  document.removeEventListener( 'visibilitychange', this.onVisibilityChange );\n};\n\nPlayer.prototype.clear = function() {\n  clearTimeout( this.timeout );\n};\n\nPlayer.prototype.pause = function() {\n  if ( this.state == 'playing' ) {\n    this.state = 'paused';\n    this.clear();\n  }\n};\n\nPlayer.prototype.unpause = function() {\n  // re-start play if paused\n  if ( this.state == 'paused' ) {\n    this.play();\n  }\n};\n\n// pause if page visibility is hidden, unpause if visible\nPlayer.prototype.visibilityChange = function() {\n  var isPageHidden = document.hidden;\n  this[ isPageHidden ? 'pause' : 'unpause' ]();\n};\n\nPlayer.prototype.visibilityPlay = function() {\n  this.play();\n  document.removeEventListener( 'visibilitychange', this.onVisibilityPlay );\n};\n\n// -------------------------- Flickity -------------------------- //\n\nutils.extend( Flickity.defaults, {\n  pauseAutoPlayOnHover: true\n});\n\nFlickity.createMethods.push('_createPlayer');\nvar proto = Flickity.prototype;\n\nproto._createPlayer = function() {\n  this.player = new Player( this );\n\n  this.on( 'activate', this.activatePlayer );\n  this.on( 'uiChange', this.stopPlayer );\n  this.on( 'pointerDown', this.stopPlayer );\n  this.on( 'deactivate', this.deactivatePlayer );\n};\n\nproto.activatePlayer = function() {\n  if ( !this.options.autoPlay ) {\n    return;\n  }\n  this.player.play();\n  this.element.addEventListener( 'mouseenter', this );\n};\n\n// Player API, don't hate the ... thanks I know where the door is\n\nproto.playPlayer = function() {\n  this.player.play();\n};\n\nproto.stopPlayer = function() {\n  this.player.stop();\n};\n\nproto.pausePlayer = function() {\n  this.player.pause();\n};\n\nproto.unpausePlayer = function() {\n  this.player.unpause();\n};\n\nproto.deactivatePlayer = function() {\n  this.player.stop();\n  this.element.removeEventListener( 'mouseenter', this );\n};\n\n// ----- mouseenter/leave ----- //\n\n// pause auto-play on hover\nproto.onmouseenter = function() {\n  if ( !this.options.pauseAutoPlayOnHover ) {\n    return;\n  }\n  this.player.pause();\n  this.element.addEventListener( 'mouseleave', this );\n};\n\n// resume auto-play on hover off\nproto.onmouseleave = function() {\n  this.player.unpause();\n  this.element.removeEventListener( 'mouseleave', this );\n};\n\n// -----  ----- //\n\nFlickity.Player = Player;\n\nreturn Flickity;\n\n}));\n\n// add, remove cell\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/add-remove-cell',[\n      './flickity',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, utils ) {\n      return factory( window, Flickity, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window,\n      window.Flickity,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, utils ) {\n\n\n\n// append cells to a document fragment\nfunction getCellsFragment( cells ) {\n  var fragment = document.createDocumentFragment();\n  cells.forEach( function( cell ) {\n    fragment.appendChild( cell.element );\n  });\n  return fragment;\n}\n\n// -------------------------- add/remove cell prototype -------------------------- //\n\nvar proto = Flickity.prototype;\n\n/**\n * Insert, prepend, or append cells\n * @param {Element, Array, NodeList} elems\n * @param {Integer} index\n */\nproto.insert = function( elems, index ) {\n  var cells = this._makeCells( elems );\n  if ( !cells || !cells.length ) {\n    return;\n  }\n  var len = this.cells.length;\n  // default to append\n  index = index === undefined ? len : index;\n  // add cells with document fragment\n  var fragment = getCellsFragment( cells );\n  // append to slider\n  var isAppend = index == len;\n  if ( isAppend ) {\n    this.slider.appendChild( fragment );\n  } else {\n    var insertCellElement = this.cells[ index ].element;\n    this.slider.insertBefore( fragment, insertCellElement );\n  }\n  // add to this.cells\n  if ( index === 0 ) {\n    // prepend, add to start\n    this.cells = cells.concat( this.cells );\n  } else if ( isAppend ) {\n    // append, add to end\n    this.cells = this.cells.concat( cells );\n  } else {\n    // insert in this.cells\n    var endCells = this.cells.splice( index, len - index );\n    this.cells = this.cells.concat( cells ).concat( endCells );\n  }\n\n  this._sizeCells( cells );\n  this.cellChange( index, true );\n};\n\nproto.append = function( elems ) {\n  this.insert( elems, this.cells.length );\n};\n\nproto.prepend = function( elems ) {\n  this.insert( elems, 0 );\n};\n\n/**\n * Remove cells\n * @param {Element, Array, NodeList} elems\n */\nproto.remove = function( elems ) {\n  var cells = this.getCells( elems );\n  if ( !cells || !cells.length ) {\n    return;\n  }\n\n  var minCellIndex = this.cells.length - 1;\n  // remove cells from collection & DOM\n  cells.forEach( function( cell ) {\n    cell.remove();\n    var index = this.cells.indexOf( cell );\n    minCellIndex = Math.min( index, minCellIndex );\n    utils.removeFrom( this.cells, cell );\n  }, this );\n\n  this.cellChange( minCellIndex, true );\n};\n\n/**\n * logic to be run after a cell's size changes\n * @param {Element} elem - cell's element\n */\nproto.cellSizeChange = function( elem ) {\n  var cell = this.getCell( elem );\n  if ( !cell ) {\n    return;\n  }\n  cell.getSize();\n\n  var index = this.cells.indexOf( cell );\n  this.cellChange( index );\n};\n\n/**\n * logic any time a cell is changed: added, removed, or size changed\n * @param {Integer} changedCellIndex - index of the changed cell, optional\n */\nproto.cellChange = function( changedCellIndex, isPositioningSlider ) {\n  var prevSelectedElem = this.selectedElement;\n  this._positionCells( changedCellIndex );\n  this._getWrapShiftCells();\n  this.setGallerySize();\n  // update selectedIndex\n  // try to maintain position & select previous selected element\n  var cell = this.getCell( prevSelectedElem );\n  if ( cell ) {\n    this.selectedIndex = this.getCellSlideIndex( cell );\n  }\n  this.selectedIndex = Math.min( this.slides.length - 1, this.selectedIndex );\n\n  this.emitEvent( 'cellChange', [ changedCellIndex ] );\n  // position slider\n  this.select( this.selectedIndex );\n  // do not position slider after lazy load\n  if ( isPositioningSlider ) {\n    this.positionSliderAtSelected();\n  }\n};\n\n// -----  ----- //\n\nreturn Flickity;\n\n}));\n\n// lazyload\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/lazyload',[\n      './flickity',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, utils ) {\n      return factory( window, Flickity, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window,\n      window.Flickity,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, utils ) {\n'use strict';\n\nFlickity.createMethods.push('_createLazyload');\nvar proto = Flickity.prototype;\n\nproto._createLazyload = function() {\n  this.on( 'select', this.lazyLoad );\n};\n\nproto.lazyLoad = function() {\n  var lazyLoad = this.options.lazyLoad;\n  if ( !lazyLoad ) {\n    return;\n  }\n  // get adjacent cells, use lazyLoad option for adjacent count\n  var adjCount = typeof lazyLoad == 'number' ? lazyLoad : 0;\n  var cellElems = this.getAdjacentCellElements( adjCount );\n  // get lazy images in those cells\n  var lazyImages = [];\n  cellElems.forEach( function( cellElem ) {\n    var lazyCellImages = getCellLazyImages( cellElem );\n    lazyImages = lazyImages.concat( lazyCellImages );\n  });\n  // load lazy images\n  lazyImages.forEach( function( img ) {\n    new LazyLoader( img, this );\n  }, this );\n};\n\nfunction getCellLazyImages( cellElem ) {\n  // check if cell element is lazy image\n  if ( cellElem.nodeName == 'IMG' ) {\n    var lazyloadAttr = cellElem.getAttribute('data-flickity-lazyload');\n    var srcAttr = cellElem.getAttribute('data-flickity-lazyload-src');\n    var srcsetAttr = cellElem.getAttribute('data-flickity-lazyload-srcset');\n    if ( lazyloadAttr || srcAttr || srcsetAttr ) {\n      return [ cellElem ];\n    }\n  }\n  // select lazy images in cell\n  var lazySelector = 'img[data-flickity-lazyload], ' +\n    'img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]';\n  var imgs = cellElem.querySelectorAll( lazySelector );\n  return utils.makeArray( imgs );\n}\n\n// -------------------------- LazyLoader -------------------------- //\n\n/**\n * class to handle loading images\n */\nfunction LazyLoader( img, flickity ) {\n  this.img = img;\n  this.flickity = flickity;\n  this.load();\n}\n\nLazyLoader.prototype.handleEvent = utils.handleEvent;\n\nLazyLoader.prototype.load = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  // get src & srcset\n  var src = this.img.getAttribute('data-flickity-lazyload') ||\n    this.img.getAttribute('data-flickity-lazyload-src');\n  var srcset = this.img.getAttribute('data-flickity-lazyload-srcset');\n  // set src & serset\n  this.img.src = src;\n  if ( srcset ) {\n    this.img.setAttribute( 'srcset', srcset );\n  }\n  // remove attr\n  this.img.removeAttribute('data-flickity-lazyload');\n  this.img.removeAttribute('data-flickity-lazyload-src');\n  this.img.removeAttribute('data-flickity-lazyload-srcset');\n};\n\nLazyLoader.prototype.onload = function( event ) {\n  this.complete( event, 'flickity-lazyloaded' );\n};\n\nLazyLoader.prototype.onerror = function( event ) {\n  this.complete( event, 'flickity-lazyerror' );\n};\n\nLazyLoader.prototype.complete = function( event, className ) {\n  // unbind events\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n\n  var cell = this.flickity.getParentCell( this.img );\n  var cellElem = cell && cell.element;\n  this.flickity.cellSizeChange( cellElem );\n\n  this.img.classList.add( className );\n  this.flickity.dispatchEvent( 'lazyLoad', event, cellElem );\n};\n\n// -----  ----- //\n\nFlickity.LazyLoader = LazyLoader;\n\nreturn Flickity;\n\n}));\n\n/*!\n * Flickity v2.1.1\n * Touch, responsive, flickable carousels\n *\n * Licensed GPLv3 for open source use\n * or Flickity Commercial License for commercial use\n *\n * https://flickity.metafizzy.co\n * Copyright 2015-2018 Metafizzy\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/index',[\n      './flickity',\n      './drag',\n      './prev-next-button',\n      './page-dots',\n      './player',\n      './add-remove-cell',\n      './lazyload'\n    ], factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('./flickity'),\n      require('./drag'),\n      require('./prev-next-button'),\n      require('./page-dots'),\n      require('./player'),\n      require('./add-remove-cell'),\n      require('./lazyload')\n    );\n  }\n\n})( window, function factory( Flickity ) {\n  /*jshint strict: false*/\n  return Flickity;\n});\n\n/*!\n * Flickity asNavFor v2.0.1\n * enable asNavFor for Flickity\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true*/\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity-as-nav-for/as-nav-for',[\n      'flickity/js/index',\n      'fizzy-ui-utils/utils'\n    ], factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('flickity'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    window.Flickity = factory(\n      window.Flickity,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( Flickity, utils ) {\n\n\n\n// -------------------------- asNavFor prototype -------------------------- //\n\n// Flickity.defaults.asNavFor = null;\n\nFlickity.createMethods.push('_createAsNavFor');\n\nvar proto = Flickity.prototype;\n\nproto._createAsNavFor = function() {\n  this.on( 'activate', this.activateAsNavFor );\n  this.on( 'deactivate', this.deactivateAsNavFor );\n  this.on( 'destroy', this.destroyAsNavFor );\n\n  var asNavForOption = this.options.asNavFor;\n  if ( !asNavForOption ) {\n    return;\n  }\n  // HACK do async, give time for other flickity to be initalized\n  var _this = this;\n  setTimeout( function initNavCompanion() {\n    _this.setNavCompanion( asNavForOption );\n  });\n};\n\nproto.setNavCompanion = function( elem ) {\n  elem = utils.getQueryElement( elem );\n  var companion = Flickity.data( elem );\n  // stop if no companion or companion is self\n  if ( !companion || companion == this ) {\n    return;\n  }\n\n  this.navCompanion = companion;\n  // companion select\n  var _this = this;\n  this.onNavCompanionSelect = function() {\n    _this.navCompanionSelect();\n  };\n  companion.on( 'select', this.onNavCompanionSelect );\n  // click\n  this.on( 'staticClick', this.onNavStaticClick );\n\n  this.navCompanionSelect( true );\n};\n\nproto.navCompanionSelect = function( isInstant ) {\n  if ( !this.navCompanion ) {\n    return;\n  }\n  // select slide that matches first cell of slide\n  var selectedCell = this.navCompanion.selectedCells[0];\n  var firstIndex = this.navCompanion.cells.indexOf( selectedCell );\n  var lastIndex = firstIndex + this.navCompanion.selectedCells.length - 1;\n  var selectIndex = Math.floor( lerp( firstIndex, lastIndex,\n    this.navCompanion.cellAlign ) );\n  this.selectCell( selectIndex, false, isInstant );\n  // set nav selected class\n  this.removeNavSelectedElements();\n  // stop if companion has more cells than this one\n  if ( selectIndex >= this.cells.length ) {\n    return;\n  }\n\n  var selectedCells = this.cells.slice( firstIndex, lastIndex + 1 );\n  this.navSelectedElements = selectedCells.map( function( cell ) {\n    return cell.element;\n  });\n  this.changeNavSelectedClass('add');\n};\n\nfunction lerp( a, b, t ) {\n  return ( b - a ) * t + a;\n}\n\nproto.changeNavSelectedClass = function( method ) {\n  this.navSelectedElements.forEach( function( navElem ) {\n    navElem.classList[ method ]('is-nav-selected');\n  });\n};\n\nproto.activateAsNavFor = function() {\n  this.navCompanionSelect( true );\n};\n\nproto.removeNavSelectedElements = function() {\n  if ( !this.navSelectedElements ) {\n    return;\n  }\n  this.changeNavSelectedClass('remove');\n  delete this.navSelectedElements;\n};\n\nproto.onNavStaticClick = function( event, pointer, cellElement, cellIndex ) {\n  if ( typeof cellIndex == 'number' ) {\n    this.navCompanion.selectCell( cellIndex );\n  }\n};\n\nproto.deactivateAsNavFor = function() {\n  this.removeNavSelectedElements();\n};\n\nproto.destroyAsNavFor = function() {\n  if ( !this.navCompanion ) {\n    return;\n  }\n  this.navCompanion.off( 'select', this.onNavCompanionSelect );\n  this.off( 'staticClick', this.onNavStaticClick );\n  delete this.navCompanion;\n};\n\n// -----  ----- //\n\nreturn Flickity;\n\n}));\n\n/*!\n * imagesLoaded v4.1.4\n * JavaScript is all like \"You images are done yet or what?\"\n * MIT License\n */\n\n( function( window, factory ) { 'use strict';\n  // universal module definition\n\n  /*global define: false, module: false, require: false */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'imagesloaded/imagesloaded',[\n      'ev-emitter/ev-emitter'\n    ], function( EvEmitter ) {\n      return factory( window, EvEmitter );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter')\n    );\n  } else {\n    // browser global\n    window.imagesLoaded = factory(\n      window,\n      window.EvEmitter\n    );\n  }\n\n})( typeof window !== 'undefined' ? window : this,\n\n// --------------------------  factory -------------------------- //\n\nfunction factory( window, EvEmitter ) {\n\n\n\nvar $ = window.jQuery;\nvar console = window.console;\n\n// -------------------------- helpers -------------------------- //\n\n// extend objects\nfunction extend( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n}\n\nvar arraySlice = Array.prototype.slice;\n\n// turn element or nodeList into an array\nfunction makeArray( obj ) {\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    return obj;\n  }\n\n  var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n  if ( isArrayLike ) {\n    // convert nodeList to array\n    return arraySlice.call( obj );\n  }\n\n  // array of single index\n  return [ obj ];\n}\n\n// -------------------------- imagesLoaded -------------------------- //\n\n/**\n * @param {Array, Element, NodeList, String} elem\n * @param {Object or Function} options - if function, use as callback\n * @param {Function} onAlways - callback function\n */\nfunction ImagesLoaded( elem, options, onAlways ) {\n  // coerce ImagesLoaded() without new, to be new ImagesLoaded()\n  if ( !( this instanceof ImagesLoaded ) ) {\n    return new ImagesLoaded( elem, options, onAlways );\n  }\n  // use elem as selector string\n  var queryElem = elem;\n  if ( typeof elem == 'string' ) {\n    queryElem = document.querySelectorAll( elem );\n  }\n  // bail if bad element\n  if ( !queryElem ) {\n    console.error( 'Bad element for imagesLoaded ' + ( queryElem || elem ) );\n    return;\n  }\n\n  this.elements = makeArray( queryElem );\n  this.options = extend( {}, this.options );\n  // shift arguments if no options set\n  if ( typeof options == 'function' ) {\n    onAlways = options;\n  } else {\n    extend( this.options, options );\n  }\n\n  if ( onAlways ) {\n    this.on( 'always', onAlways );\n  }\n\n  this.getImages();\n\n  if ( $ ) {\n    // add jQuery Deferred object\n    this.jqDeferred = new $.Deferred();\n  }\n\n  // HACK check async to allow time to bind listeners\n  setTimeout( this.check.bind( this ) );\n}\n\nImagesLoaded.prototype = Object.create( EvEmitter.prototype );\n\nImagesLoaded.prototype.options = {};\n\nImagesLoaded.prototype.getImages = function() {\n  this.images = [];\n\n  // filter & find items if we have an item selector\n  this.elements.forEach( this.addElementImages, this );\n};\n\n/**\n * @param {Node} element\n */\nImagesLoaded.prototype.addElementImages = function( elem ) {\n  // filter siblings\n  if ( elem.nodeName == 'IMG' ) {\n    this.addImage( elem );\n  }\n  // get background image on element\n  if ( this.options.background === true ) {\n    this.addElementBackgroundImages( elem );\n  }\n\n  // find children\n  // no non-element nodes, #143\n  var nodeType = elem.nodeType;\n  if ( !nodeType || !elementNodeTypes[ nodeType ] ) {\n    return;\n  }\n  var childImgs = elem.querySelectorAll('img');\n  // concat childElems to filterFound array\n  for ( var i=0; i < childImgs.length; i++ ) {\n    var img = childImgs[i];\n    this.addImage( img );\n  }\n\n  // get child background images\n  if ( typeof this.options.background == 'string' ) {\n    var children = elem.querySelectorAll( this.options.background );\n    for ( i=0; i < children.length; i++ ) {\n      var child = children[i];\n      this.addElementBackgroundImages( child );\n    }\n  }\n};\n\nvar elementNodeTypes = {\n  1: true,\n  9: true,\n  11: true\n};\n\nImagesLoaded.prototype.addElementBackgroundImages = function( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    // Firefox returns null if in a hidden iframe https://bugzil.la/548397\n    return;\n  }\n  // get url inside url(\"...\")\n  var reURL = /url\\((['\"])?(.*?)\\1\\)/gi;\n  var matches = reURL.exec( style.backgroundImage );\n  while ( matches !== null ) {\n    var url = matches && matches[2];\n    if ( url ) {\n      this.addBackground( url, elem );\n    }\n    matches = reURL.exec( style.backgroundImage );\n  }\n};\n\n/**\n * @param {Image} img\n */\nImagesLoaded.prototype.addImage = function( img ) {\n  var loadingImage = new LoadingImage( img );\n  this.images.push( loadingImage );\n};\n\nImagesLoaded.prototype.addBackground = function( url, elem ) {\n  var background = new Background( url, elem );\n  this.images.push( background );\n};\n\nImagesLoaded.prototype.check = function() {\n  var _this = this;\n  this.progressedCount = 0;\n  this.hasAnyBroken = false;\n  // complete if no images\n  if ( !this.images.length ) {\n    this.complete();\n    return;\n  }\n\n  function onProgress( image, elem, message ) {\n    // HACK - Chrome triggers event before object properties have changed. #83\n    setTimeout( function() {\n      _this.progress( image, elem, message );\n    });\n  }\n\n  this.images.forEach( function( loadingImage ) {\n    loadingImage.once( 'progress', onProgress );\n    loadingImage.check();\n  });\n};\n\nImagesLoaded.prototype.progress = function( image, elem, message ) {\n  this.progressedCount++;\n  this.hasAnyBroken = this.hasAnyBroken || !image.isLoaded;\n  // progress event\n  this.emitEvent( 'progress', [ this, image, elem ] );\n  if ( this.jqDeferred && this.jqDeferred.notify ) {\n    this.jqDeferred.notify( this, image );\n  }\n  // check if completed\n  if ( this.progressedCount == this.images.length ) {\n    this.complete();\n  }\n\n  if ( this.options.debug && console ) {\n    console.log( 'progress: ' + message, image, elem );\n  }\n};\n\nImagesLoaded.prototype.complete = function() {\n  var eventName = this.hasAnyBroken ? 'fail' : 'done';\n  this.isComplete = true;\n  this.emitEvent( eventName, [ this ] );\n  this.emitEvent( 'always', [ this ] );\n  if ( this.jqDeferred ) {\n    var jqMethod = this.hasAnyBroken ? 'reject' : 'resolve';\n    this.jqDeferred[ jqMethod ]( this );\n  }\n};\n\n// --------------------------  -------------------------- //\n\nfunction LoadingImage( img ) {\n  this.img = img;\n}\n\nLoadingImage.prototype = Object.create( EvEmitter.prototype );\n\nLoadingImage.prototype.check = function() {\n  // If complete is true and browser supports natural sizes,\n  // try to check for image status manually.\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    // report based on naturalWidth\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    return;\n  }\n\n  // If none of the checks above matched, simulate loading on detached element.\n  this.proxyImage = new Image();\n  this.proxyImage.addEventListener( 'load', this );\n  this.proxyImage.addEventListener( 'error', this );\n  // bind to image as well for Firefox. #191\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.proxyImage.src = this.img.src;\n};\n\nLoadingImage.prototype.getIsImageComplete = function() {\n  // check for non-zero, non-undefined naturalWidth\n  // fixes Safari+InfiniteScroll+Masonry bug infinite-scroll#671\n  return this.img.complete && this.img.naturalWidth;\n};\n\nLoadingImage.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.img, message ] );\n};\n\n// ----- events ----- //\n\n// trigger specified handler for event type\nLoadingImage.prototype.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\nLoadingImage.prototype.onload = function() {\n  this.confirm( true, 'onload' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.onerror = function() {\n  this.confirm( false, 'onerror' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.unbindEvents = function() {\n  this.proxyImage.removeEventListener( 'load', this );\n  this.proxyImage.removeEventListener( 'error', this );\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\n// -------------------------- Background -------------------------- //\n\nfunction Background( url, element ) {\n  this.url = url;\n  this.element = element;\n  this.img = new Image();\n}\n\n// inherit LoadingImage prototype\nBackground.prototype = Object.create( LoadingImage.prototype );\n\nBackground.prototype.check = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.img.src = this.url;\n  // check if image is already complete\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    this.unbindEvents();\n  }\n};\n\nBackground.prototype.unbindEvents = function() {\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\nBackground.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.element, message ] );\n};\n\n// -------------------------- jQuery -------------------------- //\n\nImagesLoaded.makeJQueryPlugin = function( jQuery ) {\n  jQuery = jQuery || window.jQuery;\n  if ( !jQuery ) {\n    return;\n  }\n  // set local variable\n  $ = jQuery;\n  // $().imagesLoaded()\n  $.fn.imagesLoaded = function( options, callback ) {\n    var instance = new ImagesLoaded( this, options, callback );\n    return instance.jqDeferred.promise( $(this) );\n  };\n};\n// try making plugin\nImagesLoaded.makeJQueryPlugin();\n\n// --------------------------  -------------------------- //\n\nreturn ImagesLoaded;\n\n});\n\n/*!\n * Flickity imagesLoaded v2.0.0\n * enables imagesLoaded option for Flickity\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'flickity/js/index',\n      'imagesloaded/imagesloaded'\n    ], function( Flickity, imagesLoaded ) {\n      return factory( window, Flickity, imagesLoaded );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('flickity'),\n      require('imagesloaded')\n    );\n  } else {\n    // browser global\n    window.Flickity = factory(\n      window,\n      window.Flickity,\n      window.imagesLoaded\n    );\n  }\n\n}( window, function factory( window, Flickity, imagesLoaded ) {\n'use strict';\n\nFlickity.createMethods.push('_createImagesLoaded');\n\nvar proto = Flickity.prototype;\n\nproto._createImagesLoaded = function() {\n  this.on( 'activate', this.imagesLoaded );\n};\n\nproto.imagesLoaded = function() {\n  if ( !this.options.imagesLoaded ) {\n    return;\n  }\n  var _this = this;\n  function onImagesLoadedProgress( instance, image ) {\n    var cell = _this.getParentCell( image.img );\n    _this.cellSizeChange( cell && cell.element );\n    if ( !_this.options.freeScroll ) {\n      _this.positionSliderAtSelected();\n    }\n  }\n  imagesLoaded( this.slider ).on( 'progress', onImagesLoadedProgress );\n};\n\nreturn Flickity;\n\n}));\n","/**\n * Flickity background lazyload v1.0.0\n * lazyload background cell images\n */\n\n/*jshint browser: true, unused: true, undef: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'flickity/js/index',\n      'fizzy-ui-utils/utils'\n    ], factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('flickity'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window.Flickity,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( Flickity, utils ) {\n/*jshint strict: true */\n'use strict';\n\nFlickity.createMethods.push('_createBgLazyLoad');\n\nvar proto = Flickity.prototype;\n\nproto._createBgLazyLoad = function() {\n  this.on( 'select', this.bgLazyLoad );\n};\n\nproto.bgLazyLoad = function() {\n  var lazyLoad = this.options.bgLazyLoad;\n  if ( !lazyLoad ) {\n    return;\n  }\n\n  // get adjacent cells, use lazyLoad option for adjacent count\n  var adjCount = typeof lazyLoad == 'number' ? lazyLoad : 0;\n  var cellElems = this.getAdjacentCellElements( adjCount );\n\n  for ( var i=0; i < cellElems.length; i++ ) {\n    var cellElem = cellElems[i];\n    this.bgLazyLoadElem( cellElem );\n    // select lazy elems in cell\n    var children = cellElem.querySelectorAll('[data-flickity-bg-lazyload]');\n    for ( var j=0; j < children.length; j++ ) {\n      this.bgLazyLoadElem( children[j] );\n    }\n  }\n};\n\nproto.bgLazyLoadElem = function( elem ) {\n  var attr = elem.getAttribute('data-flickity-bg-lazyload');\n  if ( attr ) {\n    new BgLazyLoader( elem, attr, this );\n  }\n};\n\n// -------------------------- LazyBGLoader -------------------------- //\n\n/**\n * class to handle loading images\n */\nfunction BgLazyLoader( elem, url, flickity ) {\n  this.element = elem;\n  this.url = url;\n  this.img = new Image();\n  this.flickity = flickity;\n  this.load();\n}\n\nBgLazyLoader.prototype.handleEvent = utils.handleEvent;\n\nBgLazyLoader.prototype.load = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  // load image\n  this.img.src = this.url;\n  // remove attr\n  this.element.removeAttribute('data-flickity-bg-lazyload');\n};\n\nBgLazyLoader.prototype.onload = function( event ) {\n  this.element.style.backgroundImage = 'url(' + this.url + ')';\n  this.complete( event, 'flickity-bg-lazyloaded' );\n};\n\nBgLazyLoader.prototype.onerror = function( event ) {\n  this.complete( event, 'flickity-bg-lazyerror' );\n};\n\nBgLazyLoader.prototype.complete = function( event, className ) {\n  // unbind events\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n\n  this.element.classList.add( className );\n  this.flickity.dispatchEvent( 'bgLazyLoad', event, this.element );\n};\n\n// -----  ----- //\n\nFlickity.BgLazyLoader = BgLazyLoader;\n\nreturn Flickity;\n\n}));\n","/**\n*  Ajax Autocomplete for jQuery, version 1.2.27\n*  (c) 2015 Tomas Kirda\n*\n*  Ajax Autocomplete for jQuery is freely distributable under the terms of an MIT-style license.\n*  For details, see the web site: https://github.com/devbridge/jQuery-Autocomplete\n*/\n\n/*jslint  browser: true, white: true, single: true, this: true, multivar: true */\n/*global define, window, document, jQuery, exports, require */\n\n// Expose plugin as an AMD module if AMD loader is present:\n(function (factory) {\n    \"use strict\";\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['jquery'], factory);\n    } else if (typeof exports === 'object' && typeof require === 'function') {\n        // Browserify\n        factory(require('jquery'));\n    } else {\n        // Browser globals\n        factory(jQuery);\n    }\n}(function ($) {\n    'use strict';\n\n    var\n        utils = (function () {\n            return {\n                escapeRegExChars: function (value) {\n                    return value.replace(/[|\\\\{}()[\\]^$+*?.]/g, \"\\\\$&\");\n                },\n                createNode: function (containerClass) {\n                    var div = document.createElement('div');\n                    div.className = containerClass;\n                    div.style.position = 'absolute';\n                    div.style.display = 'none';\n                    return div;\n                }\n            };\n        }()),\n\n        keys = {\n            ESC: 27,\n            TAB: 9,\n            RETURN: 13,\n            LEFT: 37,\n            UP: 38,\n            RIGHT: 39,\n            DOWN: 40\n        };\n\n    function Autocomplete(el, options) {\n        var noop = $.noop,\n            that = this,\n            defaults = {\n                ajaxSettings: {},\n                autoSelectFirst: false,\n                appendTo: document.body,\n                serviceUrl: null,\n                lookup: null,\n                onSelect: null,\n                width: 'auto',\n                minChars: 1,\n                maxHeight: 300,\n                deferRequestBy: 0,\n                params: {},\n                formatResult: Autocomplete.formatResult,\n                delimiter: null,\n                zIndex: 9999,\n                type: 'GET',\n                noCache: false,\n                onSearchStart: noop,\n                onSearchComplete: noop,\n                onSearchError: noop,\n                preserveInput: false,\n                containerClass: 'autocomplete-suggestions',\n                tabDisabled: false,\n                dataType: 'text',\n                currentRequest: null,\n                triggerSelectOnValidInput: true,\n                preventBadQueries: true,\n                lookupFilter: function (suggestion, originalQuery, queryLowerCase) {\n                    return suggestion.value.toLowerCase().indexOf(queryLowerCase) !== -1;\n                },\n                paramName: 'query',\n                transformResult: function (response) {\n                    return typeof response === 'string' ? $.parseJSON(response) : response;\n                },\n                showNoSuggestionNotice: false,\n                noSuggestionNotice: 'No results',\n                orientation: 'bottom',\n                forceFixPosition: false\n            };\n\n        // Shared variables:\n        that.element = el;\n        that.el = $(el);\n        that.suggestions = [];\n        that.badQueries = [];\n        that.selectedIndex = -1;\n        that.currentValue = that.element.value;\n        that.intervalId = 0;\n        that.cachedResponse = {};\n        that.onChangeInterval = null;\n        that.onChange = null;\n        that.isLocal = false;\n        that.suggestionsContainer = null;\n        that.noSuggestionsContainer = null;\n        that.options = $.extend({}, defaults, options);\n        that.classes = {\n            selected: 'autocomplete-selected',\n            suggestion: 'autocomplete-suggestion'\n        };\n        that.hint = null;\n        that.hintValue = '';\n        that.selection = null;\n\n        // Initialize and set options:\n        that.initialize();\n        that.setOptions(options);\n    }\n\n    Autocomplete.utils = utils;\n\n    $.Autocomplete = Autocomplete;\n\n    Autocomplete.formatResult = function (suggestion, currentValue) {\n        // Do not replace anything if there current value is empty\n        if (!currentValue) {\n            return suggestion.value;\n        }\n        \n        var pattern = '(' + utils.escapeRegExChars(currentValue) + ')';\n\n        return suggestion.value\n            .replace(new RegExp(pattern, 'gi'), '<strong>$1<\\/strong>')\n            .replace(/&/g, '&amp;')\n            .replace(/</g, '&lt;')\n            .replace(/>/g, '&gt;')\n            .replace(/\"/g, '&quot;')\n            .replace(/&lt;(\\/?strong)&gt;/g, '<$1>');\n    };\n\n    Autocomplete.prototype = {\n\n        killerFn: null,\n\n        initialize: function () {\n            var that = this,\n                suggestionSelector = '.' + that.classes.suggestion,\n                selected = that.classes.selected,\n                options = that.options,\n                container;\n\n            // Remove autocomplete attribute to prevent native suggestions:\n            that.element.setAttribute('autocomplete', 'off');\n\n            that.killerFn = function (e) {\n                if (!$(e.target).closest('.' + that.options.containerClass).length) {\n                    that.killSuggestions();\n                    that.disableKillerFn();\n                }\n            };\n\n            // html() deals with many types: htmlString or Element or Array or jQuery\n            that.noSuggestionsContainer = $('<div class=\"autocomplete-no-suggestion\"></div>')\n                                          .html(this.options.noSuggestionNotice).get(0);\n\n            that.suggestionsContainer = Autocomplete.utils.createNode(options.containerClass);\n\n            container = $(that.suggestionsContainer);\n\n            container.appendTo(options.appendTo);\n\n            // Only set width if it was provided:\n            if (options.width !== 'auto') {\n                container.css('width', options.width);\n            }\n\n            // Listen for mouse over event on suggestions list:\n            container.on('mouseover.autocomplete', suggestionSelector, function () {\n                that.activate($(this).data('index'));\n            });\n\n            // Deselect active element when mouse leaves suggestions container:\n            container.on('mouseout.autocomplete', function () {\n                that.selectedIndex = -1;\n                container.children('.' + selected).removeClass(selected);\n            });\n\n            // Listen for click event on suggestions list:\n            container.on('click.autocomplete', suggestionSelector, function () {\n                that.select($(this).data('index'));\n                return false;\n            });\n\n            that.fixPositionCapture = function () {\n                if (that.visible) {\n                    that.fixPosition();\n                }\n            };\n\n            $(window).on('resize.autocomplete', that.fixPositionCapture);\n\n            that.el.on('keydown.autocomplete', function (e) { that.onKeyPress(e); });\n            that.el.on('keyup.autocomplete', function (e) { that.onKeyUp(e); });\n            that.el.on('blur.autocomplete', function () { that.onBlur(); });\n            that.el.on('focus.autocomplete', function () { that.onFocus(); });\n            that.el.on('change.autocomplete', function (e) { that.onKeyUp(e); });\n            that.el.on('input.autocomplete', function (e) { that.onKeyUp(e); });\n        },\n\n        onFocus: function () {\n            var that = this;\n\n            that.fixPosition();\n\n            if (that.el.val().length >= that.options.minChars) {\n                that.onValueChange();\n            }\n        },\n\n        onBlur: function () {\n            this.enableKillerFn();\n        },\n        \n        abortAjax: function () {\n            var that = this;\n            if (that.currentRequest) {\n                that.currentRequest.abort();\n                that.currentRequest = null;\n            }\n        },\n\n        setOptions: function (suppliedOptions) {\n            var that = this,\n                options = that.options;\n\n            $.extend(options, suppliedOptions);\n\n            that.isLocal = $.isArray(options.lookup);\n\n            if (that.isLocal) {\n                options.lookup = that.verifySuggestionsFormat(options.lookup);\n            }\n\n            options.orientation = that.validateOrientation(options.orientation, 'bottom');\n\n            // Adjust height, width and z-index:\n            $(that.suggestionsContainer).css({\n                'max-height': options.maxHeight + 'px',\n                'width': options.width + 'px',\n                'z-index': options.zIndex\n            });\n        },\n\n\n        clearCache: function () {\n            this.cachedResponse = {};\n            this.badQueries = [];\n        },\n\n        clear: function () {\n            this.clearCache();\n            this.currentValue = '';\n            this.suggestions = [];\n        },\n\n        disable: function () {\n            var that = this;\n            that.disabled = true;\n            clearInterval(that.onChangeInterval);\n            that.abortAjax();\n        },\n\n        enable: function () {\n            this.disabled = false;\n        },\n\n        fixPosition: function () {\n            // Use only when container has already its content\n\n            var that = this,\n                $container = $(that.suggestionsContainer),\n                containerParent = $container.parent().get(0);\n            // Fix position automatically when appended to body.\n            // In other cases force parameter must be given.\n            if (containerParent !== document.body && !that.options.forceFixPosition) {\n                return;\n            }\n            var siteSearchDiv = $('.site-search');\n            // Choose orientation\n            var orientation = that.options.orientation,\n                containerHeight = $container.outerHeight(),\n                height = siteSearchDiv.outerHeight(),\n                offset = siteSearchDiv.offset(),\n                styles = { 'top': offset.top, 'left': offset.left };\n\n            if (orientation === 'auto') {\n                var viewPortHeight = $(window).height(),\n                    scrollTop = $(window).scrollTop(),\n                    topOverflow = -scrollTop + offset.top - containerHeight,\n                    bottomOverflow = scrollTop + viewPortHeight - (offset.top + height + containerHeight);\n\n                orientation = (Math.max(topOverflow, bottomOverflow) === topOverflow) ? 'top' : 'bottom';\n            }\n\n            if (orientation === 'top') {\n                styles.top += -containerHeight;\n            } else {\n                styles.top += height;\n            }\n\n            // If container is not positioned to body,\n            // correct its position using offset parent offset\n            if(containerParent !== document.body) {\n                var opacity = $container.css('opacity'),\n                    parentOffsetDiff;\n\n                    if (!that.visible){\n                        $container.css('opacity', 0).show();\n                    }\n\n                parentOffsetDiff = $container.offsetParent().offset();\n                styles.top -= parentOffsetDiff.top;\n                styles.left -= parentOffsetDiff.left;\n\n                if (!that.visible){\n                    $container.css('opacity', opacity).hide();\n                }\n            }\n\n            if (that.options.width === 'auto') {\n                styles.width = siteSearchDiv.outerWidth() + 'px';\n            }\n\n            $container.css(styles);\n        },\n\n        enableKillerFn: function () {\n            var that = this;\n            $(document).on('click.autocomplete', that.killerFn);\n        },\n\n        disableKillerFn: function () {\n            var that = this;\n            $(document).off('click.autocomplete', that.killerFn);\n        },\n\n        killSuggestions: function () {\n            var that = this;\n            that.stopKillSuggestions();\n            that.intervalId = window.setInterval(function () {\n                if (that.visible) {\n                    // No need to restore value when \n                    // preserveInput === true, \n                    // because we did not change it\n                    if (!that.options.preserveInput) {\n                        that.el.val(that.currentValue);\n                    }\n\n                    that.hide();\n                }\n                \n                that.stopKillSuggestions();\n            }, 50);\n        },\n\n        stopKillSuggestions: function () {\n            window.clearInterval(this.intervalId);\n        },\n\n        isCursorAtEnd: function () {\n            var that = this,\n                valLength = that.el.val().length,\n                selectionStart = that.element.selectionStart,\n                range;\n\n            if (typeof selectionStart === 'number') {\n                return selectionStart === valLength;\n            }\n            if (document.selection) {\n                range = document.selection.createRange();\n                range.moveStart('character', -valLength);\n                return valLength === range.text.length;\n            }\n            return true;\n        },\n\n        onKeyPress: function (e) {\n            var that = this;\n\n            // If suggestions are hidden and user presses arrow down, display suggestions:\n            if (!that.disabled && !that.visible && e.which === keys.DOWN && that.currentValue) {\n                that.suggest();\n                return;\n            }\n\n            if (that.disabled || !that.visible) {\n                return;\n            }\n\n            switch (e.which) {\n                case keys.ESC:\n                    that.el.val(that.currentValue);\n                    that.hide();\n                    break;\n                case keys.RIGHT:\n                    if (that.hint && that.options.onHint && that.isCursorAtEnd()) {\n                        that.selectHint();\n                        break;\n                    }\n                    return;\n                case keys.TAB:\n                    if (that.hint && that.options.onHint) {\n                        that.selectHint();\n                        return;\n                    }\n                    if (that.selectedIndex === -1) {\n                        that.hide();\n                        return;\n                    }\n                    that.select(that.selectedIndex);\n                    if (that.options.tabDisabled === false) {\n                        return;\n                    }\n                    break;\n                case keys.RETURN:\n                    if (that.selectedIndex === -1) {\n                        that.hide();\n                        return;\n                    }\n                    that.select(that.selectedIndex);\n                    break;\n                case keys.UP:\n                    that.moveUp();\n                    break;\n                case keys.DOWN:\n                    that.moveDown();\n                    break;\n                default:\n                    return;\n            }\n\n            // Cancel event if function did not return:\n            e.stopImmediatePropagation();\n            e.preventDefault();\n        },\n\n        onKeyUp: function (e) {\n            var that = this;\n\n            if (that.disabled) {\n                return;\n            }\n\n            switch (e.which) {\n                case keys.UP:\n                case keys.DOWN:\n                    return;\n            }\n\n            clearInterval(that.onChangeInterval);\n\n            if (that.currentValue !== that.el.val()) {\n                that.findBestHint();\n                if (that.options.deferRequestBy > 0) {\n                    // Defer lookup in case when value changes very quickly:\n                    that.onChangeInterval = setInterval(function () {\n                        that.onValueChange();\n                    }, that.options.deferRequestBy);\n                } else {\n                    that.onValueChange();\n                }\n            }\n        },\n\n        onValueChange: function () {\n            var that = this,\n                options = that.options,\n                value = that.el.val(),\n                query = that.getQuery(value);\n\n            if (that.selection && that.currentValue !== query) {\n                that.selection = null;\n                (options.onInvalidateSelection || $.noop).call(that.element);\n            }\n\n            clearInterval(that.onChangeInterval);\n            that.currentValue = value;\n            that.selectedIndex = -1;\n\n            // Check existing suggestion for the match before proceeding:\n            if (options.triggerSelectOnValidInput && that.isExactMatch(query)) {\n                that.select(0);\n                return;\n            }\n\n            if (query.length < options.minChars) {\n                that.hide();\n            } else {\n                that.getSuggestions(query);\n            }\n        },\n\n        isExactMatch: function (query) {\n            var suggestions = this.suggestions;\n\n            return (suggestions.length === 1 && suggestions[0].value.toLowerCase() === query.toLowerCase());\n        },\n\n        getQuery: function (value) {\n            var delimiter = this.options.delimiter,\n                parts;\n\n            if (!delimiter) {\n                return value;\n            }\n            parts = value.split(delimiter);\n            return $.trim(parts[parts.length - 1]);\n        },\n\n        getSuggestionsLocal: function (query) {\n            var that = this,\n                options = that.options,\n                queryLowerCase = query.toLowerCase(),\n                filter = options.lookupFilter,\n                limit = parseInt(options.lookupLimit, 10),\n                data;\n\n            data = {\n                suggestions: $.grep(options.lookup, function (suggestion) {\n                    return filter(suggestion, query, queryLowerCase);\n                })\n            };\n\n            if (limit && data.suggestions.length > limit) {\n                data.suggestions = data.suggestions.slice(0, limit);\n            }\n\n            return data;\n        },\n\n        getSuggestions: function (q) {\n            var response,\n                that = this,\n                options = that.options,\n                serviceUrl = options.serviceUrl,\n                params,\n                cacheKey,\n                ajaxSettings;\n\n            options.params[options.paramName] = q;\n            params = options.ignoreParams ? null : options.params;\n\n            if (options.onSearchStart.call(that.element, options.params) === false) {\n                return;\n            }\n\n            if ($.isFunction(options.lookup)){\n                options.lookup(q, function (data) {\n                    that.suggestions = data.suggestions;\n                    that.suggest();\n                    options.onSearchComplete.call(that.element, q, data.suggestions);\n                });\n                return;\n            }\n\n            if (that.isLocal) {\n                response = that.getSuggestionsLocal(q);\n            } else {\n                if ($.isFunction(serviceUrl)) {\n                    serviceUrl = serviceUrl.call(that.element, q);\n                }\n                cacheKey = serviceUrl + '?' + $.param(params || {});\n                response = that.cachedResponse[cacheKey];\n            }\n\n            if (response && $.isArray(response.suggestions)) {\n                that.suggestions = response.suggestions;\n                that.suggest();\n                options.onSearchComplete.call(that.element, q, response.suggestions);\n            } else if (!that.isBadQuery(q)) {\n                that.abortAjax();\n\n                ajaxSettings = {\n                    url: serviceUrl,\n                    data: params,\n                    type: options.type,\n                    dataType: options.dataType\n                };\n\n                $.extend(ajaxSettings, options.ajaxSettings);\n\n                that.currentRequest = $.ajax(ajaxSettings).done(function (data) {\n                    var result;\n                    that.currentRequest = null;\n                    result = options.transformResult(data, q);\n                    that.processResponse(result, q, cacheKey);\n                    options.onSearchComplete.call(that.element, q, result.suggestions);\n                }).fail(function (jqXHR, textStatus, errorThrown) {\n                    options.onSearchError.call(that.element, q, jqXHR, textStatus, errorThrown);\n                });\n            } else {\n                options.onSearchComplete.call(that.element, q, []);\n            }\n        },\n\n        isBadQuery: function (q) {\n            if (!this.options.preventBadQueries){\n                return false;\n            }\n\n            var badQueries = this.badQueries,\n                i = badQueries.length;\n\n            while (i--) {\n                if (q.indexOf(badQueries[i]) === 0) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n\n        hide: function () {\n            var that = this,\n                container = $(that.suggestionsContainer);\n\n            if ($.isFunction(that.options.onHide) && that.visible) {\n                that.options.onHide.call(that.element, container);\n            }\n\n            that.visible = false;\n            that.selectedIndex = -1;\n            clearInterval(that.onChangeInterval);\n            $(that.suggestionsContainer).hide();\n            that.signalHint(null);\n        },\n\n        suggest: function () {\n            if (!this.suggestions.length) {\n                if (this.options.showNoSuggestionNotice) {\n                    this.noSuggestions();\n                } else {\n                    this.hide();\n                }\n                return;\n            }\n\n            var that = this,\n                options = that.options,\n                groupBy = options.groupBy,\n                formatResult = options.formatResult,\n                value = that.getQuery(that.currentValue),\n                className = that.classes.suggestion,\n                classSelected = that.classes.selected,\n                container = $(that.suggestionsContainer),\n                noSuggestionsContainer = $(that.noSuggestionsContainer),\n                beforeRender = options.beforeRender,\n                html = '',\n                category,\n                formatGroup = function (suggestion, index) {\n                        var currentCategory = suggestion.data[groupBy];\n\n                        if (category === currentCategory){\n                            return '';\n                        }\n\n                        category = currentCategory;\n\n                        return '<div class=\"autocomplete-group\"><strong>' + category + '</strong></div>';\n                    };\n\n            if (options.triggerSelectOnValidInput && that.isExactMatch(value)) {\n                that.select(0);\n                return;\n            }\n\n            // Build suggestions inner HTML:\n            $.each(that.suggestions, function (i, suggestion) {\n                if (groupBy){\n                    html += formatGroup(suggestion, value, i);\n                }\n\n                html += '<div class=\"' + className + '\" data-index=\"' + i + '\">' + formatResult(suggestion, value, i) + '</div>';\n            });\n\n            this.adjustContainerWidth();\n\n            noSuggestionsContainer.detach();\n            container.html(html);\n\n            if ($.isFunction(beforeRender)) {\n                beforeRender.call(that.element, container, that.suggestions);\n            }\n\n            that.fixPosition();\n            container.show();\n\n            // Select first value by default:\n            if (options.autoSelectFirst) {\n                that.selectedIndex = 0;\n                container.scrollTop(0);\n                container.children('.' + className).first().addClass(classSelected);\n            }\n\n            that.visible = true;\n            that.findBestHint();\n        },\n\n        noSuggestions: function() {\n             var that = this,\n                 container = $(that.suggestionsContainer),\n                 noSuggestionsContainer = $(that.noSuggestionsContainer);\n\n            this.adjustContainerWidth();\n\n            // Some explicit steps. Be careful here as it easy to get\n            // noSuggestionsContainer removed from DOM if not detached properly.\n            noSuggestionsContainer.detach();\n            container.empty(); // clean suggestions if any\n            container.append(noSuggestionsContainer);\n\n            that.fixPosition();\n\n            container.show();\n            that.visible = true;\n        },\n\n        adjustContainerWidth: function() {\n            var that = this,\n                options = that.options,\n                width,\n                container = $(that.suggestionsContainer);\n\n            // If width is auto, adjust width before displaying suggestions,\n            // because if instance was created before input had width, it will be zero.\n            // Also it adjusts if input width has changed.\n            if (options.width === 'auto') {\n                width = that.el.outerWidth();\n                container.css('width', width > 0 ? width : 300);\n            }\n        },\n\n        findBestHint: function () {\n            var that = this,\n                value = that.el.val().toLowerCase(),\n                bestMatch = null;\n\n            if (!value) {\n                return;\n            }\n\n            $.each(that.suggestions, function (i, suggestion) {\n                var foundMatch = suggestion.value.toLowerCase().indexOf(value) === 0;\n                if (foundMatch) {\n                    bestMatch = suggestion;\n                }\n                return !foundMatch;\n            });\n\n            that.signalHint(bestMatch);\n        },\n\n        signalHint: function (suggestion) {\n            var hintValue = '',\n                that = this;\n            if (suggestion) {\n                hintValue = that.currentValue + suggestion.value.substr(that.currentValue.length);\n            }\n            if (that.hintValue !== hintValue) {\n                that.hintValue = hintValue;\n                that.hint = suggestion;\n                (this.options.onHint || $.noop)(hintValue);\n            }\n        },\n\n        verifySuggestionsFormat: function (suggestions) {\n            // If suggestions is string array, convert them to supported format:\n            if (suggestions.length && typeof suggestions[0] === 'string') {\n                return $.map(suggestions, function (value) {\n                    return { value: value, data: null };\n                });\n            }\n\n            return suggestions;\n        },\n\n        validateOrientation: function(orientation, fallback) {\n            orientation = $.trim(orientation || '').toLowerCase();\n\n            if($.inArray(orientation, ['auto', 'bottom', 'top']) === -1){\n                orientation = fallback;\n            }\n\n            return orientation;\n        },\n\n        processResponse: function (result, originalQuery, cacheKey) {\n            var that = this,\n                options = that.options;\n\n            result.suggestions = that.verifySuggestionsFormat(result.suggestions);\n\n            // Cache results if cache is not disabled:\n            if (!options.noCache) {\n                that.cachedResponse[cacheKey] = result;\n                if (options.preventBadQueries && !result.suggestions.length) {\n                    that.badQueries.push(originalQuery);\n                }\n            }\n\n            // Return if originalQuery is not matching current query:\n            if (originalQuery !== that.getQuery(that.currentValue)) {\n                return;\n            }\n\n            that.suggestions = result.suggestions;\n            that.suggest();\n        },\n\n        activate: function (index) {\n            var that = this,\n                activeItem,\n                selected = that.classes.selected,\n                container = $(that.suggestionsContainer),\n                children = container.find('.' + that.classes.suggestion);\n\n            container.find('.' + selected).removeClass(selected);\n\n            that.selectedIndex = index;\n\n            if (that.selectedIndex !== -1 && children.length > that.selectedIndex) {\n                activeItem = children.get(that.selectedIndex);\n                $(activeItem).addClass(selected);\n                return activeItem;\n            }\n\n            return null;\n        },\n\n        selectHint: function () {\n            var that = this,\n                i = $.inArray(that.hint, that.suggestions);\n\n            that.select(i);\n        },\n\n        select: function (i) {\n            var that = this;\n            that.hide();\n            that.onSelect(i);\n            that.disableKillerFn();\n        },\n\n        moveUp: function () {\n            var that = this;\n\n            if (that.selectedIndex === -1) {\n                return;\n            }\n\n            if (that.selectedIndex === 0) {\n                $(that.suggestionsContainer).children().first().removeClass(that.classes.selected);\n                that.selectedIndex = -1;\n                that.el.val(that.currentValue);\n                that.findBestHint();\n                return;\n            }\n\n            that.adjustScroll(that.selectedIndex - 1);\n        },\n\n        moveDown: function () {\n            var that = this;\n\n            if (that.selectedIndex === (that.suggestions.length - 1)) {\n                return;\n            }\n\n            that.adjustScroll(that.selectedIndex + 1);\n        },\n\n        adjustScroll: function (index) {\n            var that = this,\n                activeItem = that.activate(index);\n\n            if (!activeItem) {\n                return;\n            }\n\n            var offsetTop,\n                upperBound,\n                lowerBound,\n                heightDelta = $(activeItem).outerHeight();\n\n            offsetTop = activeItem.offsetTop;\n            upperBound = $(that.suggestionsContainer).scrollTop();\n            lowerBound = upperBound + that.options.maxHeight - heightDelta;\n\n            if (offsetTop < upperBound) {\n                $(that.suggestionsContainer).scrollTop(offsetTop);\n            } else if (offsetTop > lowerBound) {\n                $(that.suggestionsContainer).scrollTop(offsetTop - that.options.maxHeight + heightDelta);\n            }\n\n            if (!that.options.preserveInput) {\n                that.el.val(that.getValue(that.suggestions[index].value));\n            }\n            that.signalHint(null);\n        },\n\n        onSelect: function (index) {\n            var that = this,\n                onSelectCallback = that.options.onSelect,\n                suggestion = that.suggestions[index];\n\n            that.currentValue = that.getValue(suggestion.value);\n\n            if (that.currentValue !== that.el.val() && !that.options.preserveInput) {\n                that.el.val(that.currentValue);\n            }\n\n            that.signalHint(null);\n            that.suggestions = [];\n            that.selection = suggestion;\n\n            if ($.isFunction(onSelectCallback)) {\n                onSelectCallback.call(that.element, suggestion);\n            }\n        },\n\n        getValue: function (value) {\n            var that = this,\n                delimiter = that.options.delimiter,\n                currentValue,\n                parts;\n\n            if (!delimiter) {\n                return value;\n            }\n\n            currentValue = that.currentValue;\n            parts = currentValue.split(delimiter);\n\n            if (parts.length === 1) {\n                return value;\n            }\n\n            return currentValue.substr(0, currentValue.length - parts[parts.length - 1].length) + value;\n        },\n\n        dispose: function () {\n            var that = this;\n            that.el.off('.autocomplete').removeData('autocomplete');\n            that.disableKillerFn();\n            $(window).off('resize.autocomplete', that.fixPositionCapture);\n            $(that.suggestionsContainer).remove();\n        }\n    };\n\n    // Create chainable jQuery plugin:\n    $.fn.autocomplete = $.fn.devbridgeAutocomplete = function (options, args) {\n        var dataKey = 'autocomplete';\n        // If function invoked without argument return\n        // instance of the first matched element:\n        if (!arguments.length) {\n            return this.first().data(dataKey);\n        }\n\n        return this.each(function () {\n            var inputElement = $(this),\n                instance = inputElement.data(dataKey);\n\n            if (typeof options === 'string') {\n                if (instance && typeof instance[options] === 'function') {\n                    instance[options](args);\n                }\n            } else {\n                // If instance already exists, destroy it:\n                if (instance && instance.dispose) {\n                    instance.dispose();\n                }\n                instance = new Autocomplete(this, options);\n                inputElement.data(dataKey, instance);\n            }\n        });\n    };\n}));\n","/*! Magnific Popup - v1.1.0 - 2016-02-20\n* http://dimsemenov.com/plugins/magnific-popup/\n* Copyright (c) 2016 Dmitry Semenov; */\n;(function (factory) { \nif (typeof define === 'function' && define.amd) { \n // AMD. Register as an anonymous module. \n define(['jquery'], factory); \n } else if (typeof exports === 'object') { \n // Node/CommonJS \n factory(require('jquery')); \n } else { \n // Browser globals \n factory(window.jQuery || window.Zepto); \n } \n }(function($) { \n\n/*>>core*/\n/**\n * \n * Magnific Popup Core JS file\n * \n */\n\n\n/**\n * Private static constants\n */\nvar CLOSE_EVENT = 'Close',\n\tBEFORE_CLOSE_EVENT = 'BeforeClose',\n\tAFTER_CLOSE_EVENT = 'AfterClose',\n\tBEFORE_APPEND_EVENT = 'BeforeAppend',\n\tMARKUP_PARSE_EVENT = 'MarkupParse',\n\tOPEN_EVENT = 'Open',\n\tCHANGE_EVENT = 'Change',\n\tNS = 'mfp',\n\tEVENT_NS = '.' + NS,\n\tREADY_CLASS = 'mfp-ready',\n\tREMOVING_CLASS = 'mfp-removing',\n\tPREVENT_CLOSE_CLASS = 'mfp-prevent-close';\n\n\n/**\n * Private vars \n */\n/*jshint -W079 */\nvar mfp, // As we have only one instance of MagnificPopup object, we define it locally to not to use 'this'\n\tMagnificPopup = function(){},\n\t_isJQ = !!(window.jQuery),\n\t_prevStatus,\n\t_window = $(window),\n\t_document,\n\t_prevContentType,\n\t_wrapClasses,\n\t_currPopupType;\n\n\n/**\n * Private functions\n */\nvar _mfpOn = function(name, f) {\n\t\tmfp.ev.on(NS + name + EVENT_NS, f);\n\t},\n\t_getEl = function(className, appendTo, html, raw) {\n\t\tvar el = document.createElement('div');\n\t\tel.className = 'mfp-'+className;\n\t\tif(html) {\n\t\t\tel.innerHTML = html;\n\t\t}\n\t\tif(!raw) {\n\t\t\tel = $(el);\n\t\t\tif(appendTo) {\n\t\t\t\tel.appendTo(appendTo);\n\t\t\t}\n\t\t} else if(appendTo) {\n\t\t\tappendTo.appendChild(el);\n\t\t}\n\t\treturn el;\n\t},\n\t_mfpTrigger = function(e, data) {\n\t\tmfp.ev.triggerHandler(NS + e, data);\n\n\t\tif(mfp.st.callbacks) {\n\t\t\t// converts \"mfpEventName\" to \"eventName\" callback and triggers it if it's present\n\t\t\te = e.charAt(0).toLowerCase() + e.slice(1);\n\t\t\tif(mfp.st.callbacks[e]) {\n\t\t\t\tmfp.st.callbacks[e].apply(mfp, $.isArray(data) ? data : [data]);\n\t\t\t}\n\t\t}\n\t},\n\t_getCloseBtn = function(type) {\n\t\tif(type !== _currPopupType || !mfp.currTemplate.closeBtn) {\n\t\t\tmfp.currTemplate.closeBtn = $( mfp.st.closeMarkup.replace('%title%', mfp.st.tClose ) );\n\t\t\t_currPopupType = type;\n\t\t}\n\t\treturn mfp.currTemplate.closeBtn;\n\t},\n\t// Initialize Magnific Popup only when called at least once\n\t_checkInstance = function() {\n\t\tif(!$.magnificPopup.instance) {\n\t\t\t/*jshint -W020 */\n\t\t\tmfp = new MagnificPopup();\n\t\t\tmfp.init();\n\t\t\t$.magnificPopup.instance = mfp;\n\t\t}\n\t},\n\t// CSS transition detection, http://stackoverflow.com/questions/7264899/detect-css-transitions-using-javascript-and-without-modernizr\n\tsupportsTransitions = function() {\n\t\tvar s = document.createElement('p').style, // 's' for style. better to create an element if body yet to exist\n\t\t\tv = ['ms','O','Moz','Webkit']; // 'v' for vendor\n\n\t\tif( s['transition'] !== undefined ) {\n\t\t\treturn true; \n\t\t}\n\t\t\t\n\t\twhile( v.length ) {\n\t\t\tif( v.pop() + 'Transition' in s ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\t\t\n\t\treturn false;\n\t};\n\n\n\n/**\n * Public functions\n */\nMagnificPopup.prototype = {\n\n\tconstructor: MagnificPopup,\n\n\t/**\n\t * Initializes Magnific Popup plugin. \n\t * This function is triggered only once when $.fn.magnificPopup or $.magnificPopup is executed\n\t */\n\tinit: function() {\n\t\tvar appVersion = navigator.appVersion;\n\t\tmfp.isLowIE = mfp.isIE8 = document.all && !document.addEventListener;\n\t\tmfp.isAndroid = (/android/gi).test(appVersion);\n\t\tmfp.isIOS = (/iphone|ipad|ipod/gi).test(appVersion);\n\t\tmfp.supportsTransition = supportsTransitions();\n\n\t\t// We disable fixed positioned lightbox on devices that don't handle it nicely.\n\t\t// If you know a better way of detecting this - let me know.\n\t\tmfp.probablyMobile = (mfp.isAndroid || mfp.isIOS || /(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent) );\n\t\t_document = $(document);\n\n\t\tmfp.popupsCache = {};\n\t},\n\n\t/**\n\t * Opens popup\n\t * @param  data [description]\n\t */\n\topen: function(data) {\n\n\t\tvar i;\n\n\t\tif(data.isObj === false) { \n\t\t\t// convert jQuery collection to array to avoid conflicts later\n\t\t\tmfp.items = data.items.toArray();\n\n\t\t\tmfp.index = 0;\n\t\t\tvar items = data.items,\n\t\t\t\titem;\n\t\t\tfor(i = 0; i < items.length; i++) {\n\t\t\t\titem = items[i];\n\t\t\t\tif(item.parsed) {\n\t\t\t\t\titem = item.el[0];\n\t\t\t\t}\n\t\t\t\tif(item === data.el[0]) {\n\t\t\t\t\tmfp.index = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tmfp.items = $.isArray(data.items) ? data.items : [data.items];\n\t\t\tmfp.index = data.index || 0;\n\t\t}\n\n\t\t// if popup is already opened - we just update the content\n\t\tif(mfp.isOpen) {\n\t\t\tmfp.updateItemHTML();\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tmfp.types = []; \n\t\t_wrapClasses = '';\n\t\tif(data.mainEl && data.mainEl.length) {\n\t\t\tmfp.ev = data.mainEl.eq(0);\n\t\t} else {\n\t\t\tmfp.ev = _document;\n\t\t}\n\n\t\tif(data.key) {\n\t\t\tif(!mfp.popupsCache[data.key]) {\n\t\t\t\tmfp.popupsCache[data.key] = {};\n\t\t\t}\n\t\t\tmfp.currTemplate = mfp.popupsCache[data.key];\n\t\t} else {\n\t\t\tmfp.currTemplate = {};\n\t\t}\n\n\n\n\t\tmfp.st = $.extend(true, {}, $.magnificPopup.defaults, data ); \n\t\tmfp.fixedContentPos = mfp.st.fixedContentPos === 'auto' ? !mfp.probablyMobile : mfp.st.fixedContentPos;\n\n\t\tif(mfp.st.modal) {\n\t\t\tmfp.st.closeOnContentClick = false;\n\t\t\tmfp.st.closeOnBgClick = false;\n\t\t\tmfp.st.showCloseBtn = false;\n\t\t\tmfp.st.enableEscapeKey = false;\n\t\t}\n\t\t\n\n\t\t// Building markup\n\t\t// main containers are created only once\n\t\tif(!mfp.bgOverlay) {\n\n\t\t\t// Dark overlay\n\t\t\tmfp.bgOverlay = _getEl('bg').on('click'+EVENT_NS, function() {\n\t\t\t\tmfp.close();\n\t\t\t});\n\n\t\t\tmfp.wrap = _getEl('wrap').attr('tabindex', -1).on('click'+EVENT_NS, function(e) {\n\t\t\t\tif(mfp._checkIfClose(e.target)) {\n\t\t\t\t\tmfp.close();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmfp.container = _getEl('container', mfp.wrap);\n\t\t}\n\n\t\tmfp.contentContainer = _getEl('content');\n\t\tif(mfp.st.preloader) {\n\t\t\tmfp.preloader = _getEl('preloader', mfp.container, mfp.st.tLoading);\n\t\t}\n\n\n\t\t// Initializing modules\n\t\tvar modules = $.magnificPopup.modules;\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar n = modules[i];\n\t\t\tn = n.charAt(0).toUpperCase() + n.slice(1);\n\t\t\tmfp['init'+n].call(mfp);\n\t\t}\n\t\t_mfpTrigger('BeforeOpen');\n\n\n\t\tif(mfp.st.showCloseBtn) {\n\t\t\t// Close button\n\t\t\tif(!mfp.st.closeBtnInside) {\n\t\t\t\tmfp.wrap.append( _getCloseBtn() );\n\t\t\t} else {\n\t\t\t\t_mfpOn(MARKUP_PARSE_EVENT, function(e, template, values, item) {\n\t\t\t\t\tvalues.close_replaceWith = _getCloseBtn(item.type);\n\t\t\t\t});\n\t\t\t\t_wrapClasses += ' mfp-close-btn-in';\n\t\t\t}\n\t\t}\n\n\t\tif(mfp.st.alignTop) {\n\t\t\t_wrapClasses += ' mfp-align-top';\n\t\t}\n\n\t\n\n\t\tif(mfp.fixedContentPos) {\n\t\t\tmfp.wrap.css({\n\t\t\t\toverflow: mfp.st.overflowY,\n\t\t\t\toverflowX: 'hidden',\n\t\t\t\toverflowY: mfp.st.overflowY\n\t\t\t});\n\t\t} else {\n\t\t\tmfp.wrap.css({ \n\t\t\t\ttop: _window.scrollTop(),\n\t\t\t\tposition: 'absolute'\n\t\t\t});\n\t\t}\n\t\tif( mfp.st.fixedBgPos === false || (mfp.st.fixedBgPos === 'auto' && !mfp.fixedContentPos) ) {\n\t\t\tmfp.bgOverlay.css({\n\t\t\t\theight: _document.height(),\n\t\t\t\tposition: 'absolute'\n\t\t\t});\n\t\t}\n\n\t\t\n\n\t\tif(mfp.st.enableEscapeKey) {\n\t\t\t// Close on ESC key\n\t\t\t_document.on('keyup' + EVENT_NS, function(e) {\n\t\t\t\tif(e.keyCode === 27) {\n\t\t\t\t\tmfp.close();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t_window.on('resize' + EVENT_NS, function() {\n\t\t\tmfp.updateSize();\n\t\t});\n\n\n\t\tif(!mfp.st.closeOnContentClick) {\n\t\t\t_wrapClasses += ' mfp-auto-cursor';\n\t\t}\n\t\t\n\t\tif(_wrapClasses)\n\t\t\tmfp.wrap.addClass(_wrapClasses);\n\n\n\t\t// this triggers recalculation of layout, so we get it once to not to trigger twice\n\t\tvar windowHeight = mfp.wH = _window.height();\n\n\t\t\n\t\tvar windowStyles = {};\n\n\t\tif( mfp.fixedContentPos ) {\n            if(mfp._hasScrollBar(windowHeight)){\n                var s = mfp._getScrollbarSize();\n                if(s) {\n                    windowStyles.marginRight = s;\n                }\n            }\n        }\n\n\t\tif(mfp.fixedContentPos) {\n\t\t\tif(!mfp.isIE7) {\n\t\t\t\twindowStyles.overflow = 'hidden';\n\t\t\t} else {\n\t\t\t\t// ie7 double-scroll bug\n\t\t\t\t$('body, html').css('overflow', 'hidden');\n\t\t\t}\n\t\t}\n\n\t\t\n\t\t\n\t\tvar classesToadd = mfp.st.mainClass;\n\t\tif(mfp.isIE7) {\n\t\t\tclassesToadd += ' mfp-ie7';\n\t\t}\n\t\tif(classesToadd) {\n\t\t\tmfp._addClassToMFP( classesToadd );\n\t\t}\n\n\t\t// add content\n\t\tmfp.updateItemHTML();\n\n\t\t_mfpTrigger('BuildControls');\n\n\t\t// remove scrollbar, add margin e.t.c\n\t\t$('html').css(windowStyles);\n\t\t\n\t\t// add everything to DOM\n\t\tmfp.bgOverlay.add(mfp.wrap).prependTo( mfp.st.prependTo || $(document.body) );\n\n\t\t// Save last focused element\n\t\tmfp._lastFocusedEl = document.activeElement;\n\t\t\n\t\t// Wait for next cycle to allow CSS transition\n\t\tsetTimeout(function() {\n\t\t\t\n\t\t\tif(mfp.content) {\n\t\t\t\tmfp._addClassToMFP(READY_CLASS);\n\t\t\t\tmfp._setFocus();\n\t\t\t} else {\n\t\t\t\t// if content is not defined (not loaded e.t.c) we add class only for BG\n\t\t\t\tmfp.bgOverlay.addClass(READY_CLASS);\n\t\t\t}\n\t\t\t\n\t\t\t// Trap the focus in popup\n\t\t\t_document.on('focusin' + EVENT_NS, mfp._onFocusIn);\n\n\t\t}, 16);\n\n\t\tmfp.isOpen = true;\n\t\tmfp.updateSize(windowHeight);\n\t\t_mfpTrigger(OPEN_EVENT);\n\n\t\treturn data;\n\t},\n\n\t/**\n\t * Closes the popup\n\t */\n\tclose: function() {\n\t\tif(!mfp.isOpen) return;\n\t\t_mfpTrigger(BEFORE_CLOSE_EVENT);\n\n\t\tmfp.isOpen = false;\n\t\t// for CSS3 animation\n\t\tif(mfp.st.removalDelay && !mfp.isLowIE && mfp.supportsTransition )  {\n\t\t\tmfp._addClassToMFP(REMOVING_CLASS);\n\t\t\tsetTimeout(function() {\n\t\t\t\tmfp._close();\n\t\t\t}, mfp.st.removalDelay);\n\t\t} else {\n\t\t\tmfp._close();\n\t\t}\n\t},\n\n\t/**\n\t * Helper for close() function\n\t */\n\t_close: function() {\n\t\t_mfpTrigger(CLOSE_EVENT);\n\n\t\tvar classesToRemove = REMOVING_CLASS + ' ' + READY_CLASS + ' ';\n\n\t\tmfp.bgOverlay.detach();\n\t\tmfp.wrap.detach();\n\t\tmfp.container.empty();\n\n\t\tif(mfp.st.mainClass) {\n\t\t\tclassesToRemove += mfp.st.mainClass + ' ';\n\t\t}\n\n\t\tmfp._removeClassFromMFP(classesToRemove);\n\n\t\tif(mfp.fixedContentPos) {\n\t\t\tvar windowStyles = {marginRight: ''};\n\t\t\tif(mfp.isIE7) {\n\t\t\t\t$('body, html').css('overflow', '');\n\t\t\t} else {\n\t\t\t\twindowStyles.overflow = '';\n\t\t\t}\n\t\t\t$('html').css(windowStyles);\n\t\t}\n\t\t\n\t\t_document.off('keyup' + EVENT_NS + ' focusin' + EVENT_NS);\n\t\tmfp.ev.off(EVENT_NS);\n\n\t\t// clean up DOM elements that aren't removed\n\t\tmfp.wrap.attr('class', 'mfp-wrap').removeAttr('style');\n\t\tmfp.bgOverlay.attr('class', 'mfp-bg');\n\t\tmfp.container.attr('class', 'mfp-container');\n\n\t\t// remove close button from target element\n\t\tif(mfp.st.showCloseBtn &&\n\t\t(!mfp.st.closeBtnInside || mfp.currTemplate[mfp.currItem.type] === true)) {\n\t\t\tif(mfp.currTemplate.closeBtn)\n\t\t\t\tmfp.currTemplate.closeBtn.detach();\n\t\t}\n\n\n\t\tif(mfp.st.autoFocusLast && mfp._lastFocusedEl) {\n\t\t\t$(mfp._lastFocusedEl).focus(); // put tab focus back\n\t\t}\n\t\tmfp.currItem = null;\t\n\t\tmfp.content = null;\n\t\tmfp.currTemplate = null;\n\t\tmfp.prevHeight = 0;\n\n\t\t_mfpTrigger(AFTER_CLOSE_EVENT);\n\t},\n\t\n\tupdateSize: function(winHeight) {\n\n\t\tif(mfp.isIOS) {\n\t\t\t// fixes iOS nav bars https://github.com/dimsemenov/Magnific-Popup/issues/2\n\t\t\tvar zoomLevel = document.documentElement.clientWidth / window.innerWidth;\n\t\t\tvar height = window.innerHeight * zoomLevel;\n\t\t\tmfp.wrap.css('height', height);\n\t\t\tmfp.wH = height;\n\t\t} else {\n\t\t\tmfp.wH = winHeight || _window.height();\n\t\t}\n\t\t// Fixes #84: popup incorrectly positioned with position:relative on body\n\t\tif(!mfp.fixedContentPos) {\n\t\t\tmfp.wrap.css('height', mfp.wH);\n\t\t}\n\n\t\t_mfpTrigger('Resize');\n\n\t},\n\n\t/**\n\t * Set content of popup based on current index\n\t */\n\tupdateItemHTML: function() {\n\t\tvar item = mfp.items[mfp.index];\n\n\t\t// Detach and perform modifications\n\t\tmfp.contentContainer.detach();\n\n\t\tif(mfp.content)\n\t\t\tmfp.content.detach();\n\n\t\tif(!item.parsed) {\n\t\t\titem = mfp.parseEl( mfp.index );\n\t\t}\n\n\t\tvar type = item.type;\n\n\t\t_mfpTrigger('BeforeChange', [mfp.currItem ? mfp.currItem.type : '', type]);\n\t\t// BeforeChange event works like so:\n\t\t// _mfpOn('BeforeChange', function(e, prevType, newType) { });\n\n\t\tmfp.currItem = item;\n\n\t\tif(!mfp.currTemplate[type]) {\n\t\t\tvar markup = mfp.st[type] ? mfp.st[type].markup : false;\n\n\t\t\t// allows to modify markup\n\t\t\t_mfpTrigger('FirstMarkupParse', markup);\n\n\t\t\tif(markup) {\n\t\t\t\tmfp.currTemplate[type] = $(markup);\n\t\t\t} else {\n\t\t\t\t// if there is no markup found we just define that template is parsed\n\t\t\t\tmfp.currTemplate[type] = true;\n\t\t\t}\n\t\t}\n\n\t\tif(_prevContentType && _prevContentType !== item.type) {\n\t\t\tmfp.container.removeClass('mfp-'+_prevContentType+'-holder');\n\t\t}\n\n\t\tvar newContent = mfp['get' + type.charAt(0).toUpperCase() + type.slice(1)](item, mfp.currTemplate[type]);\n\t\tmfp.appendContent(newContent, type);\n\n\t\titem.preloaded = true;\n\n\t\t_mfpTrigger(CHANGE_EVENT, item);\n\t\t_prevContentType = item.type;\n\n\t\t// Append container back after its content changed\n\t\tmfp.container.prepend(mfp.contentContainer);\n\n\t\t_mfpTrigger('AfterChange');\n\t},\n\n\n\t/**\n\t * Set HTML content of popup\n\t */\n\tappendContent: function(newContent, type) {\n\t\tmfp.content = newContent;\n\n\t\tif(newContent) {\n\t\t\tif(mfp.st.showCloseBtn && mfp.st.closeBtnInside &&\n\t\t\t\tmfp.currTemplate[type] === true) {\n\t\t\t\t// if there is no markup, we just append close button element inside\n\t\t\t\tif(!mfp.content.find('.mfp-close').length) {\n\t\t\t\t\tmfp.content.append(_getCloseBtn());\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmfp.content = newContent;\n\t\t\t}\n\t\t} else {\n\t\t\tmfp.content = '';\n\t\t}\n\n\t\t_mfpTrigger(BEFORE_APPEND_EVENT);\n\t\tmfp.container.addClass('mfp-'+type+'-holder');\n\n\t\tmfp.contentContainer.append(mfp.content);\n\t},\n\n\n\t/**\n\t * Creates Magnific Popup data object based on given data\n\t * @param  {int} index Index of item to parse\n\t */\n\tparseEl: function(index) {\n\t\tvar item = mfp.items[index],\n\t\t\ttype;\n\n\t\tif(item.tagName) {\n\t\t\titem = { el: $(item) };\n\t\t} else {\n\t\t\ttype = item.type;\n\t\t\titem = { data: item, src: item.src };\n\t\t}\n\n\t\tif(item.el) {\n\t\t\tvar types = mfp.types;\n\n\t\t\t// check for 'mfp-TYPE' class\n\t\t\tfor(var i = 0; i < types.length; i++) {\n\t\t\t\tif( item.el.hasClass('mfp-'+types[i]) ) {\n\t\t\t\t\ttype = types[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\titem.src = item.el.attr('data-mfp-src');\n\t\t\tif(!item.src) {\n\t\t\t\titem.src = item.el.attr('href');\n\t\t\t}\n\t\t}\n\n\t\titem.type = type || mfp.st.type || 'inline';\n\t\titem.index = index;\n\t\titem.parsed = true;\n\t\tmfp.items[index] = item;\n\t\t_mfpTrigger('ElementParse', item);\n\n\t\treturn mfp.items[index];\n\t},\n\n\n\t/**\n\t * Initializes single popup or a group of popups\n\t */\n\taddGroup: function(el, options) {\n\t\tvar eHandler = function(e) {\n\t\t\te.mfpEl = this;\n\t\t\tmfp._openClick(e, el, options);\n\t\t};\n\n\t\tif(!options) {\n\t\t\toptions = {};\n\t\t}\n\n\t\tvar eName = 'click.magnificPopup';\n\t\toptions.mainEl = el;\n\n\t\tif(options.items) {\n\t\t\toptions.isObj = true;\n\t\t\tel.off(eName).on(eName, eHandler);\n\t\t} else {\n\t\t\toptions.isObj = false;\n\t\t\tif(options.delegate) {\n\t\t\t\tel.off(eName).on(eName, options.delegate , eHandler);\n\t\t\t} else {\n\t\t\t\toptions.items = el;\n\t\t\t\tel.off(eName).on(eName, eHandler);\n\t\t\t}\n\t\t}\n\t},\n\t_openClick: function(e, el, options) {\n\t\tvar midClick = options.midClick !== undefined ? options.midClick : $.magnificPopup.defaults.midClick;\n\n\n\t\tif(!midClick && ( e.which === 2 || e.ctrlKey || e.metaKey || e.altKey || e.shiftKey ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar disableOn = options.disableOn !== undefined ? options.disableOn : $.magnificPopup.defaults.disableOn;\n\n\t\tif(disableOn) {\n\t\t\tif($.isFunction(disableOn)) {\n\t\t\t\tif( !disableOn.call(mfp) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} else { // else it's number\n\t\t\t\tif( _window.width() < disableOn ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif(e.type) {\n\t\t\te.preventDefault();\n\n\t\t\t// This will prevent popup from closing if element is inside and popup is already opened\n\t\t\tif(mfp.isOpen) {\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t}\n\n\t\toptions.el = $(e.mfpEl);\n\t\tif(options.delegate) {\n\t\t\toptions.items = el.find(options.delegate);\n\t\t}\n\t\tmfp.open(options);\n\t},\n\n\n\t/**\n\t * Updates text on preloader\n\t */\n\tupdateStatus: function(status, text) {\n\n\t\tif(mfp.preloader) {\n\t\t\tif(_prevStatus !== status) {\n\t\t\t\tmfp.container.removeClass('mfp-s-'+_prevStatus);\n\t\t\t}\n\n\t\t\tif(!text && status === 'loading') {\n\t\t\t\ttext = mfp.st.tLoading;\n\t\t\t}\n\n\t\t\tvar data = {\n\t\t\t\tstatus: status,\n\t\t\t\ttext: text\n\t\t\t};\n\t\t\t// allows to modify status\n\t\t\t_mfpTrigger('UpdateStatus', data);\n\n\t\t\tstatus = data.status;\n\t\t\ttext = data.text;\n\n\t\t\tmfp.preloader.html(text);\n\n\t\t\tmfp.preloader.find('a').on('click', function(e) {\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t});\n\n\t\t\tmfp.container.addClass('mfp-s-'+status);\n\t\t\t_prevStatus = status;\n\t\t}\n\t},\n\n\n\t/*\n\t\t\"Private\" helpers that aren't private at all\n\t */\n\t// Check to close popup or not\n\t// \"target\" is an element that was clicked\n\t_checkIfClose: function(target) {\n\n\t\tif($(target).hasClass(PREVENT_CLOSE_CLASS)) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar closeOnContent = mfp.st.closeOnContentClick;\n\t\tvar closeOnBg = mfp.st.closeOnBgClick;\n\n\t\tif(closeOnContent && closeOnBg) {\n\t\t\treturn true;\n\t\t} else {\n\n\t\t\t// We close the popup if click is on close button or on preloader. Or if there is no content.\n\t\t\tif(!mfp.content || $(target).hasClass('mfp-close') || (mfp.preloader && target === mfp.preloader[0]) ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// if click is outside the content\n\t\t\tif(  (target !== mfp.content[0] && !$.contains(mfp.content[0], target))  ) {\n\t\t\t\tif(closeOnBg) {\n\t\t\t\t\t// last check, if the clicked element is in DOM, (in case it's removed onclick)\n\t\t\t\t\tif( $.contains(document, target) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if(closeOnContent) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t}\n\t\treturn false;\n\t},\n\t_addClassToMFP: function(cName) {\n\t\tmfp.bgOverlay.addClass(cName);\n\t\tmfp.wrap.addClass(cName);\n\t},\n\t_removeClassFromMFP: function(cName) {\n\t\tthis.bgOverlay.removeClass(cName);\n\t\tmfp.wrap.removeClass(cName);\n\t},\n\t_hasScrollBar: function(winHeight) {\n\t\treturn (  (mfp.isIE7 ? _document.height() : document.body.scrollHeight) > (winHeight || _window.height()) );\n\t},\n\t_setFocus: function() {\n\t\t(mfp.st.focus ? mfp.content.find(mfp.st.focus).eq(0) : mfp.wrap).focus();\n\t},\n\t_onFocusIn: function(e) {\n\t\tif( e.target !== mfp.wrap[0] && !$.contains(mfp.wrap[0], e.target) ) {\n\t\t\tmfp._setFocus();\n\t\t\treturn false;\n\t\t}\n\t},\n\t_parseMarkup: function(template, values, item) {\n\t\tvar arr;\n\t\tif(item.data) {\n\t\t\tvalues = $.extend(item.data, values);\n\t\t}\n\t\t_mfpTrigger(MARKUP_PARSE_EVENT, [template, values, item] );\n\n\t\t$.each(values, function(key, value) {\n\t\t\tif(value === undefined || value === false) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tarr = key.split('_');\n\t\t\tif(arr.length > 1) {\n\t\t\t\tvar el = template.find(EVENT_NS + '-'+arr[0]);\n\n\t\t\t\tif(el.length > 0) {\n\t\t\t\t\tvar attr = arr[1];\n\t\t\t\t\tif(attr === 'replaceWith') {\n\t\t\t\t\t\tif(el[0] !== value[0]) {\n\t\t\t\t\t\t\tel.replaceWith(value);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if(attr === 'img') {\n\t\t\t\t\t\tif(el.is('img')) {\n\t\t\t\t\t\t\tel.attr('src', value);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tel.replaceWith( $('<img>').attr('src', value).attr('class', el.attr('class')) );\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tel.attr(arr[1], value);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\ttemplate.find(EVENT_NS + '-'+key).html(value);\n\t\t\t}\n\t\t});\n\t},\n\n\t_getScrollbarSize: function() {\n\t\t// thx David\n\t\tif(mfp.scrollbarSize === undefined) {\n\t\t\tvar scrollDiv = document.createElement(\"div\");\n\t\t\tscrollDiv.style.cssText = 'width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;';\n\t\t\tdocument.body.appendChild(scrollDiv);\n\t\t\tmfp.scrollbarSize = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n\t\t\tdocument.body.removeChild(scrollDiv);\n\t\t}\n\t\treturn mfp.scrollbarSize;\n\t}\n\n}; /* MagnificPopup core prototype end */\n\n\n\n\n/**\n * Public static functions\n */\n$.magnificPopup = {\n\tinstance: null,\n\tproto: MagnificPopup.prototype,\n\tmodules: [],\n\n\topen: function(options, index) {\n\t\t_checkInstance();\n\n\t\tif(!options) {\n\t\t\toptions = {};\n\t\t} else {\n\t\t\toptions = $.extend(true, {}, options);\n\t\t}\n\n\t\toptions.isObj = true;\n\t\toptions.index = index || 0;\n\t\treturn this.instance.open(options);\n\t},\n\n\tclose: function() {\n\t\treturn $.magnificPopup.instance && $.magnificPopup.instance.close();\n\t},\n\n\tregisterModule: function(name, module) {\n\t\tif(module.options) {\n\t\t\t$.magnificPopup.defaults[name] = module.options;\n\t\t}\n\t\t$.extend(this.proto, module.proto);\n\t\tthis.modules.push(name);\n\t},\n\n\tdefaults: {\n\n\t\t// Info about options is in docs:\n\t\t// http://dimsemenov.com/plugins/magnific-popup/documentation.html#options\n\n\t\tdisableOn: 0,\n\n\t\tkey: null,\n\n\t\tmidClick: false,\n\n\t\tmainClass: '',\n\n\t\tpreloader: true,\n\n\t\tfocus: '', // CSS selector of input to focus after popup is opened\n\n\t\tcloseOnContentClick: false,\n\n\t\tcloseOnBgClick: true,\n\n\t\tcloseBtnInside: true,\n\n\t\tshowCloseBtn: true,\n\n\t\tenableEscapeKey: true,\n\n\t\tmodal: false,\n\n\t\talignTop: false,\n\n\t\tremovalDelay: 0,\n\n\t\tprependTo: null,\n\n\t\tfixedContentPos: 'auto',\n\n\t\tfixedBgPos: 'auto',\n\n\t\toverflowY: 'auto',\n\n\t\tcloseMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-close\">&#215;</button>',\n\n\t\ttClose: 'Close (Esc)',\n\n\t\ttLoading: 'Loading...',\n\n\t\tautoFocusLast: true\n\n\t}\n};\n\n\n\n$.fn.magnificPopup = function(options) {\n\t_checkInstance();\n\n\tvar jqEl = $(this);\n\n\t// We call some API method of first param is a string\n\tif (typeof options === \"string\" ) {\n\n\t\tif(options === 'open') {\n\t\t\tvar items,\n\t\t\t\titemOpts = _isJQ ? jqEl.data('magnificPopup') : jqEl[0].magnificPopup,\n\t\t\t\tindex = parseInt(arguments[1], 10) || 0;\n\n\t\t\tif(itemOpts.items) {\n\t\t\t\titems = itemOpts.items[index];\n\t\t\t} else {\n\t\t\t\titems = jqEl;\n\t\t\t\tif(itemOpts.delegate) {\n\t\t\t\t\titems = items.find(itemOpts.delegate);\n\t\t\t\t}\n\t\t\t\titems = items.eq( index );\n\t\t\t}\n\t\t\tmfp._openClick({mfpEl:items}, jqEl, itemOpts);\n\t\t} else {\n\t\t\tif(mfp.isOpen)\n\t\t\t\tmfp[options].apply(mfp, Array.prototype.slice.call(arguments, 1));\n\t\t}\n\n\t} else {\n\t\t// clone options obj\n\t\toptions = $.extend(true, {}, options);\n\n\t\t/*\n\t\t * As Zepto doesn't support .data() method for objects\n\t\t * and it works only in normal browsers\n\t\t * we assign \"options\" object directly to the DOM element. FTW!\n\t\t */\n\t\tif(_isJQ) {\n\t\t\tjqEl.data('magnificPopup', options);\n\t\t} else {\n\t\t\tjqEl[0].magnificPopup = options;\n\t\t}\n\n\t\tmfp.addGroup(jqEl, options);\n\n\t}\n\treturn jqEl;\n};\n\n/*>>core*/\n\n/*>>inline*/\n\nvar INLINE_NS = 'inline',\n\t_hiddenClass,\n\t_inlinePlaceholder,\n\t_lastInlineElement,\n\t_putInlineElementsBack = function() {\n\t\tif(_lastInlineElement) {\n\t\t\t_inlinePlaceholder.after( _lastInlineElement.addClass(_hiddenClass) ).detach();\n\t\t\t_lastInlineElement = null;\n\t\t}\n\t};\n\n$.magnificPopup.registerModule(INLINE_NS, {\n\toptions: {\n\t\thiddenClass: 'hide', // will be appended with `mfp-` prefix\n\t\tmarkup: '',\n\t\ttNotFound: 'Content not found'\n\t},\n\tproto: {\n\n\t\tinitInline: function() {\n\t\t\tmfp.types.push(INLINE_NS);\n\n\t\t\t_mfpOn(CLOSE_EVENT+'.'+INLINE_NS, function() {\n\t\t\t\t_putInlineElementsBack();\n\t\t\t});\n\t\t},\n\n\t\tgetInline: function(item, template) {\n\n\t\t\t_putInlineElementsBack();\n\n\t\t\tif(item.src) {\n\t\t\t\tvar inlineSt = mfp.st.inline,\n\t\t\t\t\tel = $(item.src);\n\n\t\t\t\tif(el.length) {\n\n\t\t\t\t\t// If target element has parent - we replace it with placeholder and put it back after popup is closed\n\t\t\t\t\tvar parent = el[0].parentNode;\n\t\t\t\t\tif(parent && parent.tagName) {\n\t\t\t\t\t\tif(!_inlinePlaceholder) {\n\t\t\t\t\t\t\t_hiddenClass = inlineSt.hiddenClass;\n\t\t\t\t\t\t\t_inlinePlaceholder = _getEl(_hiddenClass);\n\t\t\t\t\t\t\t_hiddenClass = 'mfp-'+_hiddenClass;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// replace target inline element with placeholder\n\t\t\t\t\t\t_lastInlineElement = el.after(_inlinePlaceholder).detach().removeClass(_hiddenClass);\n\t\t\t\t\t}\n\n\t\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\t} else {\n\t\t\t\t\tmfp.updateStatus('error', inlineSt.tNotFound);\n\t\t\t\t\tel = $('<div>');\n\t\t\t\t}\n\n\t\t\t\titem.inlineElement = el;\n\t\t\t\treturn el;\n\t\t\t}\n\n\t\t\tmfp.updateStatus('ready');\n\t\t\tmfp._parseMarkup(template, {}, item);\n\t\t\treturn template;\n\t\t}\n\t}\n});\n\n/*>>inline*/\n\n/*>>ajax*/\nvar AJAX_NS = 'ajax',\n\t_ajaxCur,\n\t_removeAjaxCursor = function() {\n\t\tif(_ajaxCur) {\n\t\t\t$(document.body).removeClass(_ajaxCur);\n\t\t}\n\t},\n\t_destroyAjaxRequest = function() {\n\t\t_removeAjaxCursor();\n\t\tif(mfp.req) {\n\t\t\tmfp.req.abort();\n\t\t}\n\t};\n\n$.magnificPopup.registerModule(AJAX_NS, {\n\n\toptions: {\n\t\tsettings: null,\n\t\tcursor: 'mfp-ajax-cur',\n\t\ttError: '<a href=\"%url%\">The content</a> could not be loaded.'\n\t},\n\n\tproto: {\n\t\tinitAjax: function() {\n\t\t\tmfp.types.push(AJAX_NS);\n\t\t\t_ajaxCur = mfp.st.ajax.cursor;\n\n\t\t\t_mfpOn(CLOSE_EVENT+'.'+AJAX_NS, _destroyAjaxRequest);\n\t\t\t_mfpOn('BeforeChange.' + AJAX_NS, _destroyAjaxRequest);\n\t\t},\n\t\tgetAjax: function(item) {\n\n\t\t\tif(_ajaxCur) {\n\t\t\t\t$(document.body).addClass(_ajaxCur);\n\t\t\t}\n\n\t\t\tmfp.updateStatus('loading');\n\n\t\t\tvar opts = $.extend({\n\t\t\t\turl: item.src,\n\t\t\t\tsuccess: function(data, textStatus, jqXHR) {\n\t\t\t\t\tvar temp = {\n\t\t\t\t\t\tdata:data,\n\t\t\t\t\t\txhr:jqXHR\n\t\t\t\t\t};\n\n\t\t\t\t\t_mfpTrigger('ParseAjax', temp);\n\n\t\t\t\t\tmfp.appendContent( $(temp.data), AJAX_NS );\n\n\t\t\t\t\titem.finished = true;\n\n\t\t\t\t\t_removeAjaxCursor();\n\n\t\t\t\t\tmfp._setFocus();\n\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tmfp.wrap.addClass(READY_CLASS);\n\t\t\t\t\t}, 16);\n\n\t\t\t\t\tmfp.updateStatus('ready');\n\n\t\t\t\t\t_mfpTrigger('AjaxContentAdded');\n\t\t\t\t},\n\t\t\t\terror: function() {\n\t\t\t\t\t_removeAjaxCursor();\n\t\t\t\t\titem.finished = item.loadError = true;\n\t\t\t\t\tmfp.updateStatus('error', mfp.st.ajax.tError.replace('%url%', item.src));\n\t\t\t\t}\n\t\t\t}, mfp.st.ajax.settings);\n\n\t\t\tmfp.req = $.ajax(opts);\n\n\t\t\treturn '';\n\t\t}\n\t}\n});\n\n/*>>ajax*/\n\n/*>>image*/\nvar _imgInterval,\n\t_getTitle = function(item) {\n\t\tif(item.data && item.data.title !== undefined)\n\t\t\treturn item.data.title;\n\n\t\tvar src = mfp.st.image.titleSrc;\n\n\t\tif(src) {\n\t\t\tif($.isFunction(src)) {\n\t\t\t\treturn src.call(mfp, item);\n\t\t\t} else if(item.el) {\n\t\t\t\treturn item.el.attr(src) || '';\n\t\t\t}\n\t\t}\n\t\treturn '';\n\t};\n\n$.magnificPopup.registerModule('image', {\n\n\toptions: {\n\t\tmarkup: '<div class=\"mfp-figure\">'+\n\t\t\t\t\t'<div class=\"mfp-close\"></div>'+\n\t\t\t\t\t'<figure>'+\n\t\t\t\t\t\t'<div class=\"mfp-img\"></div>'+\n\t\t\t\t\t\t'<figcaption>'+\n\t\t\t\t\t\t\t'<div class=\"mfp-bottom-bar\">'+\n\t\t\t\t\t\t\t\t'<div class=\"mfp-title\"></div>'+\n\t\t\t\t\t\t\t\t'<div class=\"mfp-counter\"></div>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t'</figcaption>'+\n\t\t\t\t\t'</figure>'+\n\t\t\t\t'</div>',\n\t\tcursor: 'mfp-zoom-out-cur',\n\t\ttitleSrc: 'title',\n\t\tverticalFit: true,\n\t\ttError: '<a href=\"%url%\">The image</a> could not be loaded.'\n\t},\n\n\tproto: {\n\t\tinitImage: function() {\n\t\t\tvar imgSt = mfp.st.image,\n\t\t\t\tns = '.image';\n\n\t\t\tmfp.types.push('image');\n\n\t\t\t_mfpOn(OPEN_EVENT+ns, function() {\n\t\t\t\tif(mfp.currItem.type === 'image' && imgSt.cursor) {\n\t\t\t\t\t$(document.body).addClass(imgSt.cursor);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_mfpOn(CLOSE_EVENT+ns, function() {\n\t\t\t\tif(imgSt.cursor) {\n\t\t\t\t\t$(document.body).removeClass(imgSt.cursor);\n\t\t\t\t}\n\t\t\t\t_window.off('resize' + EVENT_NS);\n\t\t\t});\n\n\t\t\t_mfpOn('Resize'+ns, mfp.resizeImage);\n\t\t\tif(mfp.isLowIE) {\n\t\t\t\t_mfpOn('AfterChange', mfp.resizeImage);\n\t\t\t}\n\t\t},\n\t\tresizeImage: function() {\n\t\t\tvar item = mfp.currItem;\n\t\t\tif(!item || !item.img) return;\n\n\t\t\tif(mfp.st.image.verticalFit) {\n\t\t\t\tvar decr = 0;\n\t\t\t\t// fix box-sizing in ie7/8\n\t\t\t\tif(mfp.isLowIE) {\n\t\t\t\t\tdecr = parseInt(item.img.css('padding-top'), 10) + parseInt(item.img.css('padding-bottom'),10);\n\t\t\t\t}\n\t\t\t\titem.img.css('max-height', mfp.wH-decr);\n\t\t\t}\n\t\t},\n\t\t_onImageHasSize: function(item) {\n\t\t\tif(item.img) {\n\n\t\t\t\titem.hasSize = true;\n\n\t\t\t\tif(_imgInterval) {\n\t\t\t\t\tclearInterval(_imgInterval);\n\t\t\t\t}\n\n\t\t\t\titem.isCheckingImgSize = false;\n\n\t\t\t\t_mfpTrigger('ImageHasSize', item);\n\n\t\t\t\tif(item.imgHidden) {\n\t\t\t\t\tif(mfp.content)\n\t\t\t\t\t\tmfp.content.removeClass('mfp-loading');\n\n\t\t\t\t\titem.imgHidden = false;\n\t\t\t\t}\n\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Function that loops until the image has size to display elements that rely on it asap\n\t\t */\n\t\tfindImageSize: function(item) {\n\n\t\t\tvar counter = 0,\n\t\t\t\timg = item.img[0],\n\t\t\t\tmfpSetInterval = function(delay) {\n\n\t\t\t\t\tif(_imgInterval) {\n\t\t\t\t\t\tclearInterval(_imgInterval);\n\t\t\t\t\t}\n\t\t\t\t\t// decelerating interval that checks for size of an image\n\t\t\t\t\t_imgInterval = setInterval(function() {\n\t\t\t\t\t\tif(img.naturalWidth > 0) {\n\t\t\t\t\t\t\tmfp._onImageHasSize(item);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(counter > 200) {\n\t\t\t\t\t\t\tclearInterval(_imgInterval);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcounter++;\n\t\t\t\t\t\tif(counter === 3) {\n\t\t\t\t\t\t\tmfpSetInterval(10);\n\t\t\t\t\t\t} else if(counter === 40) {\n\t\t\t\t\t\t\tmfpSetInterval(50);\n\t\t\t\t\t\t} else if(counter === 100) {\n\t\t\t\t\t\t\tmfpSetInterval(500);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, delay);\n\t\t\t\t};\n\n\t\t\tmfpSetInterval(1);\n\t\t},\n\n\t\tgetImage: function(item, template) {\n\n\t\t\tvar guard = 0,\n\n\t\t\t\t// image load complete handler\n\t\t\t\tonLoadComplete = function() {\n\t\t\t\t\tif(item) {\n\t\t\t\t\t\tif (item.img[0].complete) {\n\t\t\t\t\t\t\titem.img.off('.mfploader');\n\n\t\t\t\t\t\t\tif(item === mfp.currItem){\n\t\t\t\t\t\t\t\tmfp._onImageHasSize(item);\n\n\t\t\t\t\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\t\t\titem.loaded = true;\n\n\t\t\t\t\t\t\t_mfpTrigger('ImageLoadComplete');\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t// if image complete check fails 200 times (20 sec), we assume that there was an error.\n\t\t\t\t\t\t\tguard++;\n\t\t\t\t\t\t\tif(guard < 200) {\n\t\t\t\t\t\t\t\tsetTimeout(onLoadComplete,100);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tonLoadError();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t// image error handler\n\t\t\t\tonLoadError = function() {\n\t\t\t\t\tif(item) {\n\t\t\t\t\t\titem.img.off('.mfploader');\n\t\t\t\t\t\tif(item === mfp.currItem){\n\t\t\t\t\t\t\tmfp._onImageHasSize(item);\n\t\t\t\t\t\t\tmfp.updateStatus('error', imgSt.tError.replace('%url%', item.src) );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\t\titem.loaded = true;\n\t\t\t\t\t\titem.loadError = true;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\timgSt = mfp.st.image;\n\n\n\t\t\tvar el = template.find('.mfp-img');\n\t\t\tif(el.length) {\n\t\t\t\tvar img = document.createElement('img');\n\t\t\t\timg.className = 'mfp-img';\n\t\t\t\tif(item.el && item.el.find('img').length) {\n\t\t\t\t\timg.alt = item.el.find('img').attr('alt');\n\t\t\t\t}\n\t\t\t\titem.img = $(img).on('load.mfploader', onLoadComplete).on('error.mfploader', onLoadError);\n\t\t\t\timg.src = item.src;\n\n\t\t\t\t// without clone() \"error\" event is not firing when IMG is replaced by new IMG\n\t\t\t\t// TODO: find a way to avoid such cloning\n\t\t\t\tif(el.is('img')) {\n\t\t\t\t\titem.img = item.img.clone();\n\t\t\t\t}\n\n\t\t\t\timg = item.img[0];\n\t\t\t\tif(img.naturalWidth > 0) {\n\t\t\t\t\titem.hasSize = true;\n\t\t\t\t} else if(!img.width) {\n\t\t\t\t\titem.hasSize = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tmfp._parseMarkup(template, {\n\t\t\t\ttitle: _getTitle(item),\n\t\t\t\timg_replaceWith: item.img\n\t\t\t}, item);\n\n\t\t\tmfp.resizeImage();\n\n\t\t\tif(item.hasSize) {\n\t\t\t\tif(_imgInterval) clearInterval(_imgInterval);\n\n\t\t\t\tif(item.loadError) {\n\t\t\t\t\ttemplate.addClass('mfp-loading');\n\t\t\t\t\tmfp.updateStatus('error', imgSt.tError.replace('%url%', item.src) );\n\t\t\t\t} else {\n\t\t\t\t\ttemplate.removeClass('mfp-loading');\n\t\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\t}\n\t\t\t\treturn template;\n\t\t\t}\n\n\t\t\tmfp.updateStatus('loading');\n\t\t\titem.loading = true;\n\n\t\t\tif(!item.hasSize) {\n\t\t\t\titem.imgHidden = true;\n\t\t\t\ttemplate.addClass('mfp-loading');\n\t\t\t\tmfp.findImageSize(item);\n\t\t\t}\n\n\t\t\treturn template;\n\t\t}\n\t}\n});\n\n/*>>image*/\n\n/*>>zoom*/\nvar hasMozTransform,\n\tgetHasMozTransform = function() {\n\t\tif(hasMozTransform === undefined) {\n\t\t\thasMozTransform = document.createElement('p').style.MozTransform !== undefined;\n\t\t}\n\t\treturn hasMozTransform;\n\t};\n\n$.magnificPopup.registerModule('zoom', {\n\n\toptions: {\n\t\tenabled: false,\n\t\teasing: 'ease-in-out',\n\t\tduration: 300,\n\t\topener: function(element) {\n\t\t\treturn element.is('img') ? element : element.find('img');\n\t\t}\n\t},\n\n\tproto: {\n\n\t\tinitZoom: function() {\n\t\t\tvar zoomSt = mfp.st.zoom,\n\t\t\t\tns = '.zoom',\n\t\t\t\timage;\n\n\t\t\tif(!zoomSt.enabled || !mfp.supportsTransition) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar duration = zoomSt.duration,\n\t\t\t\tgetElToAnimate = function(image) {\n\t\t\t\t\tvar newImg = image.clone().removeAttr('style').removeAttr('class').addClass('mfp-animated-image'),\n\t\t\t\t\t\ttransition = 'all '+(zoomSt.duration/1000)+'s ' + zoomSt.easing,\n\t\t\t\t\t\tcssObj = {\n\t\t\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\t\t\tzIndex: 9999,\n\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\t'-webkit-backface-visibility': 'hidden'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tt = 'transition';\n\n\t\t\t\t\tcssObj['-webkit-'+t] = cssObj['-moz-'+t] = cssObj['-o-'+t] = cssObj[t] = transition;\n\n\t\t\t\t\tnewImg.css(cssObj);\n\t\t\t\t\treturn newImg;\n\t\t\t\t},\n\t\t\t\tshowMainContent = function() {\n\t\t\t\t\tmfp.content.css('visibility', 'visible');\n\t\t\t\t},\n\t\t\t\topenTimeout,\n\t\t\t\tanimatedImg;\n\n\t\t\t_mfpOn('BuildControls'+ns, function() {\n\t\t\t\tif(mfp._allowZoom()) {\n\n\t\t\t\t\tclearTimeout(openTimeout);\n\t\t\t\t\tmfp.content.css('visibility', 'hidden');\n\n\t\t\t\t\t// Basically, all code below does is clones existing image, puts in on top of the current one and animated it\n\n\t\t\t\t\timage = mfp._getItemToZoom();\n\n\t\t\t\t\tif(!image) {\n\t\t\t\t\t\tshowMainContent();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tanimatedImg = getElToAnimate(image);\n\n\t\t\t\t\tanimatedImg.css( mfp._getOffset() );\n\n\t\t\t\t\tmfp.wrap.append(animatedImg);\n\n\t\t\t\t\topenTimeout = setTimeout(function() {\n\t\t\t\t\t\tanimatedImg.css( mfp._getOffset( true ) );\n\t\t\t\t\t\topenTimeout = setTimeout(function() {\n\n\t\t\t\t\t\t\tshowMainContent();\n\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tanimatedImg.remove();\n\t\t\t\t\t\t\t\timage = animatedImg = null;\n\t\t\t\t\t\t\t\t_mfpTrigger('ZoomAnimationEnded');\n\t\t\t\t\t\t\t}, 16); // avoid blink when switching images\n\n\t\t\t\t\t\t}, duration); // this timeout equals animation duration\n\n\t\t\t\t\t}, 16); // by adding this timeout we avoid short glitch at the beginning of animation\n\n\n\t\t\t\t\t// Lots of timeouts...\n\t\t\t\t}\n\t\t\t});\n\t\t\t_mfpOn(BEFORE_CLOSE_EVENT+ns, function() {\n\t\t\t\tif(mfp._allowZoom()) {\n\n\t\t\t\t\tclearTimeout(openTimeout);\n\n\t\t\t\t\tmfp.st.removalDelay = duration;\n\n\t\t\t\t\tif(!image) {\n\t\t\t\t\t\timage = mfp._getItemToZoom();\n\t\t\t\t\t\tif(!image) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tanimatedImg = getElToAnimate(image);\n\t\t\t\t\t}\n\n\t\t\t\t\tanimatedImg.css( mfp._getOffset(true) );\n\t\t\t\t\tmfp.wrap.append(animatedImg);\n\t\t\t\t\tmfp.content.css('visibility', 'hidden');\n\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tanimatedImg.css( mfp._getOffset() );\n\t\t\t\t\t}, 16);\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\t_mfpOn(CLOSE_EVENT+ns, function() {\n\t\t\t\tif(mfp._allowZoom()) {\n\t\t\t\t\tshowMainContent();\n\t\t\t\t\tif(animatedImg) {\n\t\t\t\t\t\tanimatedImg.remove();\n\t\t\t\t\t}\n\t\t\t\t\timage = null;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t_allowZoom: function() {\n\t\t\treturn mfp.currItem.type === 'image';\n\t\t},\n\n\t\t_getItemToZoom: function() {\n\t\t\tif(mfp.currItem.hasSize) {\n\t\t\t\treturn mfp.currItem.img;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\t// Get element postion relative to viewport\n\t\t_getOffset: function(isLarge) {\n\t\t\tvar el;\n\t\t\tif(isLarge) {\n\t\t\t\tel = mfp.currItem.img;\n\t\t\t} else {\n\t\t\t\tel = mfp.st.zoom.opener(mfp.currItem.el || mfp.currItem);\n\t\t\t}\n\n\t\t\tvar offset = el.offset();\n\t\t\tvar paddingTop = parseInt(el.css('padding-top'),10);\n\t\t\tvar paddingBottom = parseInt(el.css('padding-bottom'),10);\n\t\t\toffset.top -= ( $(window).scrollTop() - paddingTop );\n\n\n\t\t\t/*\n\n\t\t\tAnimating left + top + width/height looks glitchy in Firefox, but perfect in Chrome. And vice-versa.\n\n\t\t\t */\n\t\t\tvar obj = {\n\t\t\t\twidth: el.width(),\n\t\t\t\t// fix Zepto height+padding issue\n\t\t\t\theight: (_isJQ ? el.innerHeight() : el[0].offsetHeight) - paddingBottom - paddingTop\n\t\t\t};\n\n\t\t\t// I hate to do this, but there is no another option\n\t\t\tif( getHasMozTransform() ) {\n\t\t\t\tobj['-moz-transform'] = obj['transform'] = 'translate(' + offset.left + 'px,' + offset.top + 'px)';\n\t\t\t} else {\n\t\t\t\tobj.left = offset.left;\n\t\t\t\tobj.top = offset.top;\n\t\t\t}\n\t\t\treturn obj;\n\t\t}\n\n\t}\n});\n\n\n\n/*>>zoom*/\n\n/*>>iframe*/\n\nvar IFRAME_NS = 'iframe',\n\t_emptyPage = '//about:blank',\n\n\t_fixIframeBugs = function(isShowing) {\n\t\tif(mfp.currTemplate[IFRAME_NS]) {\n\t\t\tvar el = mfp.currTemplate[IFRAME_NS].find('iframe');\n\t\t\tif(el.length) {\n\t\t\t\t// reset src after the popup is closed to avoid \"video keeps playing after popup is closed\" bug\n\t\t\t\tif(!isShowing) {\n\t\t\t\t\tel[0].src = _emptyPage;\n\t\t\t\t}\n\n\t\t\t\t// IE8 black screen bug fix\n\t\t\t\tif(mfp.isIE8) {\n\t\t\t\t\tel.css('display', isShowing ? 'block' : 'none');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n$.magnificPopup.registerModule(IFRAME_NS, {\n\n\toptions: {\n\t\tmarkup: '<div class=\"mfp-iframe-scaler\">'+\n\t\t\t\t\t'<div class=\"mfp-close\"></div>'+\n\t\t\t\t\t'<iframe class=\"mfp-iframe\" src=\"//about:blank\" frameborder=\"0\" allowfullscreen></iframe>'+\n\t\t\t\t'</div>',\n\n\t\tsrcAction: 'iframe_src',\n\n\t\t// we don't care and support only one default type of URL by default\n\t\tpatterns: {\n\t\t\tyoutube: {\n\t\t\t\tindex: 'youtube.com',\n\t\t\t\tid: 'v=',\n\t\t\t\tsrc: '//www.youtube.com/embed/%id%?autoplay=1'\n\t\t\t},\n\t\t\tvimeo: {\n\t\t\t\tindex: 'vimeo.com/',\n\t\t\t\tid: '/',\n\t\t\t\tsrc: '//player.vimeo.com/video/%id%?autoplay=1'\n\t\t\t},\n\t\t\tgmaps: {\n\t\t\t\tindex: '//maps.google.',\n\t\t\t\tsrc: '%id%&output=embed'\n\t\t\t}\n\t\t}\n\t},\n\n\tproto: {\n\t\tinitIframe: function() {\n\t\t\tmfp.types.push(IFRAME_NS);\n\n\t\t\t_mfpOn('BeforeChange', function(e, prevType, newType) {\n\t\t\t\tif(prevType !== newType) {\n\t\t\t\t\tif(prevType === IFRAME_NS) {\n\t\t\t\t\t\t_fixIframeBugs(); // iframe if removed\n\t\t\t\t\t} else if(newType === IFRAME_NS) {\n\t\t\t\t\t\t_fixIframeBugs(true); // iframe is showing\n\t\t\t\t\t}\n\t\t\t\t}// else {\n\t\t\t\t\t// iframe source is switched, don't do anything\n\t\t\t\t//}\n\t\t\t});\n\n\t\t\t_mfpOn(CLOSE_EVENT + '.' + IFRAME_NS, function() {\n\t\t\t\t_fixIframeBugs();\n\t\t\t});\n\t\t},\n\n\t\tgetIframe: function(item, template) {\n\t\t\tvar embedSrc = item.src;\n\t\t\tvar iframeSt = mfp.st.iframe;\n\n\t\t\t$.each(iframeSt.patterns, function() {\n\t\t\t\tif(embedSrc.indexOf( this.index ) > -1) {\n\t\t\t\t\tif(this.id) {\n\t\t\t\t\t\tif(typeof this.id === 'string') {\n\t\t\t\t\t\t\tembedSrc = embedSrc.substr(embedSrc.lastIndexOf(this.id)+this.id.length, embedSrc.length);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tembedSrc = this.id.call( this, embedSrc );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tembedSrc = this.src.replace('%id%', embedSrc );\n\t\t\t\t\treturn false; // break;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar dataObj = {};\n\t\t\tif(iframeSt.srcAction) {\n\t\t\t\tdataObj[iframeSt.srcAction] = embedSrc;\n\t\t\t}\n\t\t\tmfp._parseMarkup(template, dataObj, item);\n\n\t\t\tmfp.updateStatus('ready');\n\n\t\t\treturn template;\n\t\t}\n\t}\n});\n\n\n\n/*>>iframe*/\n\n/*>>gallery*/\n/**\n * Get looped index depending on number of slides\n */\nvar _getLoopedId = function(index) {\n\t\tvar numSlides = mfp.items.length;\n\t\tif(index > numSlides - 1) {\n\t\t\treturn index - numSlides;\n\t\t} else  if(index < 0) {\n\t\t\treturn numSlides + index;\n\t\t}\n\t\treturn index;\n\t},\n\t_replaceCurrTotal = function(text, curr, total) {\n\t\treturn text.replace(/%curr%/gi, curr + 1).replace(/%total%/gi, total);\n\t};\n\n$.magnificPopup.registerModule('gallery', {\n\n\toptions: {\n\t\tenabled: false,\n\t\tarrowMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-arrow mfp-arrow-%dir%\"></button>',\n\t\tpreload: [0,2],\n\t\tnavigateByImgClick: true,\n\t\tarrows: true,\n\n\t\ttPrev: 'Previous (Left arrow key)',\n\t\ttNext: 'Next (Right arrow key)',\n\t\ttCounter: '%curr% of %total%'\n\t},\n\n\tproto: {\n\t\tinitGallery: function() {\n\n\t\t\tvar gSt = mfp.st.gallery,\n\t\t\t\tns = '.mfp-gallery';\n\n\t\t\tmfp.direction = true; // true - next, false - prev\n\n\t\t\tif(!gSt || !gSt.enabled ) return false;\n\n\t\t\t_wrapClasses += ' mfp-gallery';\n\n\t\t\t_mfpOn(OPEN_EVENT+ns, function() {\n\n\t\t\t\tif(gSt.navigateByImgClick) {\n\t\t\t\t\tmfp.wrap.on('click'+ns, '.mfp-img', function() {\n\t\t\t\t\t\tif(mfp.items.length > 1) {\n\t\t\t\t\t\t\tmfp.next();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t_document.on('keydown'+ns, function(e) {\n\t\t\t\t\tif (e.keyCode === 37) {\n\t\t\t\t\t\tmfp.prev();\n\t\t\t\t\t} else if (e.keyCode === 39) {\n\t\t\t\t\t\tmfp.next();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t_mfpOn('UpdateStatus'+ns, function(e, data) {\n\t\t\t\tif(data.text) {\n\t\t\t\t\tdata.text = _replaceCurrTotal(data.text, mfp.currItem.index, mfp.items.length);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_mfpOn(MARKUP_PARSE_EVENT+ns, function(e, element, values, item) {\n\t\t\t\tvar l = mfp.items.length;\n\t\t\t\tvalues.counter = l > 1 ? _replaceCurrTotal(gSt.tCounter, item.index, l) : '';\n\t\t\t});\n\n\t\t\t_mfpOn('BuildControls' + ns, function() {\n\t\t\t\tif(mfp.items.length > 1 && gSt.arrows && !mfp.arrowLeft) {\n\t\t\t\t\tvar markup = gSt.arrowMarkup,\n\t\t\t\t\t\tarrowLeft = mfp.arrowLeft = $( markup.replace(/%title%/gi, gSt.tPrev).replace(/%dir%/gi, 'left') ).addClass(PREVENT_CLOSE_CLASS),\n\t\t\t\t\t\tarrowRight = mfp.arrowRight = $( markup.replace(/%title%/gi, gSt.tNext).replace(/%dir%/gi, 'right') ).addClass(PREVENT_CLOSE_CLASS);\n\n\t\t\t\t\tarrowLeft.click(function() {\n\t\t\t\t\t\tmfp.prev();\n\t\t\t\t\t});\n\t\t\t\t\tarrowRight.click(function() {\n\t\t\t\t\t\tmfp.next();\n\t\t\t\t\t});\n\n\t\t\t\t\tmfp.container.append(arrowLeft.add(arrowRight));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_mfpOn(CHANGE_EVENT+ns, function() {\n\t\t\t\tif(mfp._preloadTimeout) clearTimeout(mfp._preloadTimeout);\n\n\t\t\t\tmfp._preloadTimeout = setTimeout(function() {\n\t\t\t\t\tmfp.preloadNearbyImages();\n\t\t\t\t\tmfp._preloadTimeout = null;\n\t\t\t\t}, 16);\n\t\t\t});\n\n\n\t\t\t_mfpOn(CLOSE_EVENT+ns, function() {\n\t\t\t\t_document.off(ns);\n\t\t\t\tmfp.wrap.off('click'+ns);\n\t\t\t\tmfp.arrowRight = mfp.arrowLeft = null;\n\t\t\t});\n\n\t\t},\n\t\tnext: function() {\n\t\t\tmfp.direction = true;\n\t\t\tmfp.index = _getLoopedId(mfp.index + 1);\n\t\t\tmfp.updateItemHTML();\n\t\t},\n\t\tprev: function() {\n\t\t\tmfp.direction = false;\n\t\t\tmfp.index = _getLoopedId(mfp.index - 1);\n\t\t\tmfp.updateItemHTML();\n\t\t},\n\t\tgoTo: function(newIndex) {\n\t\t\tmfp.direction = (newIndex >= mfp.index);\n\t\t\tmfp.index = newIndex;\n\t\t\tmfp.updateItemHTML();\n\t\t},\n\t\tpreloadNearbyImages: function() {\n\t\t\tvar p = mfp.st.gallery.preload,\n\t\t\t\tpreloadBefore = Math.min(p[0], mfp.items.length),\n\t\t\t\tpreloadAfter = Math.min(p[1], mfp.items.length),\n\t\t\t\ti;\n\n\t\t\tfor(i = 1; i <= (mfp.direction ? preloadAfter : preloadBefore); i++) {\n\t\t\t\tmfp._preloadItem(mfp.index+i);\n\t\t\t}\n\t\t\tfor(i = 1; i <= (mfp.direction ? preloadBefore : preloadAfter); i++) {\n\t\t\t\tmfp._preloadItem(mfp.index-i);\n\t\t\t}\n\t\t},\n\t\t_preloadItem: function(index) {\n\t\t\tindex = _getLoopedId(index);\n\n\t\t\tif(mfp.items[index].preloaded) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar item = mfp.items[index];\n\t\t\tif(!item.parsed) {\n\t\t\t\titem = mfp.parseEl( index );\n\t\t\t}\n\n\t\t\t_mfpTrigger('LazyLoad', item);\n\n\t\t\tif(item.type === 'image') {\n\t\t\t\titem.img = $('<img class=\"mfp-img\" />').on('load.mfploader', function() {\n\t\t\t\t\titem.hasSize = true;\n\t\t\t\t}).on('error.mfploader', function() {\n\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\titem.loadError = true;\n\t\t\t\t\t_mfpTrigger('LazyLoadError', item);\n\t\t\t\t}).attr('src', item.src);\n\t\t\t}\n\n\n\t\t\titem.preloaded = true;\n\t\t}\n\t}\n});\n\n/*>>gallery*/\n\n/*>>retina*/\n\nvar RETINA_NS = 'retina';\n\n$.magnificPopup.registerModule(RETINA_NS, {\n\toptions: {\n\t\treplaceSrc: function(item) {\n\t\t\treturn item.src.replace(/\\.\\w+$/, function(m) { return '@2x' + m; });\n\t\t},\n\t\tratio: 1 // Function or number.  Set to 1 to disable.\n\t},\n\tproto: {\n\t\tinitRetina: function() {\n\t\t\tif(window.devicePixelRatio > 1) {\n\n\t\t\t\tvar st = mfp.st.retina,\n\t\t\t\t\tratio = st.ratio;\n\n\t\t\t\tratio = !isNaN(ratio) ? ratio : ratio();\n\n\t\t\t\tif(ratio > 1) {\n\t\t\t\t\t_mfpOn('ImageHasSize' + '.' + RETINA_NS, function(e, item) {\n\t\t\t\t\t\titem.img.css({\n\t\t\t\t\t\t\t'max-width': item.img[0].naturalWidth / ratio,\n\t\t\t\t\t\t\t'width': '100%'\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\t_mfpOn('ElementParse' + '.' + RETINA_NS, function(e, item) {\n\t\t\t\t\t\titem.src = st.replaceSrc(item, ratio);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t}\n});\n\n/*>>retina*/\n _checkInstance(); }));","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n(function (global, factory) {\n    (typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : global.LazyLoad = factory();\n})(this, function () {\n    'use strict';\n\n    var defaultSettings = {\n        elements_selector: \"img\",\n        container: window,\n        threshold: 300,\n        throttle: 150,\n        data_src: \"original\",\n        data_srcset: \"original-set\",\n        class_loading: \"loading\",\n        class_loaded: \"loaded\",\n        class_error: \"error\",\n        class_initial: \"initial\",\n        skip_invisible: true,\n        callback_load: null,\n        callback_error: null,\n        callback_set: null,\n        callback_processed: null\n    };\n\n    var isBot = !(\"onscroll\" in window) || /glebot/.test(navigator.userAgent);\n\n    var callCallback = function callCallback(callback, argument) {\n        if (callback) {\n            callback(argument);\n        }\n    };\n\n    var getTopOffset = function getTopOffset(element) {\n        return element.getBoundingClientRect().top + window.pageYOffset - element.ownerDocument.documentElement.clientTop;\n    };\n\n    var isBelowViewport = function isBelowViewport(element, container, threshold) {\n        var fold = container === window ? window.innerHeight + window.pageYOffset : getTopOffset(container) + container.offsetHeight;\n        return fold <= getTopOffset(element) - threshold;\n    };\n\n    var getLeftOffset = function getLeftOffset(element) {\n        return element.getBoundingClientRect().left + window.pageXOffset - element.ownerDocument.documentElement.clientLeft;\n    };\n\n    var isAtRightOfViewport = function isAtRightOfViewport(element, container, threshold) {\n        var documentWidth = window.innerWidth;\n        var fold = container === window ? documentWidth + window.pageXOffset : getLeftOffset(container) + documentWidth;\n        return fold <= getLeftOffset(element) - threshold;\n    };\n\n    var isAboveViewport = function isAboveViewport(element, container, threshold) {\n        var fold = container === window ? window.pageYOffset : getTopOffset(container);\n        return fold >= getTopOffset(element) + threshold + element.offsetHeight;\n    };\n\n    var isAtLeftOfViewport = function isAtLeftOfViewport(element, container, threshold) {\n        var fold = container === window ? window.pageXOffset : getLeftOffset(container);\n        return fold >= getLeftOffset(element) + threshold + element.offsetWidth;\n    };\n\n    var isInsideViewport = function isInsideViewport(element, container, threshold) {\n        return !isBelowViewport(element, container, threshold) && !isAboveViewport(element, container, threshold) && !isAtRightOfViewport(element, container, threshold) && !isAtLeftOfViewport(element, container, threshold);\n    };\n\n    /* Creates instance and notifies it through the window element */\n    var createInstance = function createInstance(classObj, options) {\n        var instance = new classObj(options);\n        var event = new CustomEvent(\"LazyLoad::Initialized\", { detail: { instance: instance } });\n        window.dispatchEvent(event);\n    };\n\n    /* Auto initialization of one or more instances of lazyload, depending on the \n        options passed in (plain object or an array) */\n    var autoInitialize = function autoInitialize(classObj, options) {\n        var optsLength = options.length;\n        if (!optsLength) {\n            // Plain object\n            createInstance(classObj, options);\n        } else {\n            // Array of objects\n            for (var i = 0; i < optsLength; i++) {\n                createInstance(classObj, options[i]);\n            }\n        }\n    };\n\n    var dataPrefix = \"data-\";\n\n    var getData = function getData(element, attribute) {\n        return element.getAttribute(dataPrefix + attribute);\n    };\n\n    var setData = function setData(element, attribute, value) {\n        return element.setAttribute(dataPrefix + attribute, value);\n    };\n\n    var setSourcesForPicture = function setSourcesForPicture(element, srcsetDataAttribute) {\n        var parent = element.parentElement;\n        if (parent.tagName !== \"PICTURE\") {\n            return;\n        }\n        for (var i = 0; i < parent.children.length; i++) {\n            var pictureChild = parent.children[i];\n            if (pictureChild.tagName === \"SOURCE\") {\n                var sourceSrcset = getData(pictureChild, srcsetDataAttribute);\n                if (sourceSrcset) {\n                    pictureChild.setAttribute(\"srcset\", sourceSrcset);\n                }\n            }\n        }\n    };\n\n    var setSources = function setSources(element, srcsetDataAttribute, srcDataAttribute) {\n        var tagName = element.tagName;\n        var elementSrc = getData(element, srcDataAttribute);\n        if (tagName === \"IMG\") {\n            setSourcesForPicture(element, srcsetDataAttribute);\n            var imgSrcset = getData(element, srcsetDataAttribute);\n            if (imgSrcset) {\n                element.setAttribute(\"srcset\", imgSrcset);\n            }\n            if (elementSrc) {\n                element.setAttribute(\"src\", elementSrc);\n            }\n            return;\n        }\n        if (tagName === \"IFRAME\") {\n            if (elementSrc) {\n                element.setAttribute(\"src\", elementSrc);\n            }\n            return;\n        }\n        if (elementSrc) {\n            element.style.backgroundImage = 'url(\"' + elementSrc + '\")';\n        }\n    };\n\n    var supportsClassList = \"classList\" in document.createElement(\"p\");\n\n    var addClass = function addClass(element, className) {\n        if (supportsClassList) {\n            element.classList.add(className);\n            return;\n        }\n        element.className += (element.className ? \" \" : \"\") + className;\n    };\n\n    var removeClass = function removeClass(element, className) {\n        if (supportsClassList) {\n            element.classList.remove(className);\n            return;\n        }\n        element.className = element.className.replace(new RegExp(\"(^|\\\\s+)\" + className + \"(\\\\s+|$)\"), \" \").replace(/^\\s+/, \"\").replace(/\\s+$/, \"\");\n    };\n\n    /*\n     * Constructor\n     */\n\n    var LazyLoad = function LazyLoad(instanceSettings) {\n        this._settings = _extends({}, defaultSettings, instanceSettings);\n        this._queryOriginNode = this._settings.container === window ? document : this._settings.container;\n\n        this._previousLoopTime = 0;\n        this._loopTimeout = null;\n        this._boundHandleScroll = this.handleScroll.bind(this);\n\n        this._isFirstLoop = true;\n        window.addEventListener(\"resize\", this._boundHandleScroll);\n        this.update();\n    };\n\n    LazyLoad.prototype = {\n\n        /*\n         * Private methods\n         */\n\n        _reveal: function _reveal(element) {\n            var settings = this._settings;\n\n            var errorCallback = function errorCallback() {\n                /* As this method is asynchronous, it must be protected against external destroy() calls */\n                if (!settings) {\n                    return;\n                }\n                element.removeEventListener(\"load\", loadCallback);\n                element.removeEventListener(\"error\", errorCallback);\n                removeClass(element, settings.class_loading);\n                addClass(element, settings.class_error);\n                callCallback(settings.callback_error, element);\n            };\n\n            var loadCallback = function loadCallback() {\n                /* As this method is asynchronous, it must be protected against external destroy() calls */\n                if (!settings) {\n                    return;\n                }\n                removeClass(element, settings.class_loading);\n                addClass(element, settings.class_loaded);\n                element.removeEventListener(\"load\", loadCallback);\n                element.removeEventListener(\"error\", errorCallback);\n                /* Calling LOAD callback */\n                callCallback(settings.callback_load, element);\n            };\n\n            if (element.tagName === \"IMG\" || element.tagName === \"IFRAME\") {\n                element.addEventListener(\"load\", loadCallback);\n                element.addEventListener(\"error\", errorCallback);\n                addClass(element, settings.class_loading);\n            }\n\n            setSources(element, settings.data_srcset, settings.data_src);\n            /* Calling SET callback */\n            callCallback(settings.callback_set, element);\n        },\n\n        _loopThroughElements: function _loopThroughElements() {\n            var settings = this._settings,\n                elements = this._elements,\n                elementsLength = !elements ? 0 : elements.length;\n            var i = void 0,\n                processedIndexes = [],\n                firstLoop = this._isFirstLoop;\n\n            for (i = 0; i < elementsLength; i++) {\n                var element = elements[i];\n                /* If must skip_invisible and element is invisible, skip it */\n                if (settings.skip_invisible && element.offsetParent === null) {\n                    continue;\n                }\n\n                if (isBot || isInsideViewport(element, settings.container, settings.threshold)) {\n                    if (firstLoop) {\n                        addClass(element, settings.class_initial);\n                    }\n                    /* Start loading the image */\n                    this._reveal(element);\n                    /* Marking the element as processed. */\n                    processedIndexes.push(i);\n                    setData(element, \"was-processed\", true);\n                }\n            }\n            /* Removing processed elements from this._elements. */\n            while (processedIndexes.length) {\n                elements.splice(processedIndexes.pop(), 1);\n                /* Calling the end loop callback */\n                callCallback(settings.callback_processed, elements.length);\n            }\n            /* Stop listening to scroll event when 0 elements remains */\n            if (elementsLength === 0) {\n                this._stopScrollHandler();\n            }\n            /* Sets isFirstLoop to false */\n            if (firstLoop) {\n                this._isFirstLoop = false;\n            }\n        },\n\n        _purgeElements: function _purgeElements() {\n            var elements = this._elements,\n                elementsLength = elements.length;\n            var i = void 0,\n                elementsToPurge = [];\n\n            for (i = 0; i < elementsLength; i++) {\n                var element = elements[i];\n                /* If the element has already been processed, skip it */\n                if (getData(element, \"was-processed\")) {\n                    elementsToPurge.push(i);\n                }\n            }\n            /* Removing elements to purge from this._elements. */\n            while (elementsToPurge.length > 0) {\n                elements.splice(elementsToPurge.pop(), 1);\n            }\n        },\n\n        _startScrollHandler: function _startScrollHandler() {\n            if (!this._isHandlingScroll) {\n                this._isHandlingScroll = true;\n                this._settings.container.addEventListener(\"scroll\", this._boundHandleScroll);\n            }\n        },\n\n        _stopScrollHandler: function _stopScrollHandler() {\n            if (this._isHandlingScroll) {\n                this._isHandlingScroll = false;\n                this._settings.container.removeEventListener(\"scroll\", this._boundHandleScroll);\n            }\n        },\n\n        /* \n         * Public methods\n         */\n\n        handleScroll: function handleScroll() {\n            var throttle = this._settings.throttle;\n\n            if (throttle !== 0) {\n                var now = Date.now();\n                var remainingTime = throttle - (now - this._previousLoopTime);\n                if (remainingTime <= 0 || remainingTime > throttle) {\n                    if (this._loopTimeout) {\n                        clearTimeout(this._loopTimeout);\n                        this._loopTimeout = null;\n                    }\n                    this._previousLoopTime = now;\n                    this._loopThroughElements();\n                } else if (!this._loopTimeout) {\n                    this._loopTimeout = setTimeout(function () {\n                        this._previousLoopTime = Date.now();\n                        this._loopTimeout = null;\n                        this._loopThroughElements();\n                    }.bind(this), remainingTime);\n                }\n            } else {\n                this._loopThroughElements();\n            }\n        },\n\n        update: function update() {\n            // Converts to array the nodeset obtained querying the DOM from _queryOriginNode with elements_selector\n            this._elements = Array.prototype.slice.call(this._queryOriginNode.querySelectorAll(this._settings.elements_selector));\n            this._purgeElements();\n            this._loopThroughElements();\n            this._startScrollHandler();\n        },\n\n        destroy: function destroy() {\n            window.removeEventListener(\"resize\", this._boundHandleScroll);\n            if (this._loopTimeout) {\n                clearTimeout(this._loopTimeout);\n                this._loopTimeout = null;\n            }\n            this._stopScrollHandler();\n            this._elements = null;\n            this._queryOriginNode = null;\n            this._settings = null;\n        }\n    };\n\n    /* Automatic instances creation if required (useful for async script loading!) */\n    var autoInitOptions = window.lazyLoadOptions;\n    if (autoInitOptions) {\n        autoInitialize(LazyLoad, autoInitOptions);\n    }\n\n    return LazyLoad;\n});","/**\n * what-input - A global utility for tracking the current input method (mouse, keyboard or touch).\n * @version v4.0.6\n * @link https://github.com/ten1seven/what-input\n * @license MIT\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n  if(typeof exports === 'object' && typeof module === 'object')\n    module.exports = factory();\n  else if(typeof define === 'function' && define.amd)\n    define(\"whatInput\", [], factory);\n  else if(typeof exports === 'object')\n    exports[\"whatInput\"] = factory();\n  else\n    root[\"whatInput\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/  // The module cache\n/******/  var installedModules = {};\n\n/******/  // The require function\n/******/  function __webpack_require__(moduleId) {\n\n/******/    // Check if module is in cache\n/******/    if(installedModules[moduleId])\n/******/      return installedModules[moduleId].exports;\n\n/******/    // Create a new module (and put it into the cache)\n/******/    var module = installedModules[moduleId] = {\n/******/      exports: {},\n/******/      id: moduleId,\n/******/      loaded: false\n/******/    };\n\n/******/    // Execute the module function\n/******/    modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/    // Flag the module as loaded\n/******/    module.loaded = true;\n\n/******/    // Return the exports of the module\n/******/    return module.exports;\n/******/  }\n\n\n/******/  // expose the modules object (__webpack_modules__)\n/******/  __webpack_require__.m = modules;\n\n/******/  // expose the module cache\n/******/  __webpack_require__.c = installedModules;\n\n/******/  // __webpack_public_path__\n/******/  __webpack_require__.p = \"\";\n\n/******/  // Load entry module and return exports\n/******/  return __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports) {\n\n  module.exports = (function() {\n\n    /*\n      ---------------\n      Variables\n      ---------------\n    */\n\n    // cache document.documentElement\n    var docElem = document.documentElement;\n\n    // last used input type\n    var currentInput = 'initial';\n\n    // last used input intent\n    var currentIntent = null;\n\n    // form input types\n    var formInputs = [\n      'input',\n      'select',\n      'textarea'\n    ];\n\n    // list of modifier keys commonly used with the mouse and\n    // can be safely ignored to prevent false keyboard detection\n    var ignoreMap = [\n      16, // shift\n      17, // control\n      18, // alt\n      91, // Windows key / left Apple cmd\n      93  // Windows menu / right Apple cmd\n    ];\n\n    // mapping of events to input types\n    var inputMap = {\n      'keyup': 'keyboard',\n      'mousedown': 'mouse',\n      'mousemove': 'mouse',\n      'MSPointerDown': 'pointer',\n      'MSPointerMove': 'pointer',\n      'pointerdown': 'pointer',\n      'pointermove': 'pointer',\n      'touchstart': 'touch'\n    };\n\n    // array of all used input types\n    var inputTypes = [];\n\n    // boolean: true if touch buffer timer is running\n    var isBuffering = false;\n\n    // map of IE 10 pointer events\n    var pointerMap = {\n      2: 'touch',\n      3: 'touch', // treat pen like touch\n      4: 'mouse'\n    };\n\n    // touch buffer timer\n    var touchTimer = null;\n\n\n    /*\n      ---------------\n      Set up\n      ---------------\n    */\n\n    var setUp = function() {\n\n      // add correct mouse wheel event mapping to `inputMap`\n      inputMap[detectWheel()] = 'mouse';\n\n      addListeners();\n      setInput();\n    };\n\n\n    /*\n      ---------------\n      Events\n      ---------------\n    */\n\n    var addListeners = function() {\n\n      // `pointermove`, `MSPointerMove`, `mousemove` and mouse wheel event binding\n      // can only demonstrate potential, but not actual, interaction\n      // and are treated separately\n\n      // pointer events (mouse, pen, touch)\n      if (window.PointerEvent) {\n        docElem.addEventListener('pointerdown', updateInput);\n        docElem.addEventListener('pointermove', setIntent);\n      } else if (window.MSPointerEvent) {\n        docElem.addEventListener('MSPointerDown', updateInput);\n        docElem.addEventListener('MSPointerMove', setIntent);\n      } else {\n\n        // mouse events\n        docElem.addEventListener('mousedown', updateInput);\n        docElem.addEventListener('mousemove', setIntent);\n\n        // touch events\n        if ('ontouchstart' in window) {\n          docElem.addEventListener('touchstart', touchBuffer);\n        }\n      }\n\n      // mouse wheel\n      docElem.addEventListener(detectWheel(), setIntent);\n\n      // keyboard events\n      docElem.addEventListener('keydown', updateInput);\n      docElem.addEventListener('keyup', updateInput);\n    };\n\n    // checks conditions before updating new input\n    var updateInput = function(event) {\n\n      // only execute if the touch buffer timer isn't running\n      if (!isBuffering) {\n        var eventKey = event.which;\n        var value = inputMap[event.type];\n        if (value === 'pointer') value = pointerType(event);\n\n        if (\n          currentInput !== value ||\n          currentIntent !== value\n        ) {\n\n          var activeElem = document.activeElement;\n          var activeInput = (\n            activeElem &&\n            activeElem.nodeName &&\n            formInputs.indexOf(activeElem.nodeName.toLowerCase()) === -1\n          ) ? true : false;\n\n          if (\n            value === 'touch' ||\n\n            // ignore mouse modifier keys\n            (value === 'mouse' && ignoreMap.indexOf(eventKey) === -1) ||\n\n            // don't switch if the current element is a form input\n            (value === 'keyboard' && activeInput)\n          ) {\n\n            // set the current and catch-all variable\n            currentInput = currentIntent = value;\n\n            setInput();\n          }\n        }\n      }\n    };\n\n    // updates the doc and `inputTypes` array with new input\n    var setInput = function() {\n      docElem.setAttribute('data-whatinput', currentInput);\n      docElem.setAttribute('data-whatintent', currentInput);\n\n      if (inputTypes.indexOf(currentInput) === -1) {\n        inputTypes.push(currentInput);\n        docElem.className += ' whatinput-types-' + currentInput;\n      }\n    };\n\n    // updates input intent for `mousemove` and `pointermove`\n    var setIntent = function(event) {\n\n      // only execute if the touch buffer timer isn't running\n      if (!isBuffering) {\n        var value = inputMap[event.type];\n        if (value === 'pointer') value = pointerType(event);\n\n        if (currentIntent !== value) {\n          currentIntent = value;\n\n          docElem.setAttribute('data-whatintent', currentIntent);\n        }\n      }\n    };\n\n    // buffers touch events because they frequently also fire mouse events\n    var touchBuffer = function(event) {\n\n      // clear the timer if it happens to be running\n      window.clearTimeout(touchTimer);\n\n      // set the current input\n      updateInput(event);\n\n      // set the isBuffering to `true`\n      isBuffering = true;\n\n      // run the timer\n      touchTimer = window.setTimeout(function() {\n\n        // if the timer runs out, set isBuffering back to `false`\n        isBuffering = false;\n      }, 200);\n    };\n\n\n    /*\n      ---------------\n      Utilities\n      ---------------\n    */\n\n    var pointerType = function(event) {\n     if (typeof event.pointerType === 'number') {\n        return pointerMap[event.pointerType];\n     } else {\n        return (event.pointerType === 'pen') ? 'touch' : event.pointerType; // treat pen like touch\n     }\n    };\n\n    // detect version of mouse wheel event to use\n    // via https://developer.mozilla.org/en-US/docs/Web/Events/wheel\n    var detectWheel = function() {\n      return 'onwheel' in document.createElement('div') ?\n        'wheel' : // Modern browsers support \"wheel\"\n\n        document.onmousewheel !== undefined ?\n          'mousewheel' : // Webkit and IE support at least \"mousewheel\"\n          'DOMMouseScroll'; // let's assume that remaining browsers are older Firefox\n    };\n\n\n    /*\n      ---------------\n      Init\n\n      don't start script unless browser cuts the mustard\n      (also passes if polyfills are used)\n      ---------------\n    */\n\n    if (\n      'addEventListener' in window &&\n      Array.prototype.indexOf\n    ) {\n      setUp();\n    }\n\n\n    /*\n      ---------------\n      API\n      ---------------\n    */\n\n    return {\n\n      // returns string: the current input type\n      // opt: 'loose'|'strict'\n      // 'strict' (default): returns the same value as the `data-whatinput` attribute\n      // 'loose': includes `data-whatintent` value if it's more current than `data-whatinput`\n      ask: function(opt) { return (opt === 'loose') ? currentIntent : currentInput; },\n\n      // returns array: all the detected input types\n      types: function() { return inputTypes; }\n\n    };\n\n  }());\n\n\n/***/ }\n/******/ ])\n});\n;","\n$(function(){\n\t$('.main-nav').setup_navigation();\n});\n\nvar keyCodeMap = {\n        48:\"0\", 49:\"1\", 50:\"2\", 51:\"3\", 52:\"4\", 53:\"5\", 54:\"6\", 55:\"7\", 56:\"8\", 57:\"9\", 59:\";\",\n        65:\"a\", 66:\"b\", 67:\"c\", 68:\"d\", 69:\"e\", 70:\"f\", 71:\"g\", 72:\"h\", 73:\"i\", 74:\"j\", 75:\"k\", 76:\"l\",\n        77:\"m\", 78:\"n\", 79:\"o\", 80:\"p\", 81:\"q\", 82:\"r\", 83:\"s\", 84:\"t\", 85:\"u\", 86:\"v\", 87:\"w\", 88:\"x\", 89:\"y\", 90:\"z\",\n        96:\"0\", 97:\"1\", 98:\"2\", 99:\"3\", 100:\"4\", 101:\"5\", 102:\"6\", 103:\"7\", 104:\"8\", 105:\"9\"\n}\n\n$.fn.setup_navigation = function(settings) {\n\n\tsettings = jQuery.extend({\n\t\tmenuHoverClass: 'show-menu',\n\t}, settings);\n\n\t// Add ARIA role to menubar and menu items\n\t$(this).attr('role', 'menubar').find('li').attr('role', 'menuitem');\n\n\tvar top_level_links = $(this).find('> li > a');\n\n\t// Added by Terrill: (removed temporarily: doesn't fix the JAWS problem after all)\n\t// Add tabindex=\"0\" to all top-level links\n\t// Without at least one of these, JAWS doesn't read widget as a menu, despite all the other ARIA\n\t//$(top_level_links).attr('tabindex','0');\n\n\t// Set tabIndex to -1 so that top_level_links can't receive focus until menu is open\n\t$(top_level_links).next('ul')\n\t\t.attr('data-test','true')\n\t\t.attr({ 'aria-hidden': 'true', 'role': 'menu' })\n\t\t.find('a')\n\t\t\t.attr('tabIndex',-1);\n\n\t// Adding aria-haspopup for appropriate items\n\t$(top_level_links).each(function(){\n\t\tif($(this).next('ul').length > 0)\n\t\t\t$(this).parent('li').attr('aria-haspopup', 'true');\n\t});\n\n\t$(top_level_links).hover(function(){\n\t\t$(this).closest('ul')\n\t\t\t.attr('aria-hidden', 'false')\n\t\t\t.find('.'+settings.menuHoverClass)\n\t\t\t\t.attr('aria-hidden', 'true')\n\t\t\t\t.removeClass(settings.menuHoverClass)\n\t\t\t\t.find('a')\n\t\t\t\t\t.attr('tabIndex',-1);\n\t\t$(this).next('ul')\n\t\t\t.attr('aria-hidden', 'false')\n\t\t\t.find('a').attr('tabIndex',0);\n\t});\n\n\n\t$(top_level_links).focus(function(){\n\t\t$(this).closest('ul')\n\t\t\t// Removed by Terrill\n\t\t\t// The following was adding aria-hidden=\"false\" to root ul since menu is never hidden\n\t\t\t// and seemed to be causing flakiness in JAWS (needs more testing)\n\t\t\t// .attr('aria-hidden', 'false')\n\t\t\t.find('.'+settings.menuHoverClass)\n\t\t\t\t.attr('aria-hidden', 'true')\n\t\t\t\t.removeClass(settings.menuHoverClass)\n\t\t\t\t.find('a')\n\t\t\t\t\t.attr('tabIndex',-1);\n\t\t$(this).next('ul')\n\t\t\t.attr('aria-hidden', 'false')\n\t\t\t.addClass(settings.menuHoverClass)\n\t\t\t.find('a').attr('tabIndex',0);\n\t});\n\n\t// Bind arrow keys for navigation\n\t$(top_level_links).keydown(function(e){\n\t\tif(e.keyCode == 37) {\n\t\t\te.preventDefault();\n\t\t\t// This is the first item\n\t\t\tif($(this).parent('li').prev('li').length == 0) {\n\t\t\t\t$(this).parents('ul').find('> li').last().find('a').first().focus();\n\t\t\t} else {\n\t\t\t\t$(this).parent('li').prev('li').find('a').first().focus();\n\t\t\t}\n\t\t} else if(e.keyCode == 38) {\n\t\t\te.preventDefault();\n\t\t\tif($(this).parent('li').find('ul').length > 0) {\n\t\t\t\t$(this).parent('li').find('ul')\n\t\t\t\t\t.attr('aria-hidden', 'false')\n\t\t\t\t\t.addClass(settings.menuHoverClass)\n\t\t\t\t\t.find('a').attr('tabIndex',0)\n\t\t\t\t\t\t.last().focus();\n\t\t\t}\n\t\t} else if(e.keyCode == 39) {\n\t\t\te.preventDefault();\n\t\t\t// This is the last item\n\t\t\tif($(this).parent('li').next('li').length == 0) {\n\t\t\t\t$(this).parents('ul').find('> li').first().find('a').first().focus();\n\t\t\t} else {\n\t\t\t\t$(this).parent('li').next('li').find('a').first().focus();\n\t\t\t}\n\t\t} else if(e.keyCode == 40) {\n\t\t\te.preventDefault();\n\t\t\tif($(this).parent('li').find('ul').length > 0) {\n\t\t\t\t$(this).parent('li').find('ul')\n\t\t\t\t\t.attr('aria-hidden', 'false')\n\t\t\t\t\t.addClass(settings.menuHoverClass)\n\t\t\t\t\t.find('a').attr('tabIndex',0)\n\t\t\t\t\t\t.first().focus();\n\t\t\t}\n\t\t} else if(e.keyCode == 13 || e.keyCode == 32) {\n\t\t\t// If submenu is hidden, open it\n\t\t\te.preventDefault();\n\t\t\t$(this).parent('li').find('ul[aria-hidden=true]')\n\t\t\t\t\t.attr('aria-hidden', 'false')\n\t\t\t\t\t.addClass(settings.menuHoverClass)\n\t\t\t\t\t.find('a').attr('tabIndex',0)\n\t\t\t\t\t\t.first().focus();\n\t\t} else if(e.keyCode == 27) {\n\t\t\te.preventDefault();\n\t\t\t$('.'+settings.menuHoverClass)\n\t\t\t\t.attr('aria-hidden', 'true')\n\t\t\t\t.removeClass(settings.menuHoverClass)\n\t\t\t\t.find('a')\n\t\t\t\t\t.attr('tabIndex',-1);\n\t\t} else {\n\t\t\t$(this).parent('li').find('ul[aria-hidden=false] a').each(function(){\n\t\t\t\tif($(this).text().substring(0,1).toLowerCase() == keyCodeMap[e.keyCode]) {\n\t\t\t\t\t$(this).focus();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\n\tvar links = $(top_level_links).parent('li').find('ul').find('a');\n\t$(links).keydown(function(e){\n\t\tif(e.keyCode == 38) {\n\t\t\te.preventDefault();\n\t\t\t// This is the first item\n\t\t\tif($(this).parent('li').prev('li').length == 0) {\n\t\t\t\t$(this).parents('ul').parents('li').find('a').first().focus();\n\t\t\t} else {\n\t\t\t\t$(this).parent('li').prev('li').find('a').first().focus();\n\t\t\t}\n\t\t} else if(e.keyCode == 40) {\n\t\t\te.preventDefault();\n\t\t\tif($(this).parent('li').next('li').length == 0) {\n\t\t\t\t$(this).parents('ul').parents('li').find('a').first().focus();\n\t\t\t} else {\n\t\t\t\t$(this).parent('li').next('li').find('a').first().focus();\n\t\t\t}\n\t\t} else if(e.keyCode == 27 || e.keyCode == 37) {\n\t\t\te.preventDefault();\n\t\t\t$(this)\n\t\t\t\t.parents('ul').first()\n\t\t\t\t\t.prev('a').focus()\n\t\t\t\t\t.parents('ul').first().find('.'+settings.menuHoverClass)\n\t\t\t\t\t\t.attr('aria-hidden', 'true')\n\t\t\t\t\t\t.removeClass(settings.menuHoverClass)\n\t\t\t\t\t\t.find('a')\n\t\t\t\t\t\t\t.attr('tabIndex',-1);\n\t\t} else if(e.keyCode == 32) {\n\t\t\te.preventDefault();\n\t\t\twindow.location = $(this).attr('href');\n\t\t} else {\n\t\t\tvar found = false;\n\t\t\t$(this).parent('li').nextAll('li').find('a').each(function(){\n\t\t\t\tif($(this).text().substring(0,1).toLowerCase() == keyCodeMap[e.keyCode]) {\n\t\t\t\t\t$(this).focus();\n\t\t\t\t\tfound = true;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(!found) {\n\t\t\t\t$(this).parent('li').prevAll('li').find('a').each(function(){\n\t\t\t\t\tif($(this).text().substring(0,1).toLowerCase() == keyCodeMap[e.keyCode]) {\n\t\t\t\t\t\t$(this).focus();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n\n\n\t// Hide menu if click or focus occurs outside of navigation\n\t$(this).find('a').last().keydown(function(e){\n\t\tif(e.keyCode == 9) {\n\t\t\t// If the user tabs out of the navigation hide all menus\n\t\t\t$('.'+settings.menuHoverClass)\n\t\t\t\t.attr('aria-hidden', 'true')\n\t\t\t\t.removeClass(settings.menuHoverClass)\n\t\t\t\t.find('a')\n\t\t\t\t\t.attr('tabIndex',-1);\n\t\t}\n\t});\n\t$(document).click(function(){ $('.'+settings.menuHoverClass).attr('aria-hidden', 'true').removeClass(settings.menuHoverClass).find('a').attr('tabIndex',-1); });\n\n\t$(this).click(function(e){\n\t\te.stopPropagation();\n\t});\n}\n","/*!\n * Isotope PACKAGED v3.0.6\n *\n * Licensed GPLv3 for open source use\n * or Isotope Commercial License for commercial use\n *\n * https://isotope.metafizzy.co\n * Copyright 2010-2018 Metafizzy\n */\n\n/**\n * Bridget makes jQuery widgets\n * v2.0.1\n * MIT license\n */\n\n/* jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /* globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'jquery-bridget/jquery-bridget',[ 'jquery' ], function( jQuery ) {\n      return factory( window, jQuery );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('jquery')\n    );\n  } else {\n    // browser global\n    window.jQueryBridget = factory(\n      window,\n      window.jQuery\n    );\n  }\n\n}( window, function factory( window, jQuery ) {\n'use strict';\n\n// ----- utils ----- //\n\nvar arraySlice = Array.prototype.slice;\n\n// helper function for logging errors\n// $.error breaks jQuery chaining\nvar console = window.console;\nvar logError = typeof console == 'undefined' ? function() {} :\n  function( message ) {\n    console.error( message );\n  };\n\n// ----- jQueryBridget ----- //\n\nfunction jQueryBridget( namespace, PluginClass, $ ) {\n  $ = $ || jQuery || window.jQuery;\n  if ( !$ ) {\n    return;\n  }\n\n  // add option method -> $().plugin('option', {...})\n  if ( !PluginClass.prototype.option ) {\n    // option setter\n    PluginClass.prototype.option = function( opts ) {\n      // bail out if not an object\n      if ( !$.isPlainObject( opts ) ){\n        return;\n      }\n      this.options = $.extend( true, this.options, opts );\n    };\n  }\n\n  // make jQuery plugin\n  $.fn[ namespace ] = function( arg0 /*, arg1 */ ) {\n    if ( typeof arg0 == 'string' ) {\n      // method call $().plugin( 'methodName', { options } )\n      // shift arguments by 1\n      var args = arraySlice.call( arguments, 1 );\n      return methodCall( this, arg0, args );\n    }\n    // just $().plugin({ options })\n    plainCall( this, arg0 );\n    return this;\n  };\n\n  // $().plugin('methodName')\n  function methodCall( $elems, methodName, args ) {\n    var returnValue;\n    var pluginMethodStr = '$().' + namespace + '(\"' + methodName + '\")';\n\n    $elems.each( function( i, elem ) {\n      // get instance\n      var instance = $.data( elem, namespace );\n      if ( !instance ) {\n        logError( namespace + ' not initialized. Cannot call methods, i.e. ' +\n          pluginMethodStr );\n        return;\n      }\n\n      var method = instance[ methodName ];\n      if ( !method || methodName.charAt(0) == '_' ) {\n        logError( pluginMethodStr + ' is not a valid method' );\n        return;\n      }\n\n      // apply method, get return value\n      var value = method.apply( instance, args );\n      // set return value if value is returned, use only first value\n      returnValue = returnValue === undefined ? value : returnValue;\n    });\n\n    return returnValue !== undefined ? returnValue : $elems;\n  }\n\n  function plainCall( $elems, options ) {\n    $elems.each( function( i, elem ) {\n      var instance = $.data( elem, namespace );\n      if ( instance ) {\n        // set options & init\n        instance.option( options );\n        instance._init();\n      } else {\n        // initialize new instance\n        instance = new PluginClass( elem, options );\n        $.data( elem, namespace, instance );\n      }\n    });\n  }\n\n  updateJQuery( $ );\n\n}\n\n// ----- updateJQuery ----- //\n\n// set $.bridget for v1 backwards compatibility\nfunction updateJQuery( $ ) {\n  if ( !$ || ( $ && $.bridget ) ) {\n    return;\n  }\n  $.bridget = jQueryBridget;\n}\n\nupdateJQuery( jQuery || window.jQuery );\n\n// -----  ----- //\n\nreturn jQueryBridget;\n\n}));\n\n/**\n * EvEmitter v1.1.0\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n( function( global, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, window */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( 'ev-emitter/ev-emitter',factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n\n}( typeof window != 'undefined' ? window : this, function() {\n\n\n\nfunction EvEmitter() {}\n\nvar proto = EvEmitter.prototype;\n\nproto.on = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // set events hash\n  var events = this._events = this._events || {};\n  // set listeners array\n  var listeners = events[ eventName ] = events[ eventName ] || [];\n  // only add once\n  if ( listeners.indexOf( listener ) == -1 ) {\n    listeners.push( listener );\n  }\n\n  return this;\n};\n\nproto.once = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // add event\n  this.on( eventName, listener );\n  // set once flag\n  // set onceEvents hash\n  var onceEvents = this._onceEvents = this._onceEvents || {};\n  // set onceListeners object\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\n  // set flag\n  onceListeners[ listener ] = true;\n\n  return this;\n};\n\nproto.off = function( eventName, listener ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var index = listeners.indexOf( listener );\n  if ( index != -1 ) {\n    listeners.splice( index, 1 );\n  }\n\n  return this;\n};\n\nproto.emitEvent = function( eventName, args ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  // copy over to avoid interference if .off() in listener\n  listeners = listeners.slice(0);\n  args = args || [];\n  // once stuff\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n  for ( var i=0; i < listeners.length; i++ ) {\n    var listener = listeners[i]\n    var isOnce = onceListeners && onceListeners[ listener ];\n    if ( isOnce ) {\n      // remove listener\n      // remove before trigger to prevent recursion\n      this.off( eventName, listener );\n      // unset once flag\n      delete onceListeners[ listener ];\n    }\n    // trigger listener\n    listener.apply( this, args );\n  }\n\n  return this;\n};\n\nproto.allOff = function() {\n  delete this._events;\n  delete this._onceEvents;\n};\n\nreturn EvEmitter;\n\n}));\n\n/*!\n * getSize v2.0.3\n * measure size of elements\n * MIT license\n */\n\n/* jshint browser: true, strict: true, undef: true, unused: true */\n/* globals console: false */\n\n( function( window, factory ) {\n  /* jshint strict: false */ /* globals define, module */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'get-size/get-size',factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.getSize = factory();\n  }\n\n})( window, function factory() {\n'use strict';\n\n// -------------------------- helpers -------------------------- //\n\n// get a number from a string, not a percentage\nfunction getStyleSize( value ) {\n  var num = parseFloat( value );\n  // not a percent like '100%', and a number\n  var isValid = value.indexOf('%') == -1 && !isNaN( num );\n  return isValid && num;\n}\n\nfunction noop() {}\n\nvar logError = typeof console == 'undefined' ? noop :\n  function( message ) {\n    console.error( message );\n  };\n\n// -------------------------- measurements -------------------------- //\n\nvar measurements = [\n  'paddingLeft',\n  'paddingRight',\n  'paddingTop',\n  'paddingBottom',\n  'marginLeft',\n  'marginRight',\n  'marginTop',\n  'marginBottom',\n  'borderLeftWidth',\n  'borderRightWidth',\n  'borderTopWidth',\n  'borderBottomWidth'\n];\n\nvar measurementsLength = measurements.length;\n\nfunction getZeroSize() {\n  var size = {\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0,\n    outerWidth: 0,\n    outerHeight: 0\n  };\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    size[ measurement ] = 0;\n  }\n  return size;\n}\n\n// -------------------------- getStyle -------------------------- //\n\n/**\n * getStyle, get style of element, check for Firefox bug\n * https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n */\nfunction getStyle( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    logError( 'Style returned ' + style +\n      '. Are you running this code in a hidden iframe on Firefox? ' +\n      'See https://bit.ly/getsizebug1' );\n  }\n  return style;\n}\n\n// -------------------------- setup -------------------------- //\n\nvar isSetup = false;\n\nvar isBoxSizeOuter;\n\n/**\n * setup\n * check isBoxSizerOuter\n * do on first getSize() rather than on page load for Firefox bug\n */\nfunction setup() {\n  // setup once\n  if ( isSetup ) {\n    return;\n  }\n  isSetup = true;\n\n  // -------------------------- box sizing -------------------------- //\n\n  /**\n   * Chrome & Safari measure the outer-width on style.width on border-box elems\n   * IE11 & Firefox<29 measures the inner-width\n   */\n  var div = document.createElement('div');\n  div.style.width = '200px';\n  div.style.padding = '1px 2px 3px 4px';\n  div.style.borderStyle = 'solid';\n  div.style.borderWidth = '1px 2px 3px 4px';\n  div.style.boxSizing = 'border-box';\n\n  var body = document.body || document.documentElement;\n  body.appendChild( div );\n  var style = getStyle( div );\n  // round value for browser zoom. desandro/masonry#928\n  isBoxSizeOuter = Math.round( getStyleSize( style.width ) ) == 200;\n  getSize.isBoxSizeOuter = isBoxSizeOuter;\n\n  body.removeChild( div );\n}\n\n// -------------------------- getSize -------------------------- //\n\nfunction getSize( elem ) {\n  setup();\n\n  // use querySeletor if elem is string\n  if ( typeof elem == 'string' ) {\n    elem = document.querySelector( elem );\n  }\n\n  // do not proceed on non-objects\n  if ( !elem || typeof elem != 'object' || !elem.nodeType ) {\n    return;\n  }\n\n  var style = getStyle( elem );\n\n  // if hidden, everything is 0\n  if ( style.display == 'none' ) {\n    return getZeroSize();\n  }\n\n  var size = {};\n  size.width = elem.offsetWidth;\n  size.height = elem.offsetHeight;\n\n  var isBorderBox = size.isBorderBox = style.boxSizing == 'border-box';\n\n  // get all measurements\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    var value = style[ measurement ];\n    var num = parseFloat( value );\n    // any 'auto', 'medium' value will be 0\n    size[ measurement ] = !isNaN( num ) ? num : 0;\n  }\n\n  var paddingWidth = size.paddingLeft + size.paddingRight;\n  var paddingHeight = size.paddingTop + size.paddingBottom;\n  var marginWidth = size.marginLeft + size.marginRight;\n  var marginHeight = size.marginTop + size.marginBottom;\n  var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n  var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n\n  var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;\n\n  // overwrite width and height if we can get it from style\n  var styleWidth = getStyleSize( style.width );\n  if ( styleWidth !== false ) {\n    size.width = styleWidth +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth );\n  }\n\n  var styleHeight = getStyleSize( style.height );\n  if ( styleHeight !== false ) {\n    size.height = styleHeight +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight );\n  }\n\n  size.innerWidth = size.width - ( paddingWidth + borderWidth );\n  size.innerHeight = size.height - ( paddingHeight + borderHeight );\n\n  size.outerWidth = size.width + marginWidth;\n  size.outerHeight = size.height + marginHeight;\n\n  return size;\n}\n\nreturn getSize;\n\n});\n\n/**\n * matchesSelector v2.0.2\n * matchesSelector( element, '.selector' )\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n  /*global define: false, module: false */\n  'use strict';\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'desandro-matches-selector/matches-selector',factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.matchesSelector = factory();\n  }\n\n}( window, function factory() {\n  'use strict';\n\n  var matchesMethod = ( function() {\n    var ElemProto = window.Element.prototype;\n    // check for the standard method name first\n    if ( ElemProto.matches ) {\n      return 'matches';\n    }\n    // check un-prefixed\n    if ( ElemProto.matchesSelector ) {\n      return 'matchesSelector';\n    }\n    // check vendor prefixes\n    var prefixes = [ 'webkit', 'moz', 'ms', 'o' ];\n\n    for ( var i=0; i < prefixes.length; i++ ) {\n      var prefix = prefixes[i];\n      var method = prefix + 'MatchesSelector';\n      if ( ElemProto[ method ] ) {\n        return method;\n      }\n    }\n  })();\n\n  return function matchesSelector( elem, selector ) {\n    return elem[ matchesMethod ]( selector );\n  };\n\n}));\n\n/**\n * Fizzy UI utils v2.0.7\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'fizzy-ui-utils/utils',[\n      'desandro-matches-selector/matches-selector'\n    ], function( matchesSelector ) {\n      return factory( window, matchesSelector );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('desandro-matches-selector')\n    );\n  } else {\n    // browser global\n    window.fizzyUIUtils = factory(\n      window,\n      window.matchesSelector\n    );\n  }\n\n}( window, function factory( window, matchesSelector ) {\n\n\n\nvar utils = {};\n\n// ----- extend ----- //\n\n// extends objects\nutils.extend = function( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n};\n\n// ----- modulo ----- //\n\nutils.modulo = function( num, div ) {\n  return ( ( num % div ) + div ) % div;\n};\n\n// ----- makeArray ----- //\n\nvar arraySlice = Array.prototype.slice;\n\n// turn element or nodeList into an array\nutils.makeArray = function( obj ) {\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    return obj;\n  }\n  // return empty array if undefined or null. #6\n  if ( obj === null || obj === undefined ) {\n    return [];\n  }\n\n  var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n  if ( isArrayLike ) {\n    // convert nodeList to array\n    return arraySlice.call( obj );\n  }\n\n  // array of single index\n  return [ obj ];\n};\n\n// ----- removeFrom ----- //\n\nutils.removeFrom = function( ary, obj ) {\n  var index = ary.indexOf( obj );\n  if ( index != -1 ) {\n    ary.splice( index, 1 );\n  }\n};\n\n// ----- getParent ----- //\n\nutils.getParent = function( elem, selector ) {\n  while ( elem.parentNode && elem != document.body ) {\n    elem = elem.parentNode;\n    if ( matchesSelector( elem, selector ) ) {\n      return elem;\n    }\n  }\n};\n\n// ----- getQueryElement ----- //\n\n// use element as selector string\nutils.getQueryElement = function( elem ) {\n  if ( typeof elem == 'string' ) {\n    return document.querySelector( elem );\n  }\n  return elem;\n};\n\n// ----- handleEvent ----- //\n\n// enable .ontype to trigger from .addEventListener( elem, 'type' )\nutils.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n// ----- filterFindElements ----- //\n\nutils.filterFindElements = function( elems, selector ) {\n  // make array of elems\n  elems = utils.makeArray( elems );\n  var ffElems = [];\n\n  elems.forEach( function( elem ) {\n    // check that elem is an actual element\n    if ( !( elem instanceof HTMLElement ) ) {\n      return;\n    }\n    // add elem if no selector\n    if ( !selector ) {\n      ffElems.push( elem );\n      return;\n    }\n    // filter & find items if we have a selector\n    // filter\n    if ( matchesSelector( elem, selector ) ) {\n      ffElems.push( elem );\n    }\n    // find children\n    var childElems = elem.querySelectorAll( selector );\n    // concat childElems to filterFound array\n    for ( var i=0; i < childElems.length; i++ ) {\n      ffElems.push( childElems[i] );\n    }\n  });\n\n  return ffElems;\n};\n\n// ----- debounceMethod ----- //\n\nutils.debounceMethod = function( _class, methodName, threshold ) {\n  threshold = threshold || 100;\n  // original method\n  var method = _class.prototype[ methodName ];\n  var timeoutName = methodName + 'Timeout';\n\n  _class.prototype[ methodName ] = function() {\n    var timeout = this[ timeoutName ];\n    clearTimeout( timeout );\n\n    var args = arguments;\n    var _this = this;\n    this[ timeoutName ] = setTimeout( function() {\n      method.apply( _this, args );\n      delete _this[ timeoutName ];\n    }, threshold );\n  };\n};\n\n// ----- docReady ----- //\n\nutils.docReady = function( callback ) {\n  var readyState = document.readyState;\n  if ( readyState == 'complete' || readyState == 'interactive' ) {\n    // do async to allow for other scripts to run. metafizzy/flickity#441\n    setTimeout( callback );\n  } else {\n    document.addEventListener( 'DOMContentLoaded', callback );\n  }\n};\n\n// ----- htmlInit ----- //\n\n// http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/\nutils.toDashed = function( str ) {\n  return str.replace( /(.)([A-Z])/g, function( match, $1, $2 ) {\n    return $1 + '-' + $2;\n  }).toLowerCase();\n};\n\nvar console = window.console;\n/**\n * allow user to initialize classes via [data-namespace] or .js-namespace class\n * htmlInit( Widget, 'widgetName' )\n * options are parsed from data-namespace-options\n */\nutils.htmlInit = function( WidgetClass, namespace ) {\n  utils.docReady( function() {\n    var dashedNamespace = utils.toDashed( namespace );\n    var dataAttr = 'data-' + dashedNamespace;\n    var dataAttrElems = document.querySelectorAll( '[' + dataAttr + ']' );\n    var jsDashElems = document.querySelectorAll( '.js-' + dashedNamespace );\n    var elems = utils.makeArray( dataAttrElems )\n      .concat( utils.makeArray( jsDashElems ) );\n    var dataOptionsAttr = dataAttr + '-options';\n    var jQuery = window.jQuery;\n\n    elems.forEach( function( elem ) {\n      var attr = elem.getAttribute( dataAttr ) ||\n        elem.getAttribute( dataOptionsAttr );\n      var options;\n      try {\n        options = attr && JSON.parse( attr );\n      } catch ( error ) {\n        // log error, do not initialize\n        if ( console ) {\n          console.error( 'Error parsing ' + dataAttr + ' on ' + elem.className +\n          ': ' + error );\n        }\n        return;\n      }\n      // initialize\n      var instance = new WidgetClass( elem, options );\n      // make available via $().data('namespace')\n      if ( jQuery ) {\n        jQuery.data( elem, namespace, instance );\n      }\n    });\n\n  });\n};\n\n// -----  ----- //\n\nreturn utils;\n\n}));\n\n/**\n * Outlayer Item\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( 'outlayer/item',[\n        'ev-emitter/ev-emitter',\n        'get-size/get-size'\n      ],\n      factory\n    );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory(\n      require('ev-emitter'),\n      require('get-size')\n    );\n  } else {\n    // browser global\n    window.Outlayer = {};\n    window.Outlayer.Item = factory(\n      window.EvEmitter,\n      window.getSize\n    );\n  }\n\n}( window, function factory( EvEmitter, getSize ) {\n'use strict';\n\n// ----- helpers ----- //\n\nfunction isEmptyObj( obj ) {\n  for ( var prop in obj ) {\n    return false;\n  }\n  prop = null;\n  return true;\n}\n\n// -------------------------- CSS3 support -------------------------- //\n\n\nvar docElemStyle = document.documentElement.style;\n\nvar transitionProperty = typeof docElemStyle.transition == 'string' ?\n  'transition' : 'WebkitTransition';\nvar transformProperty = typeof docElemStyle.transform == 'string' ?\n  'transform' : 'WebkitTransform';\n\nvar transitionEndEvent = {\n  WebkitTransition: 'webkitTransitionEnd',\n  transition: 'transitionend'\n}[ transitionProperty ];\n\n// cache all vendor properties that could have vendor prefix\nvar vendorProperties = {\n  transform: transformProperty,\n  transition: transitionProperty,\n  transitionDuration: transitionProperty + 'Duration',\n  transitionProperty: transitionProperty + 'Property',\n  transitionDelay: transitionProperty + 'Delay'\n};\n\n// -------------------------- Item -------------------------- //\n\nfunction Item( element, layout ) {\n  if ( !element ) {\n    return;\n  }\n\n  this.element = element;\n  // parent layout class, i.e. Masonry, Isotope, or Packery\n  this.layout = layout;\n  this.position = {\n    x: 0,\n    y: 0\n  };\n\n  this._create();\n}\n\n// inherit EvEmitter\nvar proto = Item.prototype = Object.create( EvEmitter.prototype );\nproto.constructor = Item;\n\nproto._create = function() {\n  // transition objects\n  this._transn = {\n    ingProperties: {},\n    clean: {},\n    onEnd: {}\n  };\n\n  this.css({\n    position: 'absolute'\n  });\n};\n\n// trigger specified handler for event type\nproto.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n};\n\n/**\n * apply CSS styles to element\n * @param {Object} style\n */\nproto.css = function( style ) {\n  var elemStyle = this.element.style;\n\n  for ( var prop in style ) {\n    // use vendor property if available\n    var supportedProp = vendorProperties[ prop ] || prop;\n    elemStyle[ supportedProp ] = style[ prop ];\n  }\n};\n\n // measure position, and sets it\nproto.getPosition = function() {\n  var style = getComputedStyle( this.element );\n  var isOriginLeft = this.layout._getOption('originLeft');\n  var isOriginTop = this.layout._getOption('originTop');\n  var xValue = style[ isOriginLeft ? 'left' : 'right' ];\n  var yValue = style[ isOriginTop ? 'top' : 'bottom' ];\n  var x = parseFloat( xValue );\n  var y = parseFloat( yValue );\n  // convert percent to pixels\n  var layoutSize = this.layout.size;\n  if ( xValue.indexOf('%') != -1 ) {\n    x = ( x / 100 ) * layoutSize.width;\n  }\n  if ( yValue.indexOf('%') != -1 ) {\n    y = ( y / 100 ) * layoutSize.height;\n  }\n  // clean up 'auto' or other non-integer values\n  x = isNaN( x ) ? 0 : x;\n  y = isNaN( y ) ? 0 : y;\n  // remove padding from measurement\n  x -= isOriginLeft ? layoutSize.paddingLeft : layoutSize.paddingRight;\n  y -= isOriginTop ? layoutSize.paddingTop : layoutSize.paddingBottom;\n\n  this.position.x = x;\n  this.position.y = y;\n};\n\n// set settled position, apply padding\nproto.layoutPosition = function() {\n  var layoutSize = this.layout.size;\n  var style = {};\n  var isOriginLeft = this.layout._getOption('originLeft');\n  var isOriginTop = this.layout._getOption('originTop');\n\n  // x\n  var xPadding = isOriginLeft ? 'paddingLeft' : 'paddingRight';\n  var xProperty = isOriginLeft ? 'left' : 'right';\n  var xResetProperty = isOriginLeft ? 'right' : 'left';\n\n  var x = this.position.x + layoutSize[ xPadding ];\n  // set in percentage or pixels\n  style[ xProperty ] = this.getXValue( x );\n  // reset other property\n  style[ xResetProperty ] = '';\n\n  // y\n  var yPadding = isOriginTop ? 'paddingTop' : 'paddingBottom';\n  var yProperty = isOriginTop ? 'top' : 'bottom';\n  var yResetProperty = isOriginTop ? 'bottom' : 'top';\n\n  var y = this.position.y + layoutSize[ yPadding ];\n  // set in percentage or pixels\n  style[ yProperty ] = this.getYValue( y );\n  // reset other property\n  style[ yResetProperty ] = '';\n\n  this.css( style );\n  this.emitEvent( 'layout', [ this ] );\n};\n\nproto.getXValue = function( x ) {\n  var isHorizontal = this.layout._getOption('horizontal');\n  return this.layout.options.percentPosition && !isHorizontal ?\n    ( ( x / this.layout.size.width ) * 100 ) + '%' : x + 'px';\n};\n\nproto.getYValue = function( y ) {\n  var isHorizontal = this.layout._getOption('horizontal');\n  return this.layout.options.percentPosition && isHorizontal ?\n    ( ( y / this.layout.size.height ) * 100 ) + '%' : y + 'px';\n};\n\nproto._transitionTo = function( x, y ) {\n  this.getPosition();\n  // get current x & y from top/left\n  var curX = this.position.x;\n  var curY = this.position.y;\n\n  var didNotMove = x == this.position.x && y == this.position.y;\n\n  // save end position\n  this.setPosition( x, y );\n\n  // if did not move and not transitioning, just go to layout\n  if ( didNotMove && !this.isTransitioning ) {\n    this.layoutPosition();\n    return;\n  }\n\n  var transX = x - curX;\n  var transY = y - curY;\n  var transitionStyle = {};\n  transitionStyle.transform = this.getTranslate( transX, transY );\n\n  this.transition({\n    to: transitionStyle,\n    onTransitionEnd: {\n      transform: this.layoutPosition\n    },\n    isCleaning: true\n  });\n};\n\nproto.getTranslate = function( x, y ) {\n  // flip cooridinates if origin on right or bottom\n  var isOriginLeft = this.layout._getOption('originLeft');\n  var isOriginTop = this.layout._getOption('originTop');\n  x = isOriginLeft ? x : -x;\n  y = isOriginTop ? y : -y;\n  return 'translate3d(' + x + 'px, ' + y + 'px, 0)';\n};\n\n// non transition + transform support\nproto.goTo = function( x, y ) {\n  this.setPosition( x, y );\n  this.layoutPosition();\n};\n\nproto.moveTo = proto._transitionTo;\n\nproto.setPosition = function( x, y ) {\n  this.position.x = parseFloat( x );\n  this.position.y = parseFloat( y );\n};\n\n// ----- transition ----- //\n\n/**\n * @param {Object} style - CSS\n * @param {Function} onTransitionEnd\n */\n\n// non transition, just trigger callback\nproto._nonTransition = function( args ) {\n  this.css( args.to );\n  if ( args.isCleaning ) {\n    this._removeStyles( args.to );\n  }\n  for ( var prop in args.onTransitionEnd ) {\n    args.onTransitionEnd[ prop ].call( this );\n  }\n};\n\n/**\n * proper transition\n * @param {Object} args - arguments\n *   @param {Object} to - style to transition to\n *   @param {Object} from - style to start transition from\n *   @param {Boolean} isCleaning - removes transition styles after transition\n *   @param {Function} onTransitionEnd - callback\n */\nproto.transition = function( args ) {\n  // redirect to nonTransition if no transition duration\n  if ( !parseFloat( this.layout.options.transitionDuration ) ) {\n    this._nonTransition( args );\n    return;\n  }\n\n  var _transition = this._transn;\n  // keep track of onTransitionEnd callback by css property\n  for ( var prop in args.onTransitionEnd ) {\n    _transition.onEnd[ prop ] = args.onTransitionEnd[ prop ];\n  }\n  // keep track of properties that are transitioning\n  for ( prop in args.to ) {\n    _transition.ingProperties[ prop ] = true;\n    // keep track of properties to clean up when transition is done\n    if ( args.isCleaning ) {\n      _transition.clean[ prop ] = true;\n    }\n  }\n\n  // set from styles\n  if ( args.from ) {\n    this.css( args.from );\n    // force redraw. http://blog.alexmaccaw.com/css-transitions\n    var h = this.element.offsetHeight;\n    // hack for JSHint to hush about unused var\n    h = null;\n  }\n  // enable transition\n  this.enableTransition( args.to );\n  // set styles that are transitioning\n  this.css( args.to );\n\n  this.isTransitioning = true;\n\n};\n\n// dash before all cap letters, including first for\n// WebkitTransform => -webkit-transform\nfunction toDashedAll( str ) {\n  return str.replace( /([A-Z])/g, function( $1 ) {\n    return '-' + $1.toLowerCase();\n  });\n}\n\nvar transitionProps = 'opacity,' + toDashedAll( transformProperty );\n\nproto.enableTransition = function(/* style */) {\n  // HACK changing transitionProperty during a transition\n  // will cause transition to jump\n  if ( this.isTransitioning ) {\n    return;\n  }\n\n  // make `transition: foo, bar, baz` from style object\n  // HACK un-comment this when enableTransition can work\n  // while a transition is happening\n  // var transitionValues = [];\n  // for ( var prop in style ) {\n  //   // dash-ify camelCased properties like WebkitTransition\n  //   prop = vendorProperties[ prop ] || prop;\n  //   transitionValues.push( toDashedAll( prop ) );\n  // }\n  // munge number to millisecond, to match stagger\n  var duration = this.layout.options.transitionDuration;\n  duration = typeof duration == 'number' ? duration + 'ms' : duration;\n  // enable transition styles\n  this.css({\n    transitionProperty: transitionProps,\n    transitionDuration: duration,\n    transitionDelay: this.staggerDelay || 0\n  });\n  // listen for transition end event\n  this.element.addEventListener( transitionEndEvent, this, false );\n};\n\n// ----- events ----- //\n\nproto.onwebkitTransitionEnd = function( event ) {\n  this.ontransitionend( event );\n};\n\nproto.onotransitionend = function( event ) {\n  this.ontransitionend( event );\n};\n\n// properties that I munge to make my life easier\nvar dashedVendorProperties = {\n  '-webkit-transform': 'transform'\n};\n\nproto.ontransitionend = function( event ) {\n  // disregard bubbled events from children\n  if ( event.target !== this.element ) {\n    return;\n  }\n  var _transition = this._transn;\n  // get property name of transitioned property, convert to prefix-free\n  var propertyName = dashedVendorProperties[ event.propertyName ] || event.propertyName;\n\n  // remove property that has completed transitioning\n  delete _transition.ingProperties[ propertyName ];\n  // check if any properties are still transitioning\n  if ( isEmptyObj( _transition.ingProperties ) ) {\n    // all properties have completed transitioning\n    this.disableTransition();\n  }\n  // clean style\n  if ( propertyName in _transition.clean ) {\n    // clean up style\n    this.element.style[ event.propertyName ] = '';\n    delete _transition.clean[ propertyName ];\n  }\n  // trigger onTransitionEnd callback\n  if ( propertyName in _transition.onEnd ) {\n    var onTransitionEnd = _transition.onEnd[ propertyName ];\n    onTransitionEnd.call( this );\n    delete _transition.onEnd[ propertyName ];\n  }\n\n  this.emitEvent( 'transitionEnd', [ this ] );\n};\n\nproto.disableTransition = function() {\n  this.removeTransitionStyles();\n  this.element.removeEventListener( transitionEndEvent, this, false );\n  this.isTransitioning = false;\n};\n\n/**\n * removes style property from element\n * @param {Object} style\n**/\nproto._removeStyles = function( style ) {\n  // clean up transition styles\n  var cleanStyle = {};\n  for ( var prop in style ) {\n    cleanStyle[ prop ] = '';\n  }\n  this.css( cleanStyle );\n};\n\nvar cleanTransitionStyle = {\n  transitionProperty: '',\n  transitionDuration: '',\n  transitionDelay: ''\n};\n\nproto.removeTransitionStyles = function() {\n  // remove transition\n  this.css( cleanTransitionStyle );\n};\n\n// ----- stagger ----- //\n\nproto.stagger = function( delay ) {\n  delay = isNaN( delay ) ? 0 : delay;\n  this.staggerDelay = delay + 'ms';\n};\n\n// ----- show/hide/remove ----- //\n\n// remove element from DOM\nproto.removeElem = function() {\n  this.element.parentNode.removeChild( this.element );\n  // remove display: none\n  this.css({ display: '' });\n  this.emitEvent( 'remove', [ this ] );\n};\n\nproto.remove = function() {\n  // just remove element if no transition support or no transition\n  if ( !transitionProperty || !parseFloat( this.layout.options.transitionDuration ) ) {\n    this.removeElem();\n    return;\n  }\n\n  // start transition\n  this.once( 'transitionEnd', function() {\n    this.removeElem();\n  });\n  this.hide();\n};\n\nproto.reveal = function() {\n  delete this.isHidden;\n  // remove display: none\n  this.css({ display: '' });\n\n  var options = this.layout.options;\n\n  var onTransitionEnd = {};\n  var transitionEndProperty = this.getHideRevealTransitionEndProperty('visibleStyle');\n  onTransitionEnd[ transitionEndProperty ] = this.onRevealTransitionEnd;\n\n  this.transition({\n    from: options.hiddenStyle,\n    to: options.visibleStyle,\n    isCleaning: true,\n    onTransitionEnd: onTransitionEnd\n  });\n};\n\nproto.onRevealTransitionEnd = function() {\n  // check if still visible\n  // during transition, item may have been hidden\n  if ( !this.isHidden ) {\n    this.emitEvent('reveal');\n  }\n};\n\n/**\n * get style property use for hide/reveal transition end\n * @param {String} styleProperty - hiddenStyle/visibleStyle\n * @returns {String}\n */\nproto.getHideRevealTransitionEndProperty = function( styleProperty ) {\n  var optionStyle = this.layout.options[ styleProperty ];\n  // use opacity\n  if ( optionStyle.opacity ) {\n    return 'opacity';\n  }\n  // get first property\n  for ( var prop in optionStyle ) {\n    return prop;\n  }\n};\n\nproto.hide = function() {\n  // set flag\n  this.isHidden = true;\n  // remove display: none\n  this.css({ display: '' });\n\n  var options = this.layout.options;\n\n  var onTransitionEnd = {};\n  var transitionEndProperty = this.getHideRevealTransitionEndProperty('hiddenStyle');\n  onTransitionEnd[ transitionEndProperty ] = this.onHideTransitionEnd;\n\n  this.transition({\n    from: options.visibleStyle,\n    to: options.hiddenStyle,\n    // keep hidden stuff hidden\n    isCleaning: true,\n    onTransitionEnd: onTransitionEnd\n  });\n};\n\nproto.onHideTransitionEnd = function() {\n  // check if still hidden\n  // during transition, item may have been un-hidden\n  if ( this.isHidden ) {\n    this.css({ display: 'none' });\n    this.emitEvent('hide');\n  }\n};\n\nproto.destroy = function() {\n  this.css({\n    position: '',\n    left: '',\n    right: '',\n    top: '',\n    bottom: '',\n    transition: '',\n    transform: ''\n  });\n};\n\nreturn Item;\n\n}));\n\n/*!\n * Outlayer v2.1.1\n * the brains and guts of a layout library\n * MIT license\n */\n\n( function( window, factory ) {\n  'use strict';\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( 'outlayer/outlayer',[\n        'ev-emitter/ev-emitter',\n        'get-size/get-size',\n        'fizzy-ui-utils/utils',\n        './item'\n      ],\n      function( EvEmitter, getSize, utils, Item ) {\n        return factory( window, EvEmitter, getSize, utils, Item);\n      }\n    );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory(\n      window,\n      require('ev-emitter'),\n      require('get-size'),\n      require('fizzy-ui-utils'),\n      require('./item')\n    );\n  } else {\n    // browser global\n    window.Outlayer = factory(\n      window,\n      window.EvEmitter,\n      window.getSize,\n      window.fizzyUIUtils,\n      window.Outlayer.Item\n    );\n  }\n\n}( window, function factory( window, EvEmitter, getSize, utils, Item ) {\n'use strict';\n\n// ----- vars ----- //\n\nvar console = window.console;\nvar jQuery = window.jQuery;\nvar noop = function() {};\n\n// -------------------------- Outlayer -------------------------- //\n\n// globally unique identifiers\nvar GUID = 0;\n// internal store of all Outlayer intances\nvar instances = {};\n\n\n/**\n * @param {Element, String} element\n * @param {Object} options\n * @constructor\n */\nfunction Outlayer( element, options ) {\n  var queryElement = utils.getQueryElement( element );\n  if ( !queryElement ) {\n    if ( console ) {\n      console.error( 'Bad element for ' + this.constructor.namespace +\n        ': ' + ( queryElement || element ) );\n    }\n    return;\n  }\n  this.element = queryElement;\n  // add jQuery\n  if ( jQuery ) {\n    this.$element = jQuery( this.element );\n  }\n\n  // options\n  this.options = utils.extend( {}, this.constructor.defaults );\n  this.option( options );\n\n  // add id for Outlayer.getFromElement\n  var id = ++GUID;\n  this.element.outlayerGUID = id; // expando\n  instances[ id ] = this; // associate via id\n\n  // kick it off\n  this._create();\n\n  var isInitLayout = this._getOption('initLayout');\n  if ( isInitLayout ) {\n    this.layout();\n  }\n}\n\n// settings are for internal use only\nOutlayer.namespace = 'outlayer';\nOutlayer.Item = Item;\n\n// default options\nOutlayer.defaults = {\n  containerStyle: {\n    position: 'relative'\n  },\n  initLayout: true,\n  originLeft: true,\n  originTop: true,\n  resize: true,\n  resizeContainer: true,\n  // item options\n  transitionDuration: '0.4s',\n  hiddenStyle: {\n    opacity: 0,\n    transform: 'scale(0.001)'\n  },\n  visibleStyle: {\n    opacity: 1,\n    transform: 'scale(1)'\n  }\n};\n\nvar proto = Outlayer.prototype;\n// inherit EvEmitter\nutils.extend( proto, EvEmitter.prototype );\n\n/**\n * set options\n * @param {Object} opts\n */\nproto.option = function( opts ) {\n  utils.extend( this.options, opts );\n};\n\n/**\n * get backwards compatible option value, check old name\n */\nproto._getOption = function( option ) {\n  var oldOption = this.constructor.compatOptions[ option ];\n  return oldOption && this.options[ oldOption ] !== undefined ?\n    this.options[ oldOption ] : this.options[ option ];\n};\n\nOutlayer.compatOptions = {\n  // currentName: oldName\n  initLayout: 'isInitLayout',\n  horizontal: 'isHorizontal',\n  layoutInstant: 'isLayoutInstant',\n  originLeft: 'isOriginLeft',\n  originTop: 'isOriginTop',\n  resize: 'isResizeBound',\n  resizeContainer: 'isResizingContainer'\n};\n\nproto._create = function() {\n  // get items from children\n  this.reloadItems();\n  // elements that affect layout, but are not laid out\n  this.stamps = [];\n  this.stamp( this.options.stamp );\n  // set container style\n  utils.extend( this.element.style, this.options.containerStyle );\n\n  // bind resize method\n  var canBindResize = this._getOption('resize');\n  if ( canBindResize ) {\n    this.bindResize();\n  }\n};\n\n// goes through all children again and gets bricks in proper order\nproto.reloadItems = function() {\n  // collection of item elements\n  this.items = this._itemize( this.element.children );\n};\n\n\n/**\n * turn elements into Outlayer.Items to be used in layout\n * @param {Array or NodeList or HTMLElement} elems\n * @returns {Array} items - collection of new Outlayer Items\n */\nproto._itemize = function( elems ) {\n\n  var itemElems = this._filterFindItemElements( elems );\n  var Item = this.constructor.Item;\n\n  // create new Outlayer Items for collection\n  var items = [];\n  for ( var i=0; i < itemElems.length; i++ ) {\n    var elem = itemElems[i];\n    var item = new Item( elem, this );\n    items.push( item );\n  }\n\n  return items;\n};\n\n/**\n * get item elements to be used in layout\n * @param {Array or NodeList or HTMLElement} elems\n * @returns {Array} items - item elements\n */\nproto._filterFindItemElements = function( elems ) {\n  return utils.filterFindElements( elems, this.options.itemSelector );\n};\n\n/**\n * getter method for getting item elements\n * @returns {Array} elems - collection of item elements\n */\nproto.getItemElements = function() {\n  return this.items.map( function( item ) {\n    return item.element;\n  });\n};\n\n// ----- init & layout ----- //\n\n/**\n * lays out all items\n */\nproto.layout = function() {\n  this._resetLayout();\n  this._manageStamps();\n\n  // don't animate first layout\n  var layoutInstant = this._getOption('layoutInstant');\n  var isInstant = layoutInstant !== undefined ?\n    layoutInstant : !this._isLayoutInited;\n  this.layoutItems( this.items, isInstant );\n\n  // flag for initalized\n  this._isLayoutInited = true;\n};\n\n// _init is alias for layout\nproto._init = proto.layout;\n\n/**\n * logic before any new layout\n */\nproto._resetLayout = function() {\n  this.getSize();\n};\n\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n};\n\n/**\n * get measurement from option, for columnWidth, rowHeight, gutter\n * if option is String -> get element from selector string, & get size of element\n * if option is Element -> get size of element\n * else use option as a number\n *\n * @param {String} measurement\n * @param {String} size - width or height\n * @private\n */\nproto._getMeasurement = function( measurement, size ) {\n  var option = this.options[ measurement ];\n  var elem;\n  if ( !option ) {\n    // default to 0\n    this[ measurement ] = 0;\n  } else {\n    // use option as an element\n    if ( typeof option == 'string' ) {\n      elem = this.element.querySelector( option );\n    } else if ( option instanceof HTMLElement ) {\n      elem = option;\n    }\n    // use size of element, if element\n    this[ measurement ] = elem ? getSize( elem )[ size ] : option;\n  }\n};\n\n/**\n * layout a collection of item elements\n * @api public\n */\nproto.layoutItems = function( items, isInstant ) {\n  items = this._getItemsForLayout( items );\n\n  this._layoutItems( items, isInstant );\n\n  this._postLayout();\n};\n\n/**\n * get the items to be laid out\n * you may want to skip over some items\n * @param {Array} items\n * @returns {Array} items\n */\nproto._getItemsForLayout = function( items ) {\n  return items.filter( function( item ) {\n    return !item.isIgnored;\n  });\n};\n\n/**\n * layout items\n * @param {Array} items\n * @param {Boolean} isInstant\n */\nproto._layoutItems = function( items, isInstant ) {\n  this._emitCompleteOnItems( 'layout', items );\n\n  if ( !items || !items.length ) {\n    // no items, emit event with empty array\n    return;\n  }\n\n  var queue = [];\n\n  items.forEach( function( item ) {\n    // get x/y object from method\n    var position = this._getItemLayoutPosition( item );\n    // enqueue\n    position.item = item;\n    position.isInstant = isInstant || item.isLayoutInstant;\n    queue.push( position );\n  }, this );\n\n  this._processLayoutQueue( queue );\n};\n\n/**\n * get item layout position\n * @param {Outlayer.Item} item\n * @returns {Object} x and y position\n */\nproto._getItemLayoutPosition = function( /* item */ ) {\n  return {\n    x: 0,\n    y: 0\n  };\n};\n\n/**\n * iterate over array and position each item\n * Reason being - separating this logic prevents 'layout invalidation'\n * thx @paul_irish\n * @param {Array} queue\n */\nproto._processLayoutQueue = function( queue ) {\n  this.updateStagger();\n  queue.forEach( function( obj, i ) {\n    this._positionItem( obj.item, obj.x, obj.y, obj.isInstant, i );\n  }, this );\n};\n\n// set stagger from option in milliseconds number\nproto.updateStagger = function() {\n  var stagger = this.options.stagger;\n  if ( stagger === null || stagger === undefined ) {\n    this.stagger = 0;\n    return;\n  }\n  this.stagger = getMilliseconds( stagger );\n  return this.stagger;\n};\n\n/**\n * Sets position of item in DOM\n * @param {Outlayer.Item} item\n * @param {Number} x - horizontal position\n * @param {Number} y - vertical position\n * @param {Boolean} isInstant - disables transitions\n */\nproto._positionItem = function( item, x, y, isInstant, i ) {\n  if ( isInstant ) {\n    // if not transition, just set CSS\n    item.goTo( x, y );\n  } else {\n    item.stagger( i * this.stagger );\n    item.moveTo( x, y );\n  }\n};\n\n/**\n * Any logic you want to do after each layout,\n * i.e. size the container\n */\nproto._postLayout = function() {\n  this.resizeContainer();\n};\n\nproto.resizeContainer = function() {\n  var isResizingContainer = this._getOption('resizeContainer');\n  if ( !isResizingContainer ) {\n    return;\n  }\n  var size = this._getContainerSize();\n  if ( size ) {\n    this._setContainerMeasure( size.width, true );\n    this._setContainerMeasure( size.height, false );\n  }\n};\n\n/**\n * Sets width or height of container if returned\n * @returns {Object} size\n *   @param {Number} width\n *   @param {Number} height\n */\nproto._getContainerSize = noop;\n\n/**\n * @param {Number} measure - size of width or height\n * @param {Boolean} isWidth\n */\nproto._setContainerMeasure = function( measure, isWidth ) {\n  if ( measure === undefined ) {\n    return;\n  }\n\n  var elemSize = this.size;\n  // add padding and border width if border box\n  if ( elemSize.isBorderBox ) {\n    measure += isWidth ? elemSize.paddingLeft + elemSize.paddingRight +\n      elemSize.borderLeftWidth + elemSize.borderRightWidth :\n      elemSize.paddingBottom + elemSize.paddingTop +\n      elemSize.borderTopWidth + elemSize.borderBottomWidth;\n  }\n\n  measure = Math.max( measure, 0 );\n  this.element.style[ isWidth ? 'width' : 'height' ] = measure + 'px';\n};\n\n/**\n * emit eventComplete on a collection of items events\n * @param {String} eventName\n * @param {Array} items - Outlayer.Items\n */\nproto._emitCompleteOnItems = function( eventName, items ) {\n  var _this = this;\n  function onComplete() {\n    _this.dispatchEvent( eventName + 'Complete', null, [ items ] );\n  }\n\n  var count = items.length;\n  if ( !items || !count ) {\n    onComplete();\n    return;\n  }\n\n  var doneCount = 0;\n  function tick() {\n    doneCount++;\n    if ( doneCount == count ) {\n      onComplete();\n    }\n  }\n\n  // bind callback\n  items.forEach( function( item ) {\n    item.once( eventName, tick );\n  });\n};\n\n/**\n * emits events via EvEmitter and jQuery events\n * @param {String} type - name of event\n * @param {Event} event - original event\n * @param {Array} args - extra arguments\n */\nproto.dispatchEvent = function( type, event, args ) {\n  // add original event to arguments\n  var emitArgs = event ? [ event ].concat( args ) : args;\n  this.emitEvent( type, emitArgs );\n\n  if ( jQuery ) {\n    // set this.$element\n    this.$element = this.$element || jQuery( this.element );\n    if ( event ) {\n      // create jQuery event\n      var $event = jQuery.Event( event );\n      $event.type = type;\n      this.$element.trigger( $event, args );\n    } else {\n      // just trigger with type if no event available\n      this.$element.trigger( type, args );\n    }\n  }\n};\n\n// -------------------------- ignore & stamps -------------------------- //\n\n\n/**\n * keep item in collection, but do not lay it out\n * ignored items do not get skipped in layout\n * @param {Element} elem\n */\nproto.ignore = function( elem ) {\n  var item = this.getItem( elem );\n  if ( item ) {\n    item.isIgnored = true;\n  }\n};\n\n/**\n * return item to layout collection\n * @param {Element} elem\n */\nproto.unignore = function( elem ) {\n  var item = this.getItem( elem );\n  if ( item ) {\n    delete item.isIgnored;\n  }\n};\n\n/**\n * adds elements to stamps\n * @param {NodeList, Array, Element, or String} elems\n */\nproto.stamp = function( elems ) {\n  elems = this._find( elems );\n  if ( !elems ) {\n    return;\n  }\n\n  this.stamps = this.stamps.concat( elems );\n  // ignore\n  elems.forEach( this.ignore, this );\n};\n\n/**\n * removes elements to stamps\n * @param {NodeList, Array, or Element} elems\n */\nproto.unstamp = function( elems ) {\n  elems = this._find( elems );\n  if ( !elems ){\n    return;\n  }\n\n  elems.forEach( function( elem ) {\n    // filter out removed stamp elements\n    utils.removeFrom( this.stamps, elem );\n    this.unignore( elem );\n  }, this );\n};\n\n/**\n * finds child elements\n * @param {NodeList, Array, Element, or String} elems\n * @returns {Array} elems\n */\nproto._find = function( elems ) {\n  if ( !elems ) {\n    return;\n  }\n  // if string, use argument as selector string\n  if ( typeof elems == 'string' ) {\n    elems = this.element.querySelectorAll( elems );\n  }\n  elems = utils.makeArray( elems );\n  return elems;\n};\n\nproto._manageStamps = function() {\n  if ( !this.stamps || !this.stamps.length ) {\n    return;\n  }\n\n  this._getBoundingRect();\n\n  this.stamps.forEach( this._manageStamp, this );\n};\n\n// update boundingLeft / Top\nproto._getBoundingRect = function() {\n  // get bounding rect for container element\n  var boundingRect = this.element.getBoundingClientRect();\n  var size = this.size;\n  this._boundingRect = {\n    left: boundingRect.left + size.paddingLeft + size.borderLeftWidth,\n    top: boundingRect.top + size.paddingTop + size.borderTopWidth,\n    right: boundingRect.right - ( size.paddingRight + size.borderRightWidth ),\n    bottom: boundingRect.bottom - ( size.paddingBottom + size.borderBottomWidth )\n  };\n};\n\n/**\n * @param {Element} stamp\n**/\nproto._manageStamp = noop;\n\n/**\n * get x/y position of element relative to container element\n * @param {Element} elem\n * @returns {Object} offset - has left, top, right, bottom\n */\nproto._getElementOffset = function( elem ) {\n  var boundingRect = elem.getBoundingClientRect();\n  var thisRect = this._boundingRect;\n  var size = getSize( elem );\n  var offset = {\n    left: boundingRect.left - thisRect.left - size.marginLeft,\n    top: boundingRect.top - thisRect.top - size.marginTop,\n    right: thisRect.right - boundingRect.right - size.marginRight,\n    bottom: thisRect.bottom - boundingRect.bottom - size.marginBottom\n  };\n  return offset;\n};\n\n// -------------------------- resize -------------------------- //\n\n// enable event handlers for listeners\n// i.e. resize -> onresize\nproto.handleEvent = utils.handleEvent;\n\n/**\n * Bind layout to window resizing\n */\nproto.bindResize = function() {\n  window.addEventListener( 'resize', this );\n  this.isResizeBound = true;\n};\n\n/**\n * Unbind layout to window resizing\n */\nproto.unbindResize = function() {\n  window.removeEventListener( 'resize', this );\n  this.isResizeBound = false;\n};\n\nproto.onresize = function() {\n  this.resize();\n};\n\nutils.debounceMethod( Outlayer, 'onresize', 100 );\n\nproto.resize = function() {\n  // don't trigger if size did not change\n  // or if resize was unbound. See #9\n  if ( !this.isResizeBound || !this.needsResizeLayout() ) {\n    return;\n  }\n\n  this.layout();\n};\n\n/**\n * check if layout is needed post layout\n * @returns Boolean\n */\nproto.needsResizeLayout = function() {\n  var size = getSize( this.element );\n  // check that this.size and size are there\n  // IE8 triggers resize on body size change, so they might not be\n  var hasSizes = this.size && size;\n  return hasSizes && size.innerWidth !== this.size.innerWidth;\n};\n\n// -------------------------- methods -------------------------- //\n\n/**\n * add items to Outlayer instance\n * @param {Array or NodeList or Element} elems\n * @returns {Array} items - Outlayer.Items\n**/\nproto.addItems = function( elems ) {\n  var items = this._itemize( elems );\n  // add items to collection\n  if ( items.length ) {\n    this.items = this.items.concat( items );\n  }\n  return items;\n};\n\n/**\n * Layout newly-appended item elements\n * @param {Array or NodeList or Element} elems\n */\nproto.appended = function( elems ) {\n  var items = this.addItems( elems );\n  if ( !items.length ) {\n    return;\n  }\n  // layout and reveal just the new items\n  this.layoutItems( items, true );\n  this.reveal( items );\n};\n\n/**\n * Layout prepended elements\n * @param {Array or NodeList or Element} elems\n */\nproto.prepended = function( elems ) {\n  var items = this._itemize( elems );\n  if ( !items.length ) {\n    return;\n  }\n  // add items to beginning of collection\n  var previousItems = this.items.slice(0);\n  this.items = items.concat( previousItems );\n  // start new layout\n  this._resetLayout();\n  this._manageStamps();\n  // layout new stuff without transition\n  this.layoutItems( items, true );\n  this.reveal( items );\n  // layout previous items\n  this.layoutItems( previousItems );\n};\n\n/**\n * reveal a collection of items\n * @param {Array of Outlayer.Items} items\n */\nproto.reveal = function( items ) {\n  this._emitCompleteOnItems( 'reveal', items );\n  if ( !items || !items.length ) {\n    return;\n  }\n  var stagger = this.updateStagger();\n  items.forEach( function( item, i ) {\n    item.stagger( i * stagger );\n    item.reveal();\n  });\n};\n\n/**\n * hide a collection of items\n * @param {Array of Outlayer.Items} items\n */\nproto.hide = function( items ) {\n  this._emitCompleteOnItems( 'hide', items );\n  if ( !items || !items.length ) {\n    return;\n  }\n  var stagger = this.updateStagger();\n  items.forEach( function( item, i ) {\n    item.stagger( i * stagger );\n    item.hide();\n  });\n};\n\n/**\n * reveal item elements\n * @param {Array}, {Element}, {NodeList} items\n */\nproto.revealItemElements = function( elems ) {\n  var items = this.getItems( elems );\n  this.reveal( items );\n};\n\n/**\n * hide item elements\n * @param {Array}, {Element}, {NodeList} items\n */\nproto.hideItemElements = function( elems ) {\n  var items = this.getItems( elems );\n  this.hide( items );\n};\n\n/**\n * get Outlayer.Item, given an Element\n * @param {Element} elem\n * @param {Function} callback\n * @returns {Outlayer.Item} item\n */\nproto.getItem = function( elem ) {\n  // loop through items to get the one that matches\n  for ( var i=0; i < this.items.length; i++ ) {\n    var item = this.items[i];\n    if ( item.element == elem ) {\n      // return item\n      return item;\n    }\n  }\n};\n\n/**\n * get collection of Outlayer.Items, given Elements\n * @param {Array} elems\n * @returns {Array} items - Outlayer.Items\n */\nproto.getItems = function( elems ) {\n  elems = utils.makeArray( elems );\n  var items = [];\n  elems.forEach( function( elem ) {\n    var item = this.getItem( elem );\n    if ( item ) {\n      items.push( item );\n    }\n  }, this );\n\n  return items;\n};\n\n/**\n * remove element(s) from instance and DOM\n * @param {Array or NodeList or Element} elems\n */\nproto.remove = function( elems ) {\n  var removeItems = this.getItems( elems );\n\n  this._emitCompleteOnItems( 'remove', removeItems );\n\n  // bail if no items to remove\n  if ( !removeItems || !removeItems.length ) {\n    return;\n  }\n\n  removeItems.forEach( function( item ) {\n    item.remove();\n    // remove item from collection\n    utils.removeFrom( this.items, item );\n  }, this );\n};\n\n// ----- destroy ----- //\n\n// remove and disable Outlayer instance\nproto.destroy = function() {\n  // clean up dynamic styles\n  var style = this.element.style;\n  style.height = '';\n  style.position = '';\n  style.width = '';\n  // destroy items\n  this.items.forEach( function( item ) {\n    item.destroy();\n  });\n\n  this.unbindResize();\n\n  var id = this.element.outlayerGUID;\n  delete instances[ id ]; // remove reference to instance by id\n  delete this.element.outlayerGUID;\n  // remove data for jQuery\n  if ( jQuery ) {\n    jQuery.removeData( this.element, this.constructor.namespace );\n  }\n\n};\n\n// -------------------------- data -------------------------- //\n\n/**\n * get Outlayer instance from element\n * @param {Element} elem\n * @returns {Outlayer}\n */\nOutlayer.data = function( elem ) {\n  elem = utils.getQueryElement( elem );\n  var id = elem && elem.outlayerGUID;\n  return id && instances[ id ];\n};\n\n\n// -------------------------- create Outlayer class -------------------------- //\n\n/**\n * create a layout class\n * @param {String} namespace\n */\nOutlayer.create = function( namespace, options ) {\n  // sub-class Outlayer\n  var Layout = subclass( Outlayer );\n  // apply new options and compatOptions\n  Layout.defaults = utils.extend( {}, Outlayer.defaults );\n  utils.extend( Layout.defaults, options );\n  Layout.compatOptions = utils.extend( {}, Outlayer.compatOptions  );\n\n  Layout.namespace = namespace;\n\n  Layout.data = Outlayer.data;\n\n  // sub-class Item\n  Layout.Item = subclass( Item );\n\n  // -------------------------- declarative -------------------------- //\n\n  utils.htmlInit( Layout, namespace );\n\n  // -------------------------- jQuery bridge -------------------------- //\n\n  // make into jQuery plugin\n  if ( jQuery && jQuery.bridget ) {\n    jQuery.bridget( namespace, Layout );\n  }\n\n  return Layout;\n};\n\nfunction subclass( Parent ) {\n  function SubClass() {\n    Parent.apply( this, arguments );\n  }\n\n  SubClass.prototype = Object.create( Parent.prototype );\n  SubClass.prototype.constructor = SubClass;\n\n  return SubClass;\n}\n\n// ----- helpers ----- //\n\n// how many milliseconds are in each unit\nvar msUnits = {\n  ms: 1,\n  s: 1000\n};\n\n// munge time-like parameter into millisecond number\n// '0.4s' -> 40\nfunction getMilliseconds( time ) {\n  if ( typeof time == 'number' ) {\n    return time;\n  }\n  var matches = time.match( /(^\\d*\\.?\\d*)(\\w*)/ );\n  var num = matches && matches[1];\n  var unit = matches && matches[2];\n  if ( !num.length ) {\n    return 0;\n  }\n  num = parseFloat( num );\n  var mult = msUnits[ unit ] || 1;\n  return num * mult;\n}\n\n// ----- fin ----- //\n\n// back in global\nOutlayer.Item = Item;\n\nreturn Outlayer;\n\n}));\n\n/**\n * Isotope Item\n**/\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'isotope-layout/js/item',[\n        'outlayer/outlayer'\n      ],\n      factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('outlayer')\n    );\n  } else {\n    // browser global\n    window.Isotope = window.Isotope || {};\n    window.Isotope.Item = factory(\n      window.Outlayer\n    );\n  }\n\n}( window, function factory( Outlayer ) {\n'use strict';\n\n// -------------------------- Item -------------------------- //\n\n// sub-class Outlayer Item\nfunction Item() {\n  Outlayer.Item.apply( this, arguments );\n}\n\nvar proto = Item.prototype = Object.create( Outlayer.Item.prototype );\n\nvar _create = proto._create;\nproto._create = function() {\n  // assign id, used for original-order sorting\n  this.id = this.layout.itemGUID++;\n  _create.call( this );\n  this.sortData = {};\n};\n\nproto.updateSortData = function() {\n  if ( this.isIgnored ) {\n    return;\n  }\n  // default sorters\n  this.sortData.id = this.id;\n  // for backward compatibility\n  this.sortData['original-order'] = this.id;\n  this.sortData.random = Math.random();\n  // go thru getSortData obj and apply the sorters\n  var getSortData = this.layout.options.getSortData;\n  var sorters = this.layout._sorters;\n  for ( var key in getSortData ) {\n    var sorter = sorters[ key ];\n    this.sortData[ key ] = sorter( this.element, this );\n  }\n};\n\nvar _destroy = proto.destroy;\nproto.destroy = function() {\n  // call super\n  _destroy.apply( this, arguments );\n  // reset display, #741\n  this.css({\n    display: ''\n  });\n};\n\nreturn Item;\n\n}));\n\n/**\n * Isotope LayoutMode\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'isotope-layout/js/layout-mode',[\n        'get-size/get-size',\n        'outlayer/outlayer'\n      ],\n      factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('get-size'),\n      require('outlayer')\n    );\n  } else {\n    // browser global\n    window.Isotope = window.Isotope || {};\n    window.Isotope.LayoutMode = factory(\n      window.getSize,\n      window.Outlayer\n    );\n  }\n\n}( window, function factory( getSize, Outlayer ) {\n  'use strict';\n\n  // layout mode class\n  function LayoutMode( isotope ) {\n    this.isotope = isotope;\n    // link properties\n    if ( isotope ) {\n      this.options = isotope.options[ this.namespace ];\n      this.element = isotope.element;\n      this.items = isotope.filteredItems;\n      this.size = isotope.size;\n    }\n  }\n\n  var proto = LayoutMode.prototype;\n\n  /**\n   * some methods should just defer to default Outlayer method\n   * and reference the Isotope instance as `this`\n  **/\n  var facadeMethods = [\n    '_resetLayout',\n    '_getItemLayoutPosition',\n    '_manageStamp',\n    '_getContainerSize',\n    '_getElementOffset',\n    'needsResizeLayout',\n    '_getOption'\n  ];\n\n  facadeMethods.forEach( function( methodName ) {\n    proto[ methodName ] = function() {\n      return Outlayer.prototype[ methodName ].apply( this.isotope, arguments );\n    };\n  });\n\n  // -----  ----- //\n\n  // for horizontal layout modes, check vertical size\n  proto.needsVerticalResizeLayout = function() {\n    // don't trigger if size did not change\n    var size = getSize( this.isotope.element );\n    // check that this.size and size are there\n    // IE8 triggers resize on body size change, so they might not be\n    var hasSizes = this.isotope.size && size;\n    return hasSizes && size.innerHeight != this.isotope.size.innerHeight;\n  };\n\n  // ----- measurements ----- //\n\n  proto._getMeasurement = function() {\n    this.isotope._getMeasurement.apply( this, arguments );\n  };\n\n  proto.getColumnWidth = function() {\n    this.getSegmentSize( 'column', 'Width' );\n  };\n\n  proto.getRowHeight = function() {\n    this.getSegmentSize( 'row', 'Height' );\n  };\n\n  /**\n   * get columnWidth or rowHeight\n   * segment: 'column' or 'row'\n   * size 'Width' or 'Height'\n  **/\n  proto.getSegmentSize = function( segment, size ) {\n    var segmentName = segment + size;\n    var outerSize = 'outer' + size;\n    // columnWidth / outerWidth // rowHeight / outerHeight\n    this._getMeasurement( segmentName, outerSize );\n    // got rowHeight or columnWidth, we can chill\n    if ( this[ segmentName ] ) {\n      return;\n    }\n    // fall back to item of first element\n    var firstItemSize = this.getFirstItemSize();\n    this[ segmentName ] = firstItemSize && firstItemSize[ outerSize ] ||\n      // or size of container\n      this.isotope.size[ 'inner' + size ];\n  };\n\n  proto.getFirstItemSize = function() {\n    var firstItem = this.isotope.filteredItems[0];\n    return firstItem && firstItem.element && getSize( firstItem.element );\n  };\n\n  // ----- methods that should reference isotope ----- //\n\n  proto.layout = function() {\n    this.isotope.layout.apply( this.isotope, arguments );\n  };\n\n  proto.getSize = function() {\n    this.isotope.getSize();\n    this.size = this.isotope.size;\n  };\n\n  // -------------------------- create -------------------------- //\n\n  LayoutMode.modes = {};\n\n  LayoutMode.create = function( namespace, options ) {\n\n    function Mode() {\n      LayoutMode.apply( this, arguments );\n    }\n\n    Mode.prototype = Object.create( proto );\n    Mode.prototype.constructor = Mode;\n\n    // default options\n    if ( options ) {\n      Mode.options = options;\n    }\n\n    Mode.prototype.namespace = namespace;\n    // register in Isotope\n    LayoutMode.modes[ namespace ] = Mode;\n\n    return Mode;\n  };\n\n  return LayoutMode;\n\n}));\n\n/*!\n * Masonry v4.2.1\n * Cascading grid layout library\n * https://masonry.desandro.com\n * MIT License\n * by David DeSandro\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'masonry-layout/masonry',[\n        'outlayer/outlayer',\n        'get-size/get-size'\n      ],\n      factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('outlayer'),\n      require('get-size')\n    );\n  } else {\n    // browser global\n    window.Masonry = factory(\n      window.Outlayer,\n      window.getSize\n    );\n  }\n\n}( window, function factory( Outlayer, getSize ) {\n\n\n\n// -------------------------- masonryDefinition -------------------------- //\n\n  // create an Outlayer layout class\n  var Masonry = Outlayer.create('masonry');\n  // isFitWidth -> fitWidth\n  Masonry.compatOptions.fitWidth = 'isFitWidth';\n\n  var proto = Masonry.prototype;\n\n  proto._resetLayout = function() {\n    this.getSize();\n    this._getMeasurement( 'columnWidth', 'outerWidth' );\n    this._getMeasurement( 'gutter', 'outerWidth' );\n    this.measureColumns();\n\n    // reset column Y\n    this.colYs = [];\n    for ( var i=0; i < this.cols; i++ ) {\n      this.colYs.push( 0 );\n    }\n\n    this.maxY = 0;\n    this.horizontalColIndex = 0;\n  };\n\n  proto.measureColumns = function() {\n    this.getContainerWidth();\n    // if columnWidth is 0, default to outerWidth of first item\n    if ( !this.columnWidth ) {\n      var firstItem = this.items[0];\n      var firstItemElem = firstItem && firstItem.element;\n      // columnWidth fall back to item of first element\n      this.columnWidth = firstItemElem && getSize( firstItemElem ).outerWidth ||\n        // if first elem has no width, default to size of container\n        this.containerWidth;\n    }\n\n    var columnWidth = this.columnWidth += this.gutter;\n\n    // calculate columns\n    var containerWidth = this.containerWidth + this.gutter;\n    var cols = containerWidth / columnWidth;\n    // fix rounding errors, typically with gutters\n    var excess = columnWidth - containerWidth % columnWidth;\n    // if overshoot is less than a pixel, round up, otherwise floor it\n    var mathMethod = excess && excess < 1 ? 'round' : 'floor';\n    cols = Math[ mathMethod ]( cols );\n    this.cols = Math.max( cols, 1 );\n  };\n\n  proto.getContainerWidth = function() {\n    // container is parent if fit width\n    var isFitWidth = this._getOption('fitWidth');\n    var container = isFitWidth ? this.element.parentNode : this.element;\n    // check that this.size and size are there\n    // IE8 triggers resize on body size change, so they might not be\n    var size = getSize( container );\n    this.containerWidth = size && size.innerWidth;\n  };\n\n  proto._getItemLayoutPosition = function( item ) {\n    item.getSize();\n    // how many columns does this brick span\n    var remainder = item.size.outerWidth % this.columnWidth;\n    var mathMethod = remainder && remainder < 1 ? 'round' : 'ceil';\n    // round if off by 1 pixel, otherwise use ceil\n    var colSpan = Math[ mathMethod ]( item.size.outerWidth / this.columnWidth );\n    colSpan = Math.min( colSpan, this.cols );\n    // use horizontal or top column position\n    var colPosMethod = this.options.horizontalOrder ?\n      '_getHorizontalColPosition' : '_getTopColPosition';\n    var colPosition = this[ colPosMethod ]( colSpan, item );\n    // position the brick\n    var position = {\n      x: this.columnWidth * colPosition.col,\n      y: colPosition.y\n    };\n    // apply setHeight to necessary columns\n    var setHeight = colPosition.y + item.size.outerHeight;\n    var setMax = colSpan + colPosition.col;\n    for ( var i = colPosition.col; i < setMax; i++ ) {\n      this.colYs[i] = setHeight;\n    }\n\n    return position;\n  };\n\n  proto._getTopColPosition = function( colSpan ) {\n    var colGroup = this._getTopColGroup( colSpan );\n    // get the minimum Y value from the columns\n    var minimumY = Math.min.apply( Math, colGroup );\n\n    return {\n      col: colGroup.indexOf( minimumY ),\n      y: minimumY,\n    };\n  };\n\n  /**\n   * @param {Number} colSpan - number of columns the element spans\n   * @returns {Array} colGroup\n   */\n  proto._getTopColGroup = function( colSpan ) {\n    if ( colSpan < 2 ) {\n      // if brick spans only one column, use all the column Ys\n      return this.colYs;\n    }\n\n    var colGroup = [];\n    // how many different places could this brick fit horizontally\n    var groupCount = this.cols + 1 - colSpan;\n    // for each group potential horizontal position\n    for ( var i = 0; i < groupCount; i++ ) {\n      colGroup[i] = this._getColGroupY( i, colSpan );\n    }\n    return colGroup;\n  };\n\n  proto._getColGroupY = function( col, colSpan ) {\n    if ( colSpan < 2 ) {\n      return this.colYs[ col ];\n    }\n    // make an array of colY values for that one group\n    var groupColYs = this.colYs.slice( col, col + colSpan );\n    // and get the max value of the array\n    return Math.max.apply( Math, groupColYs );\n  };\n\n  // get column position based on horizontal index. #873\n  proto._getHorizontalColPosition = function( colSpan, item ) {\n    var col = this.horizontalColIndex % this.cols;\n    var isOver = colSpan > 1 && col + colSpan > this.cols;\n    // shift to next row if item can't fit on current row\n    col = isOver ? 0 : col;\n    // don't let zero-size items take up space\n    var hasSize = item.size.outerWidth && item.size.outerHeight;\n    this.horizontalColIndex = hasSize ? col + colSpan : this.horizontalColIndex;\n\n    return {\n      col: col,\n      y: this._getColGroupY( col, colSpan ),\n    };\n  };\n\n  proto._manageStamp = function( stamp ) {\n    var stampSize = getSize( stamp );\n    var offset = this._getElementOffset( stamp );\n    // get the columns that this stamp affects\n    var isOriginLeft = this._getOption('originLeft');\n    var firstX = isOriginLeft ? offset.left : offset.right;\n    var lastX = firstX + stampSize.outerWidth;\n    var firstCol = Math.floor( firstX / this.columnWidth );\n    firstCol = Math.max( 0, firstCol );\n    var lastCol = Math.floor( lastX / this.columnWidth );\n    // lastCol should not go over if multiple of columnWidth #425\n    lastCol -= lastX % this.columnWidth ? 0 : 1;\n    lastCol = Math.min( this.cols - 1, lastCol );\n    // set colYs to bottom of the stamp\n\n    var isOriginTop = this._getOption('originTop');\n    var stampMaxY = ( isOriginTop ? offset.top : offset.bottom ) +\n      stampSize.outerHeight;\n    for ( var i = firstCol; i <= lastCol; i++ ) {\n      this.colYs[i] = Math.max( stampMaxY, this.colYs[i] );\n    }\n  };\n\n  proto._getContainerSize = function() {\n    this.maxY = Math.max.apply( Math, this.colYs );\n    var size = {\n      height: this.maxY\n    };\n\n    if ( this._getOption('fitWidth') ) {\n      size.width = this._getContainerFitWidth();\n    }\n\n    return size;\n  };\n\n  proto._getContainerFitWidth = function() {\n    var unusedCols = 0;\n    // count unused columns\n    var i = this.cols;\n    while ( --i ) {\n      if ( this.colYs[i] !== 0 ) {\n        break;\n      }\n      unusedCols++;\n    }\n    // fit container to columns that have been used\n    return ( this.cols - unusedCols ) * this.columnWidth - this.gutter;\n  };\n\n  proto.needsResizeLayout = function() {\n    var previousWidth = this.containerWidth;\n    this.getContainerWidth();\n    return previousWidth != this.containerWidth;\n  };\n\n  return Masonry;\n\n}));\n\n/*!\n * Masonry layout mode\n * sub-classes Masonry\n * https://masonry.desandro.com\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'isotope-layout/js/layout-modes/masonry',[\n        '../layout-mode',\n        'masonry-layout/masonry'\n      ],\n      factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('../layout-mode'),\n      require('masonry-layout')\n    );\n  } else {\n    // browser global\n    factory(\n      window.Isotope.LayoutMode,\n      window.Masonry\n    );\n  }\n\n}( window, function factory( LayoutMode, Masonry ) {\n'use strict';\n\n// -------------------------- masonryDefinition -------------------------- //\n\n  // create an Outlayer layout class\n  var MasonryMode = LayoutMode.create('masonry');\n\n  var proto = MasonryMode.prototype;\n\n  var keepModeMethods = {\n    _getElementOffset: true,\n    layout: true,\n    _getMeasurement: true\n  };\n\n  // inherit Masonry prototype\n  for ( var method in Masonry.prototype ) {\n    // do not inherit mode methods\n    if ( !keepModeMethods[ method ] ) {\n      proto[ method ] = Masonry.prototype[ method ];\n    }\n  }\n\n  var measureColumns = proto.measureColumns;\n  proto.measureColumns = function() {\n    // set items, used if measuring first item\n    this.items = this.isotope.filteredItems;\n    measureColumns.call( this );\n  };\n\n  // point to mode options for fitWidth\n  var _getOption = proto._getOption;\n  proto._getOption = function( option ) {\n    if ( option == 'fitWidth' ) {\n      return this.options.isFitWidth !== undefined ?\n        this.options.isFitWidth : this.options.fitWidth;\n    }\n    return _getOption.apply( this.isotope, arguments );\n  };\n\n  return MasonryMode;\n\n}));\n\n/**\n * fitRows layout mode\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'isotope-layout/js/layout-modes/fit-rows',[\n        '../layout-mode'\n      ],\n      factory );\n  } else if ( typeof exports == 'object' ) {\n    // CommonJS\n    module.exports = factory(\n      require('../layout-mode')\n    );\n  } else {\n    // browser global\n    factory(\n      window.Isotope.LayoutMode\n    );\n  }\n\n}( window, function factory( LayoutMode ) {\n'use strict';\n\nvar FitRows = LayoutMode.create('fitRows');\n\nvar proto = FitRows.prototype;\n\nproto._resetLayout = function() {\n  this.x = 0;\n  this.y = 0;\n  this.maxY = 0;\n  this._getMeasurement( 'gutter', 'outerWidth' );\n};\n\nproto._getItemLayoutPosition = function( item ) {\n  item.getSize();\n\n  var itemWidth = item.size.outerWidth + this.gutter;\n  // if this element cannot fit in the current row\n  var containerWidth = this.isotope.size.innerWidth + this.gutter;\n  if ( this.x !== 0 && itemWidth + this.x > containerWidth ) {\n    this.x = 0;\n    this.y = this.maxY;\n  }\n\n  var position = {\n    x: this.x,\n    y: this.y\n  };\n\n  this.maxY = Math.max( this.maxY, this.y + item.size.outerHeight );\n  this.x += itemWidth;\n\n  return position;\n};\n\nproto._getContainerSize = function() {\n  return { height: this.maxY };\n};\n\nreturn FitRows;\n\n}));\n\n/**\n * vertical layout mode\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'isotope-layout/js/layout-modes/vertical',[\n        '../layout-mode'\n      ],\n      factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('../layout-mode')\n    );\n  } else {\n    // browser global\n    factory(\n      window.Isotope.LayoutMode\n    );\n  }\n\n}( window, function factory( LayoutMode ) {\n'use strict';\n\nvar Vertical = LayoutMode.create( 'vertical', {\n  horizontalAlignment: 0\n});\n\nvar proto = Vertical.prototype;\n\nproto._resetLayout = function() {\n  this.y = 0;\n};\n\nproto._getItemLayoutPosition = function( item ) {\n  item.getSize();\n  var x = ( this.isotope.size.innerWidth - item.size.outerWidth ) *\n    this.options.horizontalAlignment;\n  var y = this.y;\n  this.y += item.size.outerHeight;\n  return { x: x, y: y };\n};\n\nproto._getContainerSize = function() {\n  return { height: this.y };\n};\n\nreturn Vertical;\n\n}));\n\n/*!\n * Isotope v3.0.6\n *\n * Licensed GPLv3 for open source use\n * or Isotope Commercial License for commercial use\n *\n * https://isotope.metafizzy.co\n * Copyright 2010-2018 Metafizzy\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n        'outlayer/outlayer',\n        'get-size/get-size',\n        'desandro-matches-selector/matches-selector',\n        'fizzy-ui-utils/utils',\n        'isotope-layout/js/item',\n        'isotope-layout/js/layout-mode',\n        // include default layout modes\n        'isotope-layout/js/layout-modes/masonry',\n        'isotope-layout/js/layout-modes/fit-rows',\n        'isotope-layout/js/layout-modes/vertical'\n      ],\n      function( Outlayer, getSize, matchesSelector, utils, Item, LayoutMode ) {\n        return factory( window, Outlayer, getSize, matchesSelector, utils, Item, LayoutMode );\n      });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('outlayer'),\n      require('get-size'),\n      require('desandro-matches-selector'),\n      require('fizzy-ui-utils'),\n      require('isotope-layout/js/item'),\n      require('isotope-layout/js/layout-mode'),\n      // include default layout modes\n      require('isotope-layout/js/layout-modes/masonry'),\n      require('isotope-layout/js/layout-modes/fit-rows'),\n      require('isotope-layout/js/layout-modes/vertical')\n    );\n  } else {\n    // browser global\n    window.Isotope = factory(\n      window,\n      window.Outlayer,\n      window.getSize,\n      window.matchesSelector,\n      window.fizzyUIUtils,\n      window.Isotope.Item,\n      window.Isotope.LayoutMode\n    );\n  }\n\n}( window, function factory( window, Outlayer, getSize, matchesSelector, utils,\n  Item, LayoutMode ) {\n\n\n\n// -------------------------- vars -------------------------- //\n\nvar jQuery = window.jQuery;\n\n// -------------------------- helpers -------------------------- //\n\nvar trim = String.prototype.trim ?\n  function( str ) {\n    return str.trim();\n  } :\n  function( str ) {\n    return str.replace( /^\\s+|\\s+$/g, '' );\n  };\n\n// -------------------------- isotopeDefinition -------------------------- //\n\n  // create an Outlayer layout class\n  var Isotope = Outlayer.create( 'isotope', {\n    layoutMode: 'masonry',\n    isJQueryFiltering: true,\n    sortAscending: true\n  });\n\n  Isotope.Item = Item;\n  Isotope.LayoutMode = LayoutMode;\n\n  var proto = Isotope.prototype;\n\n  proto._create = function() {\n    this.itemGUID = 0;\n    // functions that sort items\n    this._sorters = {};\n    this._getSorters();\n    // call super\n    Outlayer.prototype._create.call( this );\n\n    // create layout modes\n    this.modes = {};\n    // start filteredItems with all items\n    this.filteredItems = this.items;\n    // keep of track of sortBys\n    this.sortHistory = [ 'original-order' ];\n    // create from registered layout modes\n    for ( var name in LayoutMode.modes ) {\n      this._initLayoutMode( name );\n    }\n  };\n\n  proto.reloadItems = function() {\n    // reset item ID counter\n    this.itemGUID = 0;\n    // call super\n    Outlayer.prototype.reloadItems.call( this );\n  };\n\n  proto._itemize = function() {\n    var items = Outlayer.prototype._itemize.apply( this, arguments );\n    // assign ID for original-order\n    for ( var i=0; i < items.length; i++ ) {\n      var item = items[i];\n      item.id = this.itemGUID++;\n    }\n    this._updateItemsSortData( items );\n    return items;\n  };\n\n\n  // -------------------------- layout -------------------------- //\n\n  proto._initLayoutMode = function( name ) {\n    var Mode = LayoutMode.modes[ name ];\n    // set mode options\n    // HACK extend initial options, back-fill in default options\n    var initialOpts = this.options[ name ] || {};\n    this.options[ name ] = Mode.options ?\n      utils.extend( Mode.options, initialOpts ) : initialOpts;\n    // init layout mode instance\n    this.modes[ name ] = new Mode( this );\n  };\n\n\n  proto.layout = function() {\n    // if first time doing layout, do all magic\n    if ( !this._isLayoutInited && this._getOption('initLayout') ) {\n      this.arrange();\n      return;\n    }\n    this._layout();\n  };\n\n  // private method to be used in layout() & magic()\n  proto._layout = function() {\n    // don't animate first layout\n    var isInstant = this._getIsInstant();\n    // layout flow\n    this._resetLayout();\n    this._manageStamps();\n    this.layoutItems( this.filteredItems, isInstant );\n\n    // flag for initalized\n    this._isLayoutInited = true;\n  };\n\n  // filter + sort + layout\n  proto.arrange = function( opts ) {\n    // set any options pass\n    this.option( opts );\n    this._getIsInstant();\n    // filter, sort, and layout\n\n    // filter\n    var filtered = this._filter( this.items );\n    this.filteredItems = filtered.matches;\n\n    this._bindArrangeComplete();\n\n    if ( this._isInstant ) {\n      this._noTransition( this._hideReveal, [ filtered ] );\n    } else {\n      this._hideReveal( filtered );\n    }\n\n    this._sort();\n    this._layout();\n  };\n  // alias to _init for main plugin method\n  proto._init = proto.arrange;\n\n  proto._hideReveal = function( filtered ) {\n    this.reveal( filtered.needReveal );\n    this.hide( filtered.needHide );\n  };\n\n  // HACK\n  // Don't animate/transition first layout\n  // Or don't animate/transition other layouts\n  proto._getIsInstant = function() {\n    var isLayoutInstant = this._getOption('layoutInstant');\n    var isInstant = isLayoutInstant !== undefined ? isLayoutInstant :\n      !this._isLayoutInited;\n    this._isInstant = isInstant;\n    return isInstant;\n  };\n\n  // listen for layoutComplete, hideComplete and revealComplete\n  // to trigger arrangeComplete\n  proto._bindArrangeComplete = function() {\n    // listen for 3 events to trigger arrangeComplete\n    var isLayoutComplete, isHideComplete, isRevealComplete;\n    var _this = this;\n    function arrangeParallelCallback() {\n      if ( isLayoutComplete && isHideComplete && isRevealComplete ) {\n        _this.dispatchEvent( 'arrangeComplete', null, [ _this.filteredItems ] );\n      }\n    }\n    this.once( 'layoutComplete', function() {\n      isLayoutComplete = true;\n      arrangeParallelCallback();\n    });\n    this.once( 'hideComplete', function() {\n      isHideComplete = true;\n      arrangeParallelCallback();\n    });\n    this.once( 'revealComplete', function() {\n      isRevealComplete = true;\n      arrangeParallelCallback();\n    });\n  };\n\n  // -------------------------- filter -------------------------- //\n\n  proto._filter = function( items ) {\n    var filter = this.options.filter;\n    filter = filter || '*';\n    var matches = [];\n    var hiddenMatched = [];\n    var visibleUnmatched = [];\n\n    var test = this._getFilterTest( filter );\n\n    // test each item\n    for ( var i=0; i < items.length; i++ ) {\n      var item = items[i];\n      if ( item.isIgnored ) {\n        continue;\n      }\n      // add item to either matched or unmatched group\n      var isMatched = test( item );\n      // item.isFilterMatched = isMatched;\n      // add to matches if its a match\n      if ( isMatched ) {\n        matches.push( item );\n      }\n      // add to additional group if item needs to be hidden or revealed\n      if ( isMatched && item.isHidden ) {\n        hiddenMatched.push( item );\n      } else if ( !isMatched && !item.isHidden ) {\n        visibleUnmatched.push( item );\n      }\n    }\n\n    // return collections of items to be manipulated\n    return {\n      matches: matches,\n      needReveal: hiddenMatched,\n      needHide: visibleUnmatched\n    };\n  };\n\n  // get a jQuery, function, or a matchesSelector test given the filter\n  proto._getFilterTest = function( filter ) {\n    if ( jQuery && this.options.isJQueryFiltering ) {\n      // use jQuery\n      return function( item ) {\n        return jQuery( item.element ).is( filter );\n      };\n    }\n    if ( typeof filter == 'function' ) {\n      // use filter as function\n      return function( item ) {\n        return filter( item.element );\n      };\n    }\n    // default, use filter as selector string\n    return function( item ) {\n      return matchesSelector( item.element, filter );\n    };\n  };\n\n  // -------------------------- sorting -------------------------- //\n\n  /**\n   * @params {Array} elems\n   * @public\n   */\n  proto.updateSortData = function( elems ) {\n    // get items\n    var items;\n    if ( elems ) {\n      elems = utils.makeArray( elems );\n      items = this.getItems( elems );\n    } else {\n      // update all items if no elems provided\n      items = this.items;\n    }\n\n    this._getSorters();\n    this._updateItemsSortData( items );\n  };\n\n  proto._getSorters = function() {\n    var getSortData = this.options.getSortData;\n    for ( var key in getSortData ) {\n      var sorter = getSortData[ key ];\n      this._sorters[ key ] = mungeSorter( sorter );\n    }\n  };\n\n  /**\n   * @params {Array} items - of Isotope.Items\n   * @private\n   */\n  proto._updateItemsSortData = function( items ) {\n    // do not update if no items\n    var len = items && items.length;\n\n    for ( var i=0; len && i < len; i++ ) {\n      var item = items[i];\n      item.updateSortData();\n    }\n  };\n\n  // ----- munge sorter ----- //\n\n  // encapsulate this, as we just need mungeSorter\n  // other functions in here are just for munging\n  var mungeSorter = ( function() {\n    // add a magic layer to sorters for convienent shorthands\n    // `.foo-bar` will use the text of .foo-bar querySelector\n    // `[foo-bar]` will use attribute\n    // you can also add parser\n    // `.foo-bar parseInt` will parse that as a number\n    function mungeSorter( sorter ) {\n      // if not a string, return function or whatever it is\n      if ( typeof sorter != 'string' ) {\n        return sorter;\n      }\n      // parse the sorter string\n      var args = trim( sorter ).split(' ');\n      var query = args[0];\n      // check if query looks like [an-attribute]\n      var attrMatch = query.match( /^\\[(.+)\\]$/ );\n      var attr = attrMatch && attrMatch[1];\n      var getValue = getValueGetter( attr, query );\n      // use second argument as a parser\n      var parser = Isotope.sortDataParsers[ args[1] ];\n      // parse the value, if there was a parser\n      sorter = parser ? function( elem ) {\n        return elem && parser( getValue( elem ) );\n      } :\n      // otherwise just return value\n      function( elem ) {\n        return elem && getValue( elem );\n      };\n\n      return sorter;\n    }\n\n    // get an attribute getter, or get text of the querySelector\n    function getValueGetter( attr, query ) {\n      // if query looks like [foo-bar], get attribute\n      if ( attr ) {\n        return function getAttribute( elem ) {\n          return elem.getAttribute( attr );\n        };\n      }\n\n      // otherwise, assume its a querySelector, and get its text\n      return function getChildText( elem ) {\n        var child = elem.querySelector( query );\n        return child && child.textContent;\n      };\n    }\n\n    return mungeSorter;\n  })();\n\n  // parsers used in getSortData shortcut strings\n  Isotope.sortDataParsers = {\n    'parseInt': function( val ) {\n      return parseInt( val, 10 );\n    },\n    'parseFloat': function( val ) {\n      return parseFloat( val );\n    }\n  };\n\n  // ----- sort method ----- //\n\n  // sort filteredItem order\n  proto._sort = function() {\n    if ( !this.options.sortBy ) {\n      return;\n    }\n    // keep track of sortBy History\n    var sortBys = utils.makeArray( this.options.sortBy );\n    if ( !this._getIsSameSortBy( sortBys ) ) {\n      // concat all sortBy and sortHistory, add to front, oldest goes in last\n      this.sortHistory = sortBys.concat( this.sortHistory );\n    }\n    // sort magic\n    var itemSorter = getItemSorter( this.sortHistory, this.options.sortAscending );\n    this.filteredItems.sort( itemSorter );\n  };\n\n  // check if sortBys is same as start of sortHistory\n  proto._getIsSameSortBy = function( sortBys ) {\n    for ( var i=0; i < sortBys.length; i++ ) {\n      if ( sortBys[i] != this.sortHistory[i] ) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  // returns a function used for sorting\n  function getItemSorter( sortBys, sortAsc ) {\n    return function sorter( itemA, itemB ) {\n      // cycle through all sortKeys\n      for ( var i = 0; i < sortBys.length; i++ ) {\n        var sortBy = sortBys[i];\n        var a = itemA.sortData[ sortBy ];\n        var b = itemB.sortData[ sortBy ];\n        if ( a > b || a < b ) {\n          // if sortAsc is an object, use the value given the sortBy key\n          var isAscending = sortAsc[ sortBy ] !== undefined ? sortAsc[ sortBy ] : sortAsc;\n          var direction = isAscending ? 1 : -1;\n          return ( a > b ? 1 : -1 ) * direction;\n        }\n      }\n      return 0;\n    };\n  }\n\n  // -------------------------- methods -------------------------- //\n\n  // get layout mode\n  proto._mode = function() {\n    var layoutMode = this.options.layoutMode;\n    var mode = this.modes[ layoutMode ];\n    if ( !mode ) {\n      // TODO console.error\n      throw new Error( 'No layout mode: ' + layoutMode );\n    }\n    // HACK sync mode's options\n    // any options set after init for layout mode need to be synced\n    mode.options = this.options[ layoutMode ];\n    return mode;\n  };\n\n  proto._resetLayout = function() {\n    // trigger original reset layout\n    Outlayer.prototype._resetLayout.call( this );\n    this._mode()._resetLayout();\n  };\n\n  proto._getItemLayoutPosition = function( item  ) {\n    return this._mode()._getItemLayoutPosition( item );\n  };\n\n  proto._manageStamp = function( stamp ) {\n    this._mode()._manageStamp( stamp );\n  };\n\n  proto._getContainerSize = function() {\n    return this._mode()._getContainerSize();\n  };\n\n  proto.needsResizeLayout = function() {\n    return this._mode().needsResizeLayout();\n  };\n\n  // -------------------------- adding & removing -------------------------- //\n\n  // HEADS UP overwrites default Outlayer appended\n  proto.appended = function( elems ) {\n    var items = this.addItems( elems );\n    if ( !items.length ) {\n      return;\n    }\n    // filter, layout, reveal new items\n    var filteredItems = this._filterRevealAdded( items );\n    // add to filteredItems\n    this.filteredItems = this.filteredItems.concat( filteredItems );\n  };\n\n  // HEADS UP overwrites default Outlayer prepended\n  proto.prepended = function( elems ) {\n    var items = this._itemize( elems );\n    if ( !items.length ) {\n      return;\n    }\n    // start new layout\n    this._resetLayout();\n    this._manageStamps();\n    // filter, layout, reveal new items\n    var filteredItems = this._filterRevealAdded( items );\n    // layout previous items\n    this.layoutItems( this.filteredItems );\n    // add to items and filteredItems\n    this.filteredItems = filteredItems.concat( this.filteredItems );\n    this.items = items.concat( this.items );\n  };\n\n  proto._filterRevealAdded = function( items ) {\n    var filtered = this._filter( items );\n    this.hide( filtered.needHide );\n    // reveal all new items\n    this.reveal( filtered.matches );\n    // layout new items, no transition\n    this.layoutItems( filtered.matches, true );\n    return filtered.matches;\n  };\n\n  /**\n   * Filter, sort, and layout newly-appended item elements\n   * @param {Array or NodeList or Element} elems\n   */\n  proto.insert = function( elems ) {\n    var items = this.addItems( elems );\n    if ( !items.length ) {\n      return;\n    }\n    // append item elements\n    var i, item;\n    var len = items.length;\n    for ( i=0; i < len; i++ ) {\n      item = items[i];\n      this.element.appendChild( item.element );\n    }\n    // filter new stuff\n    var filteredInsertItems = this._filter( items ).matches;\n    // set flag\n    for ( i=0; i < len; i++ ) {\n      items[i].isLayoutInstant = true;\n    }\n    this.arrange();\n    // reset flag\n    for ( i=0; i < len; i++ ) {\n      delete items[i].isLayoutInstant;\n    }\n    this.reveal( filteredInsertItems );\n  };\n\n  var _remove = proto.remove;\n  proto.remove = function( elems ) {\n    elems = utils.makeArray( elems );\n    var removeItems = this.getItems( elems );\n    // do regular thing\n    _remove.call( this, elems );\n    // bail if no items to remove\n    var len = removeItems && removeItems.length;\n    // remove elems from filteredItems\n    for ( var i=0; len && i < len; i++ ) {\n      var item = removeItems[i];\n      // remove item from collection\n      utils.removeFrom( this.filteredItems, item );\n    }\n  };\n\n  proto.shuffle = function() {\n    // update random sortData\n    for ( var i=0; i < this.items.length; i++ ) {\n      var item = this.items[i];\n      item.sortData.random = Math.random();\n    }\n    this.options.sortBy = 'random';\n    this._sort();\n    this._layout();\n  };\n\n  /**\n   * trigger fn without transition\n   * kind of hacky to have this in the first place\n   * @param {Function} fn\n   * @param {Array} args\n   * @returns ret\n   * @private\n   */\n  proto._noTransition = function( fn, args ) {\n    // save transitionDuration before disabling\n    var transitionDuration = this.options.transitionDuration;\n    // disable transition\n    this.options.transitionDuration = 0;\n    // do it\n    var returnValue = fn.apply( this, args );\n    // re-enable transition for reveal\n    this.options.transitionDuration = transitionDuration;\n    return returnValue;\n  };\n\n  // ----- helper methods ----- //\n\n  /**\n   * getter method for getting filtered item elements\n   * @returns {Array} elems - collection of item elements\n   */\n  proto.getFilteredItemElements = function() {\n    return this.filteredItems.map( function( item ) {\n      return item.element;\n    });\n  };\n\n  // -----  ----- //\n\n  return Isotope;\n\n}));\n\n","/*!\n  * Stickyfill – `position: sticky` polyfill\n  * v. 2.0.3 | https://github.com/wilddeer/stickyfill\n  * MIT License\n  */\n\n;(function(window, document) {\n    'use strict';\n\n    /*\n     * 1. Check if the browser supports `position: sticky` natively or is too old to run the polyfill.\n     *    If either of these is the case set `seppuku` flag. It will be checked later to disable key features\n     *    of the polyfill, but the API will remain functional to avoid breaking things.\n     */\n\n    var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n    function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n    var seppuku = false;\n\n    // The polyfill cant’t function properly without `getComputedStyle`.\n    if (!window.getComputedStyle) seppuku = true;\n    // Dont’t get in a way if the browser supports `position: sticky` natively.\n    else {\n            (function () {\n                var testNode = document.createElement('div');\n\n                if (['', '-webkit-', '-moz-', '-ms-'].some(function (prefix) {\n                    try {\n                        testNode.style.position = prefix + 'sticky';\n                    } catch (e) {}\n\n                    return testNode.style.position != '';\n                })) seppuku = true;\n            })();\n        }\n\n    /*\n     * 2. “Global” vars used across the polyfill\n     */\n\n    // Check if Shadow Root constructor exists to make further checks simpler\n    var shadowRootExists = typeof ShadowRoot !== 'undefined';\n\n    // Last saved scroll position\n    var scroll = {\n        top: null,\n        left: null\n    };\n\n    // Array of created Sticky instances\n    var stickies = [];\n\n    /*\n     * 3. Utility functions\n     */\n    function extend(targetObj, sourceObject) {\n        for (var key in sourceObject) {\n            if (sourceObject.hasOwnProperty(key)) {\n                targetObj[key] = sourceObject[key];\n            }\n        }\n    }\n\n    function parseNumeric(val) {\n        return parseFloat(val) || 0;\n    }\n\n    function getDocOffsetTop(node) {\n        var docOffsetTop = 0;\n\n        while (node) {\n            docOffsetTop += node.offsetTop;\n            node = node.offsetParent;\n        }\n\n        return docOffsetTop;\n    }\n\n    /*\n     * 4. Sticky class\n     */\n\n    var Sticky = function () {\n        function Sticky(node) {\n            _classCallCheck(this, Sticky);\n\n            if (!(node instanceof HTMLElement)) throw new Error('First argument must be HTMLElement');\n            if (stickies.some(function (sticky) {\n                return sticky._node === node;\n            })) throw new Error('Stickyfill is already applied to this node');\n\n            this._node = node;\n            this._stickyMode = null;\n            this._active = false;\n\n            stickies.push(this);\n\n            this.refresh();\n        }\n\n        _createClass(Sticky, [{\n            key: 'refresh',\n            value: function refresh() {\n                if (seppuku || this._removed) return;\n                if (this._active) this._deactivate();\n\n                var node = this._node;\n\n                /*\n                 * 1. Save node computed props\n                 */\n                var nodeComputedStyle = getComputedStyle(node);\n                var nodeComputedProps = {\n                    top: nodeComputedStyle.top,\n                    display: nodeComputedStyle.display,\n                    marginTop: nodeComputedStyle.marginTop,\n                    marginBottom: nodeComputedStyle.marginBottom,\n                    marginLeft: nodeComputedStyle.marginLeft,\n                    marginRight: nodeComputedStyle.marginRight,\n                    cssFloat: nodeComputedStyle.cssFloat\n                };\n\n                /*\n                 * 2. Check if the node can be activated\n                 */\n                if (isNaN(parseFloat(nodeComputedProps.top)) || nodeComputedProps.display == 'table-cell' || nodeComputedProps.display == 'none') return;\n\n                this._active = true;\n\n                /*\n                 * 3. Get necessary node parameters\n                 */\n                var referenceNode = node.parentNode;\n                var parentNode = shadowRootExists && referenceNode instanceof ShadowRoot ? referenceNode.host : referenceNode;\n                var nodeWinOffset = node.getBoundingClientRect();\n                var parentWinOffset = parentNode.getBoundingClientRect();\n                var parentComputedStyle = getComputedStyle(parentNode);\n\n                this._parent = {\n                    node: parentNode,\n                    styles: {\n                        position: parentNode.style.position\n                    },\n                    offsetHeight: parentNode.offsetHeight\n                };\n                this._offsetToWindow = {\n                    left: nodeWinOffset.left,\n                    right: document.documentElement.clientWidth - nodeWinOffset.right\n                };\n                this._offsetToParent = {\n                    top: nodeWinOffset.top - parentWinOffset.top - parseNumeric(parentComputedStyle.borderTopWidth),\n                    left: nodeWinOffset.left - parentWinOffset.left - parseNumeric(parentComputedStyle.borderLeftWidth),\n                    right: -nodeWinOffset.right + parentWinOffset.right - parseNumeric(parentComputedStyle.borderRightWidth)\n                };\n                this._styles = {\n                    position: node.style.position,\n                    top: node.style.top,\n                    bottom: node.style.bottom,\n                    left: node.style.left,\n                    right: node.style.right,\n                    width: node.style.width,\n                    marginTop: node.style.marginTop,\n                    marginLeft: node.style.marginLeft,\n                    marginRight: node.style.marginRight\n                };\n\n                var nodeTopValue = parseNumeric(nodeComputedProps.top);\n                this._limits = {\n                    start: nodeWinOffset.top + window.pageYOffset - nodeTopValue,\n                    end: parentWinOffset.top + window.pageYOffset + parentNode.offsetHeight - parseNumeric(parentComputedStyle.borderBottomWidth) - node.offsetHeight - nodeTopValue - parseNumeric(nodeComputedProps.marginBottom)\n                };\n\n                /*\n                 * 4. Ensure that the node will be positioned relatively to the parent node\n                 */\n                var parentPosition = parentComputedStyle.position;\n\n                if (parentPosition != 'absolute' && parentPosition != 'relative') {\n                    parentNode.style.position = 'relative';\n                }\n\n                /*\n                 * 5. Recalc node position.\n                 *    It’s important to do this before clone injection to avoid scrolling bug in Chrome.\n                 */\n                this._recalcPosition();\n\n                /*\n                 * 6. Create a clone\n                 */\n                var clone = this._clone = {};\n                clone.node = document.createElement('div');\n\n                // Apply styles to the clone\n                extend(clone.node.style, {\n                    width: nodeWinOffset.right - nodeWinOffset.left + 'px',\n                    height: nodeWinOffset.bottom - nodeWinOffset.top + 'px',\n                    marginTop: nodeComputedProps.marginTop,\n                    marginBottom: nodeComputedProps.marginBottom,\n                    marginLeft: nodeComputedProps.marginLeft,\n                    marginRight: nodeComputedProps.marginRight,\n                    cssFloat: nodeComputedProps.cssFloat,\n                    padding: 0,\n                    border: 0,\n                    borderSpacing: 0,\n                    fontSize: '1em',\n                    position: 'static'\n                });\n\n                referenceNode.insertBefore(clone.node, node);\n                clone.docOffsetTop = getDocOffsetTop(clone.node);\n            }\n        }, {\n            key: '_recalcPosition',\n            value: function _recalcPosition() {\n                if (!this._active || this._removed) return;\n\n                var stickyMode = scroll.top <= this._limits.start ? 'start' : scroll.top >= this._limits.end ? 'end' : 'middle';\n\n                if (this._stickyMode == stickyMode) return;\n\n                switch (stickyMode) {\n                    case 'start':\n                        extend(this._node.style, {\n                            position: 'absolute',\n                            left: this._offsetToParent.left + 'px',\n                            right: this._offsetToParent.right + 'px',\n                            top: this._offsetToParent.top + 'px',\n                            bottom: 'auto',\n                            width: 'auto',\n                            marginLeft: 0,\n                            marginRight: 0,\n                            marginTop: 0\n                        });\n                        break;\n\n                    case 'middle':\n                        extend(this._node.style, {\n                            position: 'fixed',\n                            left: this._offsetToWindow.left + 'px',\n                            right: this._offsetToWindow.right + 'px',\n                            top: this._styles.top,\n                            bottom: 'auto',\n                            width: 'auto',\n                            marginLeft: 0,\n                            marginRight: 0,\n                            marginTop: 0\n                        });\n                        break;\n\n                    case 'end':\n                        extend(this._node.style, {\n                            position: 'absolute',\n                            left: this._offsetToParent.left + 'px',\n                            right: this._offsetToParent.right + 'px',\n                            top: 'auto',\n                            bottom: 0,\n                            width: 'auto',\n                            marginLeft: 0,\n                            marginRight: 0\n                        });\n                        break;\n                }\n\n                this._stickyMode = stickyMode;\n            }\n        }, {\n            key: '_fastCheck',\n            value: function _fastCheck() {\n                if (!this._active || this._removed) return;\n\n                if (Math.abs(getDocOffsetTop(this._clone.node) - this._clone.docOffsetTop) > 1 || Math.abs(this._parent.node.offsetHeight - this._parent.offsetHeight) > 1) this.refresh();\n            }\n        }, {\n            key: '_deactivate',\n            value: function _deactivate() {\n                var _this = this;\n\n                if (!this._active || this._removed) return;\n\n                this._clone.node.parentNode.removeChild(this._clone.node);\n                delete this._clone;\n\n                extend(this._node.style, this._styles);\n                delete this._styles;\n\n                // Check whether element’s parent node is used by other stickies.\n                // If not, restore parent node’s styles.\n                if (!stickies.some(function (sticky) {\n                    return sticky !== _this && sticky._parent && sticky._parent.node === _this._parent.node;\n                })) {\n                    extend(this._parent.node.style, this._parent.styles);\n                }\n                delete this._parent;\n\n                this._stickyMode = null;\n                this._active = false;\n\n                delete this._offsetToWindow;\n                delete this._offsetToParent;\n                delete this._limits;\n            }\n        }, {\n            key: 'remove',\n            value: function remove() {\n                var _this2 = this;\n\n                this._deactivate();\n\n                stickies.some(function (sticky, index) {\n                    if (sticky._node === _this2._node) {\n                        stickies.splice(index, 1);\n                        return true;\n                    }\n                });\n\n                this._removed = true;\n            }\n        }]);\n\n        return Sticky;\n    }();\n\n    /*\n     * 5. Stickyfill API\n     */\n\n\n    var Stickyfill = {\n        stickies: stickies,\n        Sticky: Sticky,\n\n        addOne: function addOne(node) {\n            // Check whether it’s a node\n            if (!(node instanceof HTMLElement)) {\n                // Maybe it’s a node list of some sort?\n                // Take first node from the list then\n                if (node.length && node[0]) node = node[0];else return;\n            }\n\n            // Check if Stickyfill is already applied to the node\n            // and return existing sticky\n            for (var i = 0; i < stickies.length; i++) {\n                if (stickies[i]._node === node) return stickies[i];\n            }\n\n            // Create and return new sticky\n            return new Sticky(node);\n        },\n        add: function add(nodeList) {\n            // If it’s a node make an array of one node\n            if (nodeList instanceof HTMLElement) nodeList = [nodeList];\n            // Check if the argument is an iterable of some sort\n            if (!nodeList.length) return;\n\n            // Add every element as a sticky and return an array of created Sticky instances\n            var addedStickies = [];\n\n            var _loop = function _loop(i) {\n                var node = nodeList[i];\n\n                // If it’s not an HTMLElement – create an empty element to preserve 1-to-1\n                // correlation with input list\n                if (!(node instanceof HTMLElement)) {\n                    addedStickies.push(void 0);\n                    return 'continue';\n                }\n\n                // If Stickyfill is already applied to the node\n                // add existing sticky\n                if (stickies.some(function (sticky) {\n                    if (sticky._node === node) {\n                        addedStickies.push(sticky);\n                        return true;\n                    }\n                })) return 'continue';\n\n                // Create and add new sticky\n                addedStickies.push(new Sticky(node));\n            };\n\n            for (var i = 0; i < nodeList.length; i++) {\n                var _ret2 = _loop(i);\n\n                if (_ret2 === 'continue') continue;\n            }\n\n            return addedStickies;\n        },\n        refreshAll: function refreshAll() {\n            stickies.forEach(function (sticky) {\n                return sticky.refresh();\n            });\n        },\n        removeOne: function removeOne(node) {\n            // Check whether it’s a node\n            if (!(node instanceof HTMLElement)) {\n                // Maybe it’s a node list of some sort?\n                // Take first node from the list then\n                if (node.length && node[0]) node = node[0];else return;\n            }\n\n            // Remove the stickies bound to the nodes in the list\n            stickies.some(function (sticky) {\n                if (sticky._node === node) {\n                    sticky.remove();\n                    return true;\n                }\n            });\n        },\n        remove: function remove(nodeList) {\n            // If it’s a node make an array of one node\n            if (nodeList instanceof HTMLElement) nodeList = [nodeList];\n            // Check if the argument is an iterable of some sort\n            if (!nodeList.length) return;\n\n            // Remove the stickies bound to the nodes in the list\n\n            var _loop2 = function _loop2(i) {\n                var node = nodeList[i];\n\n                stickies.some(function (sticky) {\n                    if (sticky._node === node) {\n                        sticky.remove();\n                        return true;\n                    }\n                });\n            };\n\n            for (var i = 0; i < nodeList.length; i++) {\n                _loop2(i);\n            }\n        },\n        removeAll: function removeAll() {\n            while (stickies.length) {\n                stickies[0].remove();\n            }\n        }\n    };\n\n    /*\n     * 6. Setup events (unless the polyfill was disabled)\n     */\n    function init() {\n        // Watch for scroll position changes and trigger recalc/refresh if needed\n        function checkScroll() {\n            if (window.pageXOffset != scroll.left) {\n                scroll.top = window.pageYOffset;\n                scroll.left = window.pageXOffset;\n\n                Stickyfill.refreshAll();\n            } else if (window.pageYOffset != scroll.top) {\n                scroll.top = window.pageYOffset;\n                scroll.left = window.pageXOffset;\n\n                // recalc position for all stickies\n                stickies.forEach(function (sticky) {\n                    return sticky._recalcPosition();\n                });\n            }\n        }\n\n        checkScroll();\n        window.addEventListener('scroll', checkScroll);\n\n        // Watch for window resizes and device orientation cahnges and trigger refresh\n        window.addEventListener('resize', Stickyfill.refreshAll);\n        window.addEventListener('orientationchange', Stickyfill.refreshAll);\n\n        //Fast dirty check for layout changes every 500ms\n        var fastCheckTimer = void 0;\n\n        function startFastCheckTimer() {\n            fastCheckTimer = setInterval(function () {\n                stickies.forEach(function (sticky) {\n                    return sticky._fastCheck();\n                });\n            }, 500);\n        }\n\n        function stopFastCheckTimer() {\n            clearInterval(fastCheckTimer);\n        }\n\n        var docHiddenKey = void 0;\n        var visibilityChangeEventName = void 0;\n\n        if ('hidden' in document) {\n            docHiddenKey = 'hidden';\n            visibilityChangeEventName = 'visibilitychange';\n        } else if ('webkitHidden' in document) {\n            docHiddenKey = 'webkitHidden';\n            visibilityChangeEventName = 'webkitvisibilitychange';\n        }\n\n        if (visibilityChangeEventName) {\n            if (!document[docHiddenKey]) startFastCheckTimer();\n\n            document.addEventListener(visibilityChangeEventName, function () {\n                if (document[docHiddenKey]) {\n                    stopFastCheckTimer();\n                } else {\n                    startFastCheckTimer();\n                }\n            });\n        } else startFastCheckTimer();\n    }\n\n    if (!seppuku) init();\n\n    /*\n     * 7. Expose Stickyfill\n     */\n    if (typeof module != 'undefined' && module.exports) {\n        module.exports = Stickyfill;\n    } else {\n        window.Stickyfill = Stickyfill;\n    }\n\n})(window, document);"]}